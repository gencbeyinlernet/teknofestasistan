(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=i(r);fetch(r.href,a)}})();function zc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function oS(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var i=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var r=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(i,s,r.get?r:{enumerable:!0,get:function(){return n[s]}})}),i}var ec={exports:{}},Rs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function sS(){if(sm)return Rs;sm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,r,a){var d=null;if(a!==void 0&&(d=""+a),r.key!==void 0&&(d=""+r.key),"key"in r){a={};for(var h in r)h!=="key"&&(a[h]=r[h])}else a=r;return r=a.ref,{$$typeof:n,type:s,key:d,ref:r!==void 0?r:null,props:a}}return Rs.Fragment=e,Rs.jsx=i,Rs.jsxs=i,Rs}var lm;function lS(){return lm||(lm=1,ec.exports=sS()),ec.exports}var T=lS(),tc={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function rS(){if(rm)return le;rm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,A={};function L(N,F,K){this.props=N,this.context=F,this.refs=A,this.updater=K||w}L.prototype.isReactComponent={},L.prototype.setState=function(N,F){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,F,"setState")},L.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function J(){}J.prototype=L.prototype;function V(N,F,K){this.props=N,this.context=F,this.refs=A,this.updater=K||w}var H=V.prototype=new J;H.constructor=V,I(H,L.prototype),H.isPureReactComponent=!0;var O=Array.isArray;function ee(){}var Y={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function Q(N,F,K){var Z=K.ref;return{$$typeof:n,type:N,key:F,ref:Z!==void 0?Z:null,props:K}}function de(N,F){return Q(N.type,F,N.props)}function be(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function Ne(N){var F={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(K){return F[K]})}var He=/\/+/g;function Le(N,F){return typeof N=="object"&&N!==null&&N.key!=null?Ne(""+N.key):F.toString(36)}function Qe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ee,ee):(N.status="pending",N.then(function(F){N.status==="pending"&&(N.status="fulfilled",N.value=F)},function(F){N.status==="pending"&&(N.status="rejected",N.reason=F)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function z(N,F,K,Z,re){var he=typeof N;(he==="undefined"||he==="boolean")&&(N=null);var we=!1;if(N===null)we=!0;else switch(he){case"bigint":case"string":case"number":we=!0;break;case"object":switch(N.$$typeof){case n:case e:we=!0;break;case y:return we=N._init,z(we(N._payload),F,K,Z,re)}}if(we)return re=re(N),we=Z===""?"."+Le(N,0):Z,O(re)?(K="",we!=null&&(K=we.replace(He,"$&/")+"/"),z(re,F,K,"",function(Lo){return Lo})):re!=null&&(be(re)&&(re=de(re,K+(re.key==null||N&&N.key===re.key?"":(""+re.key).replace(He,"$&/")+"/")+we)),F.push(re)),1;we=0;var dt=Z===""?".":Z+":";if(O(N))for(var Ve=0;Ve<N.length;Ve++)Z=N[Ve],he=dt+Le(Z,Ve),we+=z(Z,F,K,he,re);else if(Ve=b(N),typeof Ve=="function")for(N=Ve.call(N),Ve=0;!(Z=N.next()).done;)Z=Z.value,he=dt+Le(Z,Ve++),we+=z(Z,F,K,he,re);else if(he==="object"){if(typeof N.then=="function")return z(Qe(N),F,K,Z,re);throw F=String(N),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return we}function $(N,F,K){if(N==null)return N;var Z=[],re=0;return z(N,Z,"","",function(he){return F.call(K,he,re++)}),Z}function te(N){if(N._status===-1){var F=N._result;F=F(),F.then(function(K){(N._status===0||N._status===-1)&&(N._status=1,N._result=K)},function(K){(N._status===0||N._status===-1)&&(N._status=2,N._result=K)}),N._status===-1&&(N._status=0,N._result=F)}if(N._status===1)return N._result.default;throw N._result}var Se=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},De={map:$,forEach:function(N,F,K){$(N,function(){F.apply(this,arguments)},K)},count:function(N){var F=0;return $(N,function(){F++}),F},toArray:function(N){return $(N,function(F){return F})||[]},only:function(N){if(!be(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return le.Activity=_,le.Children=De,le.Component=L,le.Fragment=i,le.Profiler=r,le.PureComponent=V,le.StrictMode=s,le.Suspense=g,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,le.__COMPILER_RUNTIME={__proto__:null,c:function(N){return Y.H.useMemoCache(N)}},le.cache=function(N){return function(){return N.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(N,F,K){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Z=I({},N.props),re=N.key;if(F!=null)for(he in F.key!==void 0&&(re=""+F.key),F)!ue.call(F,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&F.ref===void 0||(Z[he]=F[he]);var he=arguments.length-2;if(he===1)Z.children=K;else if(1<he){for(var we=Array(he),dt=0;dt<he;dt++)we[dt]=arguments[dt+2];Z.children=we}return Q(N.type,re,Z)},le.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:a,_context:N},N},le.createElement=function(N,F,K){var Z,re={},he=null;if(F!=null)for(Z in F.key!==void 0&&(he=""+F.key),F)ue.call(F,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(re[Z]=F[Z]);var we=arguments.length-2;if(we===1)re.children=K;else if(1<we){for(var dt=Array(we),Ve=0;Ve<we;Ve++)dt[Ve]=arguments[Ve+2];re.children=dt}if(N&&N.defaultProps)for(Z in we=N.defaultProps,we)re[Z]===void 0&&(re[Z]=we[Z]);return Q(N,he,re)},le.createRef=function(){return{current:null}},le.forwardRef=function(N){return{$$typeof:h,render:N}},le.isValidElement=be,le.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:te}},le.memo=function(N,F){return{$$typeof:m,type:N,compare:F===void 0?null:F}},le.startTransition=function(N){var F=Y.T,K={};Y.T=K;try{var Z=N(),re=Y.S;re!==null&&re(K,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ee,Se)}catch(he){Se(he)}finally{F!==null&&K.types!==null&&(F.types=K.types),Y.T=F}},le.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},le.use=function(N){return Y.H.use(N)},le.useActionState=function(N,F,K){return Y.H.useActionState(N,F,K)},le.useCallback=function(N,F){return Y.H.useCallback(N,F)},le.useContext=function(N){return Y.H.useContext(N)},le.useDebugValue=function(){},le.useDeferredValue=function(N,F){return Y.H.useDeferredValue(N,F)},le.useEffect=function(N,F){return Y.H.useEffect(N,F)},le.useEffectEvent=function(N){return Y.H.useEffectEvent(N)},le.useId=function(){return Y.H.useId()},le.useImperativeHandle=function(N,F,K){return Y.H.useImperativeHandle(N,F,K)},le.useInsertionEffect=function(N,F){return Y.H.useInsertionEffect(N,F)},le.useLayoutEffect=function(N,F){return Y.H.useLayoutEffect(N,F)},le.useMemo=function(N,F){return Y.H.useMemo(N,F)},le.useOptimistic=function(N,F){return Y.H.useOptimistic(N,F)},le.useReducer=function(N,F,K){return Y.H.useReducer(N,F,K)},le.useRef=function(N){return Y.H.useRef(N)},le.useState=function(N){return Y.H.useState(N)},le.useSyncExternalStore=function(N,F,K){return Y.H.useSyncExternalStore(N,F,K)},le.useTransition=function(){return Y.H.useTransition()},le.version="19.2.4",le}var am;function Hc(){return am||(am=1,tc.exports=rS()),tc.exports}var oe=Hc();const aS=zc(oe);var nc={exports:{}},Ns={},ic={exports:{}},oc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function uS(){return um||(um=1,(function(n){function e(z,$){var te=z.length;z.push($);e:for(;0<te;){var Se=te-1>>>1,De=z[Se];if(0<r(De,$))z[Se]=$,z[te]=De,te=Se;else break e}}function i(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var $=z[0],te=z.pop();if(te!==$){z[0]=te;e:for(var Se=0,De=z.length,N=De>>>1;Se<N;){var F=2*(Se+1)-1,K=z[F],Z=F+1,re=z[Z];if(0>r(K,te))Z<De&&0>r(re,K)?(z[Se]=re,z[Z]=te,Se=Z):(z[Se]=K,z[F]=te,Se=F);else if(Z<De&&0>r(re,te))z[Se]=re,z[Z]=te,Se=Z;else break e}}return $}function r(z,$){var te=z.sortIndex-$.sortIndex;return te!==0?te:z.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var g=[],m=[],y=1,_=null,S=3,b=!1,w=!1,I=!1,A=!1,L=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function H(z){for(var $=i(m);$!==null;){if($.callback===null)s(m);else if($.startTime<=z)s(m),$.sortIndex=$.expirationTime,e(g,$);else break;$=i(m)}}function O(z){if(I=!1,H(z),!w)if(i(g)!==null)w=!0,ee||(ee=!0,Ne());else{var $=i(m);$!==null&&Qe(O,$.startTime-z)}}var ee=!1,Y=-1,ue=5,Q=-1;function de(){return A?!0:!(n.unstable_now()-Q<ue)}function be(){if(A=!1,ee){var z=n.unstable_now();Q=z;var $=!0;try{e:{w=!1,I&&(I=!1,J(Y),Y=-1),b=!0;var te=S;try{t:{for(H(z),_=i(g);_!==null&&!(_.expirationTime>z&&de());){var Se=_.callback;if(typeof Se=="function"){_.callback=null,S=_.priorityLevel;var De=Se(_.expirationTime<=z);if(z=n.unstable_now(),typeof De=="function"){_.callback=De,H(z),$=!0;break t}_===i(g)&&s(g),H(z)}else s(g);_=i(g)}if(_!==null)$=!0;else{var N=i(m);N!==null&&Qe(O,N.startTime-z),$=!1}}break e}finally{_=null,S=te,b=!1}$=void 0}}finally{$?Ne():ee=!1}}}var Ne;if(typeof V=="function")Ne=function(){V(be)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,Le=He.port2;He.port1.onmessage=be,Ne=function(){Le.postMessage(null)}}else Ne=function(){L(be,0)};function Qe(z,$){Y=L(function(){z(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(z){switch(S){case 1:case 2:case 3:var $=3;break;default:$=S}var te=S;S=$;try{return z()}finally{S=te}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=S;S=z;try{return $()}finally{S=te}},n.unstable_scheduleCallback=function(z,$,te){var Se=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Se+te:Se):te=Se,z){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=te+De,z={id:y++,callback:$,priorityLevel:z,startTime:te,expirationTime:De,sortIndex:-1},te>Se?(z.sortIndex=te,e(m,z),i(g)===null&&z===i(m)&&(I?(J(Y),Y=-1):I=!0,Qe(O,te-Se))):(z.sortIndex=De,e(g,z),w||b||(w=!0,ee||(ee=!0,Ne()))),z},n.unstable_shouldYield=de,n.unstable_wrapCallback=function(z){var $=S;return function(){var te=S;S=$;try{return z.apply(this,arguments)}finally{S=te}}}})(oc)),oc}var cm;function cS(){return cm||(cm=1,ic.exports=uS()),ic.exports}var sc={exports:{}},at={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function dS(){if(dm)return at;dm=1;var n=Hc();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(g,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:g,containerInfo:m,implementation:y}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return at.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,at.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return a(g,m,null,y)},at.flushSync=function(g){var m=d.T,y=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=m,s.p=y,s.d.f()}},at.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(g,m))},at.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},at.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:b}):y==="script"&&s.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},at.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);s.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(g)},at.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);s.d.L(g,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},at.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=h(m.as,m.crossOrigin);s.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(g)},at.requestFormReset=function(g){s.d.r(g)},at.unstable_batchedUpdates=function(g,m){return g(m)},at.useFormState=function(g,m,y){return d.H.useFormState(g,m,y)},at.useFormStatus=function(){return d.H.useHostTransitionStatus()},at.version="19.2.4",at}var fm;function fS(){if(fm)return sc.exports;fm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sc.exports=dS(),sc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function hS(){if(hm)return Ns;hm=1;var n=cS(),e=Hc(),i=fS();function s(t){var o="https://react.dev/errors/"+t;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function a(t){var o=t,l=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,(o.flags&4098)!==0&&(l=o.return),t=o.return;while(t)}return o.tag===3?l:null}function d(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function h(t){if(t.tag===31){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function g(t){if(a(t)!==t)throw Error(s(188))}function m(t){var o=t.alternate;if(!o){if(o=a(t),o===null)throw Error(s(188));return o!==t?null:t}for(var l=t,u=o;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return g(p),t;if(v===u)return g(p),o;v=v.sibling}throw Error(s(188))}if(l.return!==u.return)l=p,u=v;else{for(var E=!1,x=p.child;x;){if(x===l){E=!0,l=p,u=v;break}if(x===u){E=!0,u=p,l=v;break}x=x.sibling}if(!E){for(x=v.child;x;){if(x===l){E=!0,l=v,u=p;break}if(x===u){E=!0,u=v,l=p;break}x=x.sibling}if(!E)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?t:o}function y(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t;for(t=t.child;t!==null;){if(o=y(t),o!==null)return o;t=t.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),V=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function Ne(t){return t===null||typeof t!="object"?null:(t=be&&t[be]||t["@@iterator"],typeof t=="function"?t:null)}var He=Symbol.for("react.client.reference");function Le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===He?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case L:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case ee:return"SuspenseList";case Q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case V:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case H:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return o=t.displayName||null,o!==null?o:Le(t.type)||"Memo";case ue:o=t._payload,t=t._init;try{return Le(t(o))}catch{}}return null}var Qe=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Se=[],De=-1;function N(t){return{current:t}}function F(t){0>De||(t.current=Se[De],Se[De]=null,De--)}function K(t,o){De++,Se[De]=t.current,t.current=o}var Z=N(null),re=N(null),he=N(null),we=N(null);function dt(t,o){switch(K(he,o),K(re,t),K(Z,null),o.nodeType){case 9:case 11:t=(t=o.documentElement)&&(t=t.namespaceURI)?Rp(t):0;break;default:if(t=o.tagName,o=o.namespaceURI)o=Rp(o),t=Np(o,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(Z),K(Z,t)}function Ve(){F(Z),F(re),F(he)}function Lo(t){t.memoizedState!==null&&K(we,t);var o=Z.current,l=Np(o,t.type);o!==l&&(K(re,t),K(Z,l))}function Vs(t){re.current===t&&(F(Z),F(re)),we.current===t&&(F(we),bs._currentValue=te)}var Pr,id;function oi(t){if(Pr===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);Pr=o&&o[1]||"",id=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pr+t+id}var Or=!1;function Gr(t,o){if(!t||Or)return"";Or=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(o){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(P){var U=P}Reflect.construct(t,[],B)}else{try{B.call()}catch(P){U=P}t.call(B.prototype)}}else{try{throw Error()}catch(P){U=P}(B=t())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(P){if(P&&U&&typeof P.stack=="string")return[P.stack,U.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),E=v[0],x=v[1];if(E&&x){var C=E.split(`
`),D=x.split(`
`);for(p=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;p<D.length&&!D[p].includes("DetermineComponentFrameRoot");)p++;if(u===C.length||p===D.length)for(u=C.length-1,p=D.length-1;1<=u&&0<=p&&C[u]!==D[p];)p--;for(;1<=u&&0<=p;u--,p--)if(C[u]!==D[p]){if(u!==1||p!==1)do if(u--,p--,0>p||C[u]!==D[p]){var G=`
`+C[u].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=u&&0<=p);break}}}finally{Or=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?oi(l):""}function Lv(t,o){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return t.child!==o&&o!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return Gr(t.type,!1);case 11:return Gr(t.type.render,!1);case 1:return Gr(t.type,!0);case 31:return oi("Activity");default:return""}}function od(t){try{var o="",l=null;do o+=Lv(t,l),l=t,t=t.return;while(t);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var zr=Object.prototype.hasOwnProperty,Hr=n.unstable_scheduleCallback,qr=n.unstable_cancelCallback,Pv=n.unstable_shouldYield,Ov=n.unstable_requestPaint,xt=n.unstable_now,Gv=n.unstable_getCurrentPriorityLevel,sd=n.unstable_ImmediatePriority,ld=n.unstable_UserBlockingPriority,Fs=n.unstable_NormalPriority,zv=n.unstable_LowPriority,rd=n.unstable_IdlePriority,Hv=n.log,qv=n.unstable_setDisableYieldValue,Po=null,bt=null;function Cn(t){if(typeof Hv=="function"&&qv(t),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Po,t)}catch{}}var At=Math.clz32?Math.clz32:Fv,Bv=Math.log,Vv=Math.LN2;function Fv(t){return t>>>=0,t===0?32:31-(Bv(t)/Vv|0)|0}var Js=256,Ys=262144,$s=4194304;function si(t){var o=t&42;if(o!==0)return o;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function js(t,o,l){var u=t.pendingLanes;if(u===0)return 0;var p=0,v=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var x=u&134217727;return x!==0?(u=x&~v,u!==0?p=si(u):(E&=x,E!==0?p=si(E):l||(l=x&~t,l!==0&&(p=si(l))))):(x=u&~v,x!==0?p=si(x):E!==0?p=si(E):l||(l=u&~t,l!==0&&(p=si(l)))),p===0?0:o!==0&&o!==p&&(o&v)===0&&(v=p&-p,l=o&-o,v>=l||v===32&&(l&4194048)!==0)?o:p}function Oo(t,o){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&o)===0}function Jv(t,o){switch(t){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ad(){var t=$s;return $s<<=1,($s&62914560)===0&&($s=4194304),t}function Br(t){for(var o=[],l=0;31>l;l++)o.push(t);return o}function Go(t,o){t.pendingLanes|=o,o!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yv(t,o,l,u,p,v){var E=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var x=t.entanglements,C=t.expirationTimes,D=t.hiddenUpdates;for(l=E&~l;0<l;){var G=31-At(l),B=1<<G;x[G]=0,C[G]=-1;var U=D[G];if(U!==null)for(D[G]=null,G=0;G<U.length;G++){var P=U[G];P!==null&&(P.lane&=-536870913)}l&=~B}u!==0&&ud(t,u,0),v!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=v&~(E&~o))}function ud(t,o,l){t.pendingLanes|=o,t.suspendedLanes&=~o;var u=31-At(o);t.entangledLanes|=o,t.entanglements[u]=t.entanglements[u]|1073741824|l&261930}function cd(t,o){var l=t.entangledLanes|=o;for(t=t.entanglements;l;){var u=31-At(l),p=1<<u;p&o|t[u]&o&&(t[u]|=o),l&=~p}}function dd(t,o){var l=o&-o;return l=(l&42)!==0?1:Vr(l),(l&(t.suspendedLanes|o))!==0?0:l}function Vr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fd(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:Zp(t.type))}function hd(t,o){var l=$.p;try{return $.p=t,o()}finally{$.p=l}}var Rn=Math.random().toString(36).slice(2),nt="__reactFiber$"+Rn,mt="__reactProps$"+Rn,Mi="__reactContainer$"+Rn,Jr="__reactEvents$"+Rn,$v="__reactListeners$"+Rn,jv="__reactHandles$"+Rn,pd="__reactResources$"+Rn,zo="__reactMarker$"+Rn;function Yr(t){delete t[nt],delete t[mt],delete t[Jr],delete t[$v],delete t[jv]}function Ii(t){var o=t[nt];if(o)return o;for(var l=t.parentNode;l;){if(o=l[Mi]||l[nt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(t=Pp(t);t!==null;){if(l=t[nt])return l;t=Pp(t)}return o}t=l,l=t.parentNode}return null}function ki(t){if(t=t[nt]||t[Mi]){var o=t.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return t}return null}function Ho(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t.stateNode;throw Error(s(33))}function Di(t){var o=t[pd];return o||(o=t[pd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ze(t){t[zo]=!0}var md=new Set,gd={};function li(t,o){Ui(t,o),Ui(t+"Capture",o)}function Ui(t,o){for(gd[t]=o,t=0;t<o.length;t++)md.add(o[t])}var Kv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vd={},yd={};function Xv(t){return zr.call(yd,t)?!0:zr.call(vd,t)?!1:Kv.test(t)?yd[t]=!0:(vd[t]=!0,!1)}function Ks(t,o,l){if(Xv(o))if(l===null)t.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(o);return;case"boolean":var u=o.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(o);return}}t.setAttribute(o,""+l)}}function Xs(t,o,l){if(l===null)t.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttribute(o,""+l)}}function ln(t,o,l,u){if(u===null)t.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(o,l,""+u)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _d(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Qv(t,o,l){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,o);if(!t.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,v=u.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return p.call(this)},set:function(E){l=""+E,v.call(this,E)}}),Object.defineProperty(t,o,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function $r(t){if(!t._valueTracker){var o=_d(t)?"checked":"value";t._valueTracker=Qv(t,o,""+t[o])}}function Sd(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var l=o.getValue(),u="";return t&&(u=_d(t)?t.checked?"true":"false":t.value),t=u,t!==l?(o.setValue(t),!0):!1}function Qs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Zv=/[\n"\\]/g;function Pt(t){return t.replace(Zv,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function jr(t,o,l,u,p,v,E,x){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),o!=null?E==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+Lt(o)):t.value!==""+Lt(o)&&(t.value=""+Lt(o)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),o!=null?Kr(t,E,Lt(o)):l!=null?Kr(t,E,Lt(l)):u!=null&&t.removeAttribute("value"),p==null&&v!=null&&(t.defaultChecked=!!v),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Lt(x):t.removeAttribute("name")}function Td(t,o,l,u,p,v,E,x){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),o!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||o!=null)){$r(t);return}l=l!=null?""+Lt(l):"",o=o!=null?""+Lt(o):l,x||o===t.value||(t.value=o),t.defaultValue=o}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=x?t.checked:!!u,t.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),$r(t)}function Kr(t,o,l){o==="number"&&Qs(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Li(t,o,l,u){if(t=t.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<t.length;l++)p=o.hasOwnProperty("$"+t[l].value),t[l].selected!==p&&(t[l].selected=p),p&&u&&(t[l].defaultSelected=!0)}else{for(l=""+Lt(l),o=null,p=0;p<t.length;p++){if(t[p].value===l){t[p].selected=!0,u&&(t[p].defaultSelected=!0);return}o!==null||t[p].disabled||(o=t[p])}o!==null&&(o.selected=!0)}}function Ed(t,o,l){if(o!=null&&(o=""+Lt(o),o!==t.value&&(t.value=o),l==null)){t.defaultValue!==o&&(t.defaultValue=o);return}t.defaultValue=l!=null?""+Lt(l):""}function xd(t,o,l,u){if(o==null){if(u!=null){if(l!=null)throw Error(s(92));if(Qe(u)){if(1<u.length)throw Error(s(93));u=u[0]}l=u}l==null&&(l=""),o=l}l=Lt(o),t.defaultValue=l,u=t.textContent,u===l&&u!==""&&u!==null&&(t.value=u),$r(t)}function Pi(t,o){if(o){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=o;return}}t.textContent=o}var Wv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bd(t,o,l){var u=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="":u?t.setProperty(o,l):typeof l!="number"||l===0||Wv.has(o)?o==="float"?t.cssFloat=l:t[o]=(""+l).trim():t[o]=l+"px"}function Ad(t,o,l){if(o!=null&&typeof o!="object")throw Error(s(62));if(t=t.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||o!=null&&o.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var p in o)u=o[p],o.hasOwnProperty(p)&&l[p]!==u&&bd(t,p,u)}else for(var v in o)o.hasOwnProperty(v)&&bd(t,v,o[v])}function Xr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ey=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ty=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zs(t){return ty.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function rn(){}var Qr=null;function Zr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oi=null,Gi=null;function wd(t){var o=ki(t);if(o&&(t=o.stateNode)){var l=t[mt]||null;e:switch(t=o.stateNode,o.type){case"input":if(jr(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Pt(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var u=l[o];if(u!==t&&u.form===t.form){var p=u[mt]||null;if(!p)throw Error(s(90));jr(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<l.length;o++)u=l[o],u.form===t.form&&Sd(u)}break e;case"textarea":Ed(t,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Li(t,!!l.multiple,o,!1)}}}var Wr=!1;function Cd(t,o,l){if(Wr)return t(o,l);Wr=!0;try{var u=t(o);return u}finally{if(Wr=!1,(Oi!==null||Gi!==null)&&(zl(),Oi&&(o=Oi,t=Gi,Gi=Oi=null,wd(o),t)))for(o=0;o<t.length;o++)wd(t[o])}}function qo(t,o){var l=t.stateNode;if(l===null)return null;var u=l[mt]||null;if(u===null)return null;l=u[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(s(231,o,typeof l));return l}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ea=!1;if(an)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){ea=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{ea=!1}var Nn=null,ta=null,Ws=null;function Rd(){if(Ws)return Ws;var t,o=ta,l=o.length,u,p="value"in Nn?Nn.value:Nn.textContent,v=p.length;for(t=0;t<l&&o[t]===p[t];t++);var E=l-t;for(u=1;u<=E&&o[l-u]===p[v-u];u++);return Ws=p.slice(t,1<u?1-u:void 0)}function el(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function tl(){return!0}function Nd(){return!1}function gt(t){function o(l,u,p,v,E){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(l=t[x],this[x]=l?l(v):v[x]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?tl:Nd,this.isPropagationStopped=Nd,this}return _(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),o}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=gt(ri),Vo=_({},ri,{view:0,detail:0}),ny=gt(Vo),na,ia,Fo,il=_({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fo&&(Fo&&t.type==="mousemove"?(na=t.screenX-Fo.screenX,ia=t.screenY-Fo.screenY):ia=na=0,Fo=t),na)},movementY:function(t){return"movementY"in t?t.movementY:ia}}),Md=gt(il),iy=_({},il,{dataTransfer:0}),oy=gt(iy),sy=_({},Vo,{relatedTarget:0}),oa=gt(sy),ly=_({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),ry=gt(ly),ay=_({},ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uy=gt(ay),cy=_({},ri,{data:0}),Id=gt(cy),dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function py(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=hy[t])?!!o[t]:!1}function sa(){return py}var my=_({},Vo,{key:function(t){if(t.key){var o=dy[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=el(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(t){return t.type==="keypress"?el(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?el(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gy=gt(my),vy=_({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kd=gt(vy),yy=_({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),_y=gt(yy),Sy=_({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ty=gt(Sy),Ey=_({},il,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xy=gt(Ey),by=_({},ri,{newState:0,oldState:0}),Ay=gt(by),wy=[9,13,27,32],la=an&&"CompositionEvent"in window,Jo=null;an&&"documentMode"in document&&(Jo=document.documentMode);var Cy=an&&"TextEvent"in window&&!Jo,Dd=an&&(!la||Jo&&8<Jo&&11>=Jo),Ud=" ",Ld=!1;function Pd(t,o){switch(t){case"keyup":return wy.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Od(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zi=!1;function Ry(t,o){switch(t){case"compositionend":return Od(o);case"keypress":return o.which!==32?null:(Ld=!0,Ud);case"textInput":return t=o.data,t===Ud&&Ld?null:t;default:return null}}function Ny(t,o){if(zi)return t==="compositionend"||!la&&Pd(t,o)?(t=Rd(),Ws=ta=Nn=null,zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Dd&&o.locale!=="ko"?null:o.data;default:return null}}var My={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gd(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!My[t.type]:o==="textarea"}function zd(t,o,l,u){Oi?Gi?Gi.push(u):Gi=[u]:Oi=u,o=Yl(o,"onChange"),0<o.length&&(l=new nl("onChange","change",null,l,u),t.push({event:l,listeners:o}))}var Yo=null,$o=null;function Iy(t){Ep(t,0)}function ol(t){var o=Ho(t);if(Sd(o))return t}function Hd(t,o){if(t==="change")return o}var qd=!1;if(an){var ra;if(an){var aa="oninput"in document;if(!aa){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),aa=typeof Bd.oninput=="function"}ra=aa}else ra=!1;qd=ra&&(!document.documentMode||9<document.documentMode)}function Vd(){Yo&&(Yo.detachEvent("onpropertychange",Fd),$o=Yo=null)}function Fd(t){if(t.propertyName==="value"&&ol($o)){var o=[];zd(o,$o,t,Zr(t)),Cd(Iy,o)}}function ky(t,o,l){t==="focusin"?(Vd(),Yo=o,$o=l,Yo.attachEvent("onpropertychange",Fd)):t==="focusout"&&Vd()}function Dy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ol($o)}function Uy(t,o){if(t==="click")return ol(o)}function Ly(t,o){if(t==="input"||t==="change")return ol(o)}function Py(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var wt=typeof Object.is=="function"?Object.is:Py;function jo(t,o){if(wt(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var l=Object.keys(t),u=Object.keys(o);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!zr.call(o,p)||!wt(t[p],o[p]))return!1}return!0}function Jd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yd(t,o){var l=Jd(t);t=0;for(var u;l;){if(l.nodeType===3){if(u=t+l.textContent.length,t<=o&&u>=o)return{node:l,offset:o-t};t=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jd(l)}}function $d(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?$d(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var o=Qs(t.document);o instanceof t.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)t=o.contentWindow;else break;o=Qs(t.document)}return o}function ua(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}var Oy=an&&"documentMode"in document&&11>=document.documentMode,Hi=null,ca=null,Ko=null,da=!1;function Kd(t,o,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;da||Hi==null||Hi!==Qs(u)||(u=Hi,"selectionStart"in u&&ua(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ko&&jo(Ko,u)||(Ko=u,u=Yl(ca,"onSelect"),0<u.length&&(o=new nl("onSelect","select",null,o,l),t.push({event:o,listeners:u}),o.target=Hi)))}function ai(t,o){var l={};return l[t.toLowerCase()]=o.toLowerCase(),l["Webkit"+t]="webkit"+o,l["Moz"+t]="moz"+o,l}var qi={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionrun:ai("Transition","TransitionRun"),transitionstart:ai("Transition","TransitionStart"),transitioncancel:ai("Transition","TransitionCancel"),transitionend:ai("Transition","TransitionEnd")},fa={},Xd={};an&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function ui(t){if(fa[t])return fa[t];if(!qi[t])return t;var o=qi[t],l;for(l in o)if(o.hasOwnProperty(l)&&l in Xd)return fa[t]=o[l];return t}var Qd=ui("animationend"),Zd=ui("animationiteration"),Wd=ui("animationstart"),Gy=ui("transitionrun"),zy=ui("transitionstart"),Hy=ui("transitioncancel"),ef=ui("transitionend"),tf=new Map,ha="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ha.push("scrollEnd");function $t(t,o){tf.set(t,o),li(o,[t])}var sl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ot=[],Bi=0,pa=0;function ll(){for(var t=Bi,o=pa=Bi=0;o<t;){var l=Ot[o];Ot[o++]=null;var u=Ot[o];Ot[o++]=null;var p=Ot[o];Ot[o++]=null;var v=Ot[o];if(Ot[o++]=null,u!==null&&p!==null){var E=u.pending;E===null?p.next=p:(p.next=E.next,E.next=p),u.pending=p}v!==0&&nf(l,p,v)}}function rl(t,o,l,u){Ot[Bi++]=t,Ot[Bi++]=o,Ot[Bi++]=l,Ot[Bi++]=u,pa|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function ma(t,o,l,u){return rl(t,o,l,u),al(t)}function ci(t,o){return rl(t,null,null,o),al(t)}function nf(t,o,l){t.lanes|=l;var u=t.alternate;u!==null&&(u.lanes|=l);for(var p=!1,v=t.return;v!==null;)v.childLanes|=l,u=v.alternate,u!==null&&(u.childLanes|=l),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(p=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,p&&o!==null&&(p=31-At(l),t=v.hiddenUpdates,u=t[p],u===null?t[p]=[o]:u.push(o),o.lane=l|536870912),v):null}function al(t){if(50<vs)throw vs=0,bu=null,Error(s(185));for(var o=t.return;o!==null;)t=o,o=t.return;return t.tag===3?t.stateNode:null}var Vi={};function qy(t,o,l,u){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(t,o,l,u){return new qy(t,o,l,u)}function ga(t){return t=t.prototype,!(!t||!t.isReactComponent)}function un(t,o){var l=t.alternate;return l===null?(l=Ct(t.tag,o,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=o,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,o=t.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function of(t,o){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=o,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,o=l.dependencies,t.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),t}function ul(t,o,l,u,p,v){var E=0;if(u=t,typeof t=="function")ga(t)&&(E=1);else if(typeof t=="string")E=Y_(t,l,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Q:return t=Ct(31,l,o,p),t.elementType=Q,t.lanes=v,t;case I:return di(l.children,p,v,o);case A:E=8,p|=24;break;case L:return t=Ct(12,l,o,p|2),t.elementType=L,t.lanes=v,t;case O:return t=Ct(13,l,o,p),t.elementType=O,t.lanes=v,t;case ee:return t=Ct(19,l,o,p),t.elementType=ee,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:E=10;break e;case J:E=9;break e;case H:E=11;break e;case Y:E=14;break e;case ue:E=16,u=null;break e}E=29,l=Error(s(130,t===null?"null":typeof t,"")),u=null}return o=Ct(E,l,o,p),o.elementType=t,o.type=u,o.lanes=v,o}function di(t,o,l,u){return t=Ct(7,t,u,o),t.lanes=l,t}function va(t,o,l){return t=Ct(6,t,null,o),t.lanes=l,t}function sf(t){var o=Ct(18,null,null,0);return o.stateNode=t,o}function ya(t,o,l){return o=Ct(4,t.children!==null?t.children:[],t.key,o),o.lanes=l,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}var lf=new WeakMap;function Gt(t,o){if(typeof t=="object"&&t!==null){var l=lf.get(t);return l!==void 0?l:(o={value:t,source:o,stack:od(o)},lf.set(t,o),o)}return{value:t,source:o,stack:od(o)}}var Fi=[],Ji=0,cl=null,Xo=0,zt=[],Ht=0,Mn=null,tn=1,nn="";function cn(t,o){Fi[Ji++]=Xo,Fi[Ji++]=cl,cl=t,Xo=o}function rf(t,o,l){zt[Ht++]=tn,zt[Ht++]=nn,zt[Ht++]=Mn,Mn=t;var u=tn;t=nn;var p=32-At(u)-1;u&=~(1<<p),l+=1;var v=32-At(o)+p;if(30<v){var E=p-p%5;v=(u&(1<<E)-1).toString(32),u>>=E,p-=E,tn=1<<32-At(o)+p|l<<p|u,nn=v+t}else tn=1<<v|l<<p|u,nn=t}function _a(t){t.return!==null&&(cn(t,1),rf(t,1,0))}function Sa(t){for(;t===cl;)cl=Fi[--Ji],Fi[Ji]=null,Xo=Fi[--Ji],Fi[Ji]=null;for(;t===Mn;)Mn=zt[--Ht],zt[Ht]=null,nn=zt[--Ht],zt[Ht]=null,tn=zt[--Ht],zt[Ht]=null}function af(t,o){zt[Ht++]=tn,zt[Ht++]=nn,zt[Ht++]=Mn,tn=o.id,nn=o.overflow,Mn=t}var it=null,Oe=null,ye=!1,In=null,qt=!1,Ta=Error(s(519));function kn(t){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(Gt(o,t)),Ta}function uf(t){var o=t.stateNode,l=t.type,u=t.memoizedProps;switch(o[nt]=t,o[mt]=u,l){case"dialog":me("cancel",o),me("close",o);break;case"iframe":case"object":case"embed":me("load",o);break;case"video":case"audio":for(l=0;l<_s.length;l++)me(_s[l],o);break;case"source":me("error",o);break;case"img":case"image":case"link":me("error",o),me("load",o);break;case"details":me("toggle",o);break;case"input":me("invalid",o),Td(o,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":me("invalid",o);break;case"textarea":me("invalid",o),xd(o,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||u.suppressHydrationWarning===!0||wp(o.textContent,l)?(u.popover!=null&&(me("beforetoggle",o),me("toggle",o)),u.onScroll!=null&&me("scroll",o),u.onScrollEnd!=null&&me("scrollend",o),u.onClick!=null&&(o.onclick=rn),o=!0):o=!1,o||kn(t,!0)}function cf(t){for(it=t.return;it;)switch(it.tag){case 5:case 31:case 13:qt=!1;return;case 27:case 3:qt=!0;return;default:it=it.return}}function Yi(t){if(t!==it)return!1;if(!ye)return cf(t),ye=!0,!1;var o=t.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||zu(t.type,t.memoizedProps)),l=!l),l&&Oe&&kn(t),cf(t),o===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Oe=Lp(t)}else if(o===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Oe=Lp(t)}else o===27?(o=Oe,Yn(t.type)?(t=Fu,Fu=null,Oe=t):Oe=o):Oe=it?Vt(t.stateNode.nextSibling):null;return!0}function fi(){Oe=it=null,ye=!1}function Ea(){var t=In;return t!==null&&(St===null?St=t:St.push.apply(St,t),In=null),t}function Qo(t){In===null?In=[t]:In.push(t)}var xa=N(null),hi=null,dn=null;function Dn(t,o,l){K(xa,o._currentValue),o._currentValue=l}function fn(t){t._currentValue=xa.current,F(xa)}function ba(t,o,l){for(;t!==null;){var u=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),t===l)break;t=t.return}}function Aa(t,o,l,u){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var v=p.dependencies;if(v!==null){var E=p.child;v=v.firstContext;e:for(;v!==null;){var x=v;v=p;for(var C=0;C<o.length;C++)if(x.context===o[C]){v.lanes|=l,x=v.alternate,x!==null&&(x.lanes|=l),ba(v.return,l,t),u||(E=null);break e}v=x.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(s(341));E.lanes|=l,v=E.alternate,v!==null&&(v.lanes|=l),ba(E,l,t),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===t){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function $i(t,o,l,u){t=null;for(var p=o,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var x=p.type;wt(p.pendingProps.value,E.value)||(t!==null?t.push(x):t=[x])}}else if(p===we.current){if(E=p.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(bs):t=[bs])}p=p.return}t!==null&&Aa(o,t,l,u),o.flags|=262144}function dl(t){for(t=t.firstContext;t!==null;){if(!wt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function pi(t){hi=t,dn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ot(t){return df(hi,t)}function fl(t,o){return hi===null&&pi(t),df(t,o)}function df(t,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},dn===null){if(t===null)throw Error(s(308));dn=o,t.dependencies={lanes:0,firstContext:o},t.flags|=524288}else dn=dn.next=o;return l}var By=typeof AbortController<"u"?AbortController:function(){var t=[],o=this.signal={aborted:!1,addEventListener:function(l,u){t.push(u)}};this.abort=function(){o.aborted=!0,t.forEach(function(l){return l()})}},Vy=n.unstable_scheduleCallback,Fy=n.unstable_NormalPriority,Ye={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wa(){return{controller:new By,data:new Map,refCount:0}}function Zo(t){t.refCount--,t.refCount===0&&Vy(Fy,function(){t.controller.abort()})}var Wo=null,Ca=0,ji=0,Ki=null;function Jy(t,o){if(Wo===null){var l=Wo=[];Ca=0,ji=Mu(),Ki={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ca++,o.then(ff,ff),o}function ff(){if(--Ca===0&&Wo!==null){Ki!==null&&(Ki.status="fulfilled");var t=Wo;Wo=null,ji=0,Ki=null;for(var o=0;o<t.length;o++)(0,t[o])()}}function Yy(t,o){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return t.then(function(){u.status="fulfilled",u.value=o;for(var p=0;p<l.length;p++)(0,l[p])(o)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var hf=z.S;z.S=function(t,o){Xh=xt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Jy(t,o),hf!==null&&hf(t,o)};var mi=N(null);function Ra(){var t=mi.current;return t!==null?t:Ue.pooledCache}function hl(t,o){o===null?K(mi,mi.current):K(mi,o.pool)}function pf(){var t=Ra();return t===null?null:{parent:Ye._currentValue,pool:t}}var Xi=Error(s(460)),Na=Error(s(474)),pl=Error(s(542)),ml={then:function(){}};function mf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gf(t,o,l){switch(l=t[l],l===void 0?t.push(o):l!==o&&(o.then(rn,rn),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,yf(t),t;default:if(typeof o.status=="string")o.then(rn,rn);else{if(t=Ue,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=o,t.status="pending",t.then(function(u){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=u}},function(u){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=u}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,yf(t),t}throw vi=o,Xi}}function gi(t){try{var o=t._init;return o(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(vi=l,Xi):l}}var vi=null;function vf(){if(vi===null)throw Error(s(459));var t=vi;return vi=null,t}function yf(t){if(t===Xi||t===pl)throw Error(s(483))}var Qi=null,es=0;function gl(t){var o=es;return es+=1,Qi===null&&(Qi=[]),gf(Qi,t,o)}function ts(t,o){o=o.props.ref,t.ref=o!==void 0?o:null}function vl(t,o){throw o.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(o),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t)))}function _f(t){function o(M,R){if(t){var k=M.deletions;k===null?(M.deletions=[R],M.flags|=16):k.push(R)}}function l(M,R){if(!t)return null;for(;R!==null;)o(M,R),R=R.sibling;return null}function u(M){for(var R=new Map;M!==null;)M.key!==null?R.set(M.key,M):R.set(M.index,M),M=M.sibling;return R}function p(M,R){return M=un(M,R),M.index=0,M.sibling=null,M}function v(M,R,k){return M.index=k,t?(k=M.alternate,k!==null?(k=k.index,k<R?(M.flags|=67108866,R):k):(M.flags|=67108866,R)):(M.flags|=1048576,R)}function E(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function x(M,R,k,q){return R===null||R.tag!==6?(R=va(k,M.mode,q),R.return=M,R):(R=p(R,k),R.return=M,R)}function C(M,R,k,q){var ne=k.type;return ne===I?G(M,R,k.props.children,q,k.key):R!==null&&(R.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ue&&gi(ne)===R.type)?(R=p(R,k.props),ts(R,k),R.return=M,R):(R=ul(k.type,k.key,k.props,null,M.mode,q),ts(R,k),R.return=M,R)}function D(M,R,k,q){return R===null||R.tag!==4||R.stateNode.containerInfo!==k.containerInfo||R.stateNode.implementation!==k.implementation?(R=ya(k,M.mode,q),R.return=M,R):(R=p(R,k.children||[]),R.return=M,R)}function G(M,R,k,q,ne){return R===null||R.tag!==7?(R=di(k,M.mode,q,ne),R.return=M,R):(R=p(R,k),R.return=M,R)}function B(M,R,k){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=va(""+R,M.mode,k),R.return=M,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return k=ul(R.type,R.key,R.props,null,M.mode,k),ts(k,R),k.return=M,k;case w:return R=ya(R,M.mode,k),R.return=M,R;case ue:return R=gi(R),B(M,R,k)}if(Qe(R)||Ne(R))return R=di(R,M.mode,k,null),R.return=M,R;if(typeof R.then=="function")return B(M,gl(R),k);if(R.$$typeof===V)return B(M,fl(M,R),k);vl(M,R)}return null}function U(M,R,k,q){var ne=R!==null?R.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ne!==null?null:x(M,R,""+k,q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return k.key===ne?C(M,R,k,q):null;case w:return k.key===ne?D(M,R,k,q):null;case ue:return k=gi(k),U(M,R,k,q)}if(Qe(k)||Ne(k))return ne!==null?null:G(M,R,k,q,null);if(typeof k.then=="function")return U(M,R,gl(k),q);if(k.$$typeof===V)return U(M,R,fl(M,k),q);vl(M,k)}return null}function P(M,R,k,q,ne){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return M=M.get(k)||null,x(R,M,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return M=M.get(q.key===null?k:q.key)||null,C(R,M,q,ne);case w:return M=M.get(q.key===null?k:q.key)||null,D(R,M,q,ne);case ue:return q=gi(q),P(M,R,k,q,ne)}if(Qe(q)||Ne(q))return M=M.get(k)||null,G(R,M,q,ne,null);if(typeof q.then=="function")return P(M,R,k,gl(q),ne);if(q.$$typeof===V)return P(M,R,k,fl(R,q),ne);vl(R,q)}return null}function X(M,R,k,q){for(var ne=null,Te=null,W=R,ce=R=0,ve=null;W!==null&&ce<k.length;ce++){W.index>ce?(ve=W,W=null):ve=W.sibling;var Ee=U(M,W,k[ce],q);if(Ee===null){W===null&&(W=ve);break}t&&W&&Ee.alternate===null&&o(M,W),R=v(Ee,R,ce),Te===null?ne=Ee:Te.sibling=Ee,Te=Ee,W=ve}if(ce===k.length)return l(M,W),ye&&cn(M,ce),ne;if(W===null){for(;ce<k.length;ce++)W=B(M,k[ce],q),W!==null&&(R=v(W,R,ce),Te===null?ne=W:Te.sibling=W,Te=W);return ye&&cn(M,ce),ne}for(W=u(W);ce<k.length;ce++)ve=P(W,M,ce,k[ce],q),ve!==null&&(t&&ve.alternate!==null&&W.delete(ve.key===null?ce:ve.key),R=v(ve,R,ce),Te===null?ne=ve:Te.sibling=ve,Te=ve);return t&&W.forEach(function(Qn){return o(M,Qn)}),ye&&cn(M,ce),ne}function ie(M,R,k,q){if(k==null)throw Error(s(151));for(var ne=null,Te=null,W=R,ce=R=0,ve=null,Ee=k.next();W!==null&&!Ee.done;ce++,Ee=k.next()){W.index>ce?(ve=W,W=null):ve=W.sibling;var Qn=U(M,W,Ee.value,q);if(Qn===null){W===null&&(W=ve);break}t&&W&&Qn.alternate===null&&o(M,W),R=v(Qn,R,ce),Te===null?ne=Qn:Te.sibling=Qn,Te=Qn,W=ve}if(Ee.done)return l(M,W),ye&&cn(M,ce),ne;if(W===null){for(;!Ee.done;ce++,Ee=k.next())Ee=B(M,Ee.value,q),Ee!==null&&(R=v(Ee,R,ce),Te===null?ne=Ee:Te.sibling=Ee,Te=Ee);return ye&&cn(M,ce),ne}for(W=u(W);!Ee.done;ce++,Ee=k.next())Ee=P(W,M,ce,Ee.value,q),Ee!==null&&(t&&Ee.alternate!==null&&W.delete(Ee.key===null?ce:Ee.key),R=v(Ee,R,ce),Te===null?ne=Ee:Te.sibling=Ee,Te=Ee);return t&&W.forEach(function(iS){return o(M,iS)}),ye&&cn(M,ce),ne}function ke(M,R,k,q){if(typeof k=="object"&&k!==null&&k.type===I&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case b:e:{for(var ne=k.key;R!==null;){if(R.key===ne){if(ne=k.type,ne===I){if(R.tag===7){l(M,R.sibling),q=p(R,k.props.children),q.return=M,M=q;break e}}else if(R.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ue&&gi(ne)===R.type){l(M,R.sibling),q=p(R,k.props),ts(q,k),q.return=M,M=q;break e}l(M,R);break}else o(M,R);R=R.sibling}k.type===I?(q=di(k.props.children,M.mode,q,k.key),q.return=M,M=q):(q=ul(k.type,k.key,k.props,null,M.mode,q),ts(q,k),q.return=M,M=q)}return E(M);case w:e:{for(ne=k.key;R!==null;){if(R.key===ne)if(R.tag===4&&R.stateNode.containerInfo===k.containerInfo&&R.stateNode.implementation===k.implementation){l(M,R.sibling),q=p(R,k.children||[]),q.return=M,M=q;break e}else{l(M,R);break}else o(M,R);R=R.sibling}q=ya(k,M.mode,q),q.return=M,M=q}return E(M);case ue:return k=gi(k),ke(M,R,k,q)}if(Qe(k))return X(M,R,k,q);if(Ne(k)){if(ne=Ne(k),typeof ne!="function")throw Error(s(150));return k=ne.call(k),ie(M,R,k,q)}if(typeof k.then=="function")return ke(M,R,gl(k),q);if(k.$$typeof===V)return ke(M,R,fl(M,k),q);vl(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,R!==null&&R.tag===6?(l(M,R.sibling),q=p(R,k),q.return=M,M=q):(l(M,R),q=va(k,M.mode,q),q.return=M,M=q),E(M)):l(M,R)}return function(M,R,k,q){try{es=0;var ne=ke(M,R,k,q);return Qi=null,ne}catch(W){if(W===Xi||W===pl)throw W;var Te=Ct(29,W,null,M.mode);return Te.lanes=q,Te.return=M,Te}finally{}}}var yi=_f(!0),Sf=_f(!1),Un=!1;function Ma(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ia(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ln(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pn(t,o,l){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ae&2)!==0){var p=u.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),u.pending=o,o=al(t),nf(t,null,l),o}return rl(t,u,o,l),al(t)}function ns(t,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var u=o.lanes;u&=t.pendingLanes,l|=u,o.lanes=l,cd(t,l)}}function ka(t,o){var l=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?p=v=E:v=v.next=E,l=l.next}while(l!==null);v===null?p=v=o:v=v.next=o}else p=v=o;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=o:t.next=o,l.lastBaseUpdate=o}var Da=!1;function is(){if(Da){var t=Ki;if(t!==null)throw t}}function os(t,o,l,u){Da=!1;var p=t.updateQueue;Un=!1;var v=p.firstBaseUpdate,E=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var C=x,D=C.next;C.next=null,E===null?v=D:E.next=D,E=C;var G=t.alternate;G!==null&&(G=G.updateQueue,x=G.lastBaseUpdate,x!==E&&(x===null?G.firstBaseUpdate=D:x.next=D,G.lastBaseUpdate=C))}if(v!==null){var B=p.baseState;E=0,G=D=C=null,x=v;do{var U=x.lane&-536870913,P=U!==x.lane;if(P?(ge&U)===U:(u&U)===U){U!==0&&U===ji&&(Da=!0),G!==null&&(G=G.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var X=t,ie=x;U=o;var ke=l;switch(ie.tag){case 1:if(X=ie.payload,typeof X=="function"){B=X.call(ke,B,U);break e}B=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ie.payload,U=typeof X=="function"?X.call(ke,B,U):X,U==null)break e;B=_({},B,U);break e;case 2:Un=!0}}U=x.callback,U!==null&&(t.flags|=64,P&&(t.flags|=8192),P=p.callbacks,P===null?p.callbacks=[U]:P.push(U))}else P={lane:U,tag:x.tag,payload:x.payload,callback:x.callback,next:null},G===null?(D=G=P,C=B):G=G.next=P,E|=U;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;P=x,x=P.next,P.next=null,p.lastBaseUpdate=P,p.shared.pending=null}}while(!0);G===null&&(C=B),p.baseState=C,p.firstBaseUpdate=D,p.lastBaseUpdate=G,v===null&&(p.shared.lanes=0),qn|=E,t.lanes=E,t.memoizedState=B}}function Tf(t,o){if(typeof t!="function")throw Error(s(191,t));t.call(o)}function Ef(t,o){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Tf(l[t],o)}var Zi=N(null),yl=N(0);function xf(t,o){t=Tn,K(yl,t),K(Zi,o),Tn=t|o.baseLanes}function Ua(){K(yl,Tn),K(Zi,Zi.current)}function La(){Tn=yl.current,F(Zi),F(yl)}var Rt=N(null),Bt=null;function On(t){var o=t.alternate;K(Fe,Fe.current&1),K(Rt,t),Bt===null&&(o===null||Zi.current!==null||o.memoizedState!==null)&&(Bt=t)}function Pa(t){K(Fe,Fe.current),K(Rt,t),Bt===null&&(Bt=t)}function bf(t){t.tag===22?(K(Fe,Fe.current),K(Rt,t),Bt===null&&(Bt=t)):Gn()}function Gn(){K(Fe,Fe.current),K(Rt,Rt.current)}function Nt(t){F(Rt),Bt===t&&(Bt=null),F(Fe)}var Fe=N(0);function _l(t){for(var o=t;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Bu(l)||Vu(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var hn=0,ae=null,Me=null,$e=null,Sl=!1,Wi=!1,_i=!1,Tl=0,ss=0,eo=null,$y=0;function qe(){throw Error(s(321))}function Oa(t,o){if(o===null)return!1;for(var l=0;l<o.length&&l<t.length;l++)if(!wt(t[l],o[l]))return!1;return!0}function Ga(t,o,l,u,p,v){return hn=v,ae=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,z.H=t===null||t.memoizedState===null?rh:Wa,_i=!1,v=l(u,p),_i=!1,Wi&&(v=wf(o,l,u,p)),Af(t),v}function Af(t){z.H=as;var o=Me!==null&&Me.next!==null;if(hn=0,$e=Me=ae=null,Sl=!1,ss=0,eo=null,o)throw Error(s(300));t===null||je||(t=t.dependencies,t!==null&&dl(t)&&(je=!0))}function wf(t,o,l,u){ae=t;var p=0;do{if(Wi&&(eo=null),ss=0,Wi=!1,25<=p)throw Error(s(301));if(p+=1,$e=Me=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}z.H=ah,v=o(l,u)}while(Wi);return v}function jy(){var t=z.H,o=t.useState()[0];return o=typeof o.then=="function"?ls(o):o,t=t.useState()[0],(Me!==null?Me.memoizedState:null)!==t&&(ae.flags|=1024),o}function za(){var t=Tl!==0;return Tl=0,t}function Ha(t,o,l){o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~l}function qa(t){if(Sl){for(t=t.memoizedState;t!==null;){var o=t.queue;o!==null&&(o.pending=null),t=t.next}Sl=!1}hn=0,$e=Me=ae=null,Wi=!1,ss=Tl=0,eo=null}function ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ae.memoizedState=$e=t:$e=$e.next=t,$e}function Je(){if(Me===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var o=$e===null?ae.memoizedState:$e.next;if(o!==null)$e=o,Me=t;else{if(t===null)throw ae.alternate===null?Error(s(467)):Error(s(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},$e===null?ae.memoizedState=$e=t:$e=$e.next=t}return $e}function El(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ls(t){var o=ss;return ss+=1,eo===null&&(eo=[]),t=gf(eo,t,o),o=ae,($e===null?o.memoizedState:$e.next)===null&&(o=o.alternate,z.H=o===null||o.memoizedState===null?rh:Wa),t}function xl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ls(t);if(t.$$typeof===V)return ot(t)}throw Error(s(438,String(t)))}function Ba(t){var o=null,l=ae.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var u=ae.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(o={data:u.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=El(),ae.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(t),u=0;u<t;u++)l[u]=de;return o.index++,l}function pn(t,o){return typeof o=="function"?o(t):o}function bl(t){var o=Je();return Va(o,Me,t)}function Va(t,o,l){var u=t.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=l;var p=t.baseQueue,v=u.pending;if(v!==null){if(p!==null){var E=p.next;p.next=v.next,v.next=E}o.baseQueue=p=v,u.pending=null}if(v=t.baseState,p===null)t.memoizedState=v;else{o=p.next;var x=E=null,C=null,D=o,G=!1;do{var B=D.lane&-536870913;if(B!==D.lane?(ge&B)===B:(hn&B)===B){var U=D.revertLane;if(U===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),B===ji&&(G=!0);else if((hn&U)===U){D=D.next,U===ji&&(G=!0);continue}else B={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(x=C=B,E=v):C=C.next=B,ae.lanes|=U,qn|=U;B=D.action,_i&&l(v,B),v=D.hasEagerState?D.eagerState:l(v,B)}else U={lane:B,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(x=C=U,E=v):C=C.next=U,ae.lanes|=B,qn|=B;D=D.next}while(D!==null&&D!==o);if(C===null?E=v:C.next=x,!wt(v,t.memoizedState)&&(je=!0,G&&(l=Ki,l!==null)))throw l;t.memoizedState=v,t.baseState=E,t.baseQueue=C,u.lastRenderedState=v}return p===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Fa(t){var o=Je(),l=o.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=t;var u=l.dispatch,p=l.pending,v=o.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do v=t(v,E.action),E=E.next;while(E!==p);wt(v,o.memoizedState)||(je=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,u]}function Cf(t,o,l){var u=ae,p=Je(),v=ye;if(v){if(l===void 0)throw Error(s(407));l=l()}else l=o();var E=!wt((Me||p).memoizedState,l);if(E&&(p.memoizedState=l,je=!0),p=p.queue,$a(Mf.bind(null,u,p,t),[t]),p.getSnapshot!==o||E||$e!==null&&$e.memoizedState.tag&1){if(u.flags|=2048,to(9,{destroy:void 0},Nf.bind(null,u,p,l,o),null),Ue===null)throw Error(s(349));v||(hn&127)!==0||Rf(u,o,l)}return l}function Rf(t,o,l){t.flags|=16384,t={getSnapshot:o,value:l},o=ae.updateQueue,o===null?(o=El(),ae.updateQueue=o,o.stores=[t]):(l=o.stores,l===null?o.stores=[t]:l.push(t))}function Nf(t,o,l,u){o.value=l,o.getSnapshot=u,If(o)&&kf(t)}function Mf(t,o,l){return l(function(){If(o)&&kf(t)})}function If(t){var o=t.getSnapshot;t=t.value;try{var l=o();return!wt(t,l)}catch{return!0}}function kf(t){var o=ci(t,2);o!==null&&Tt(o,t,2)}function Ja(t){var o=ft();if(typeof t=="function"){var l=t;if(t=l(),_i){Cn(!0);try{l()}finally{Cn(!1)}}}return o.memoizedState=o.baseState=t,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:t},o}function Df(t,o,l,u){return t.baseState=l,Va(t,Me,typeof u=="function"?u:pn)}function Ky(t,o,l,u,p){if(Cl(t))throw Error(s(485));if(t=o.action,t!==null){var v={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};z.T!==null?l(!0):v.isTransition=!1,u(v),l=o.pending,l===null?(v.next=o.pending=v,Uf(o,v)):(v.next=l.next,o.pending=l.next=v)}}function Uf(t,o){var l=o.action,u=o.payload,p=t.state;if(o.isTransition){var v=z.T,E={};z.T=E;try{var x=l(p,u),C=z.S;C!==null&&C(E,x),Lf(t,o,x)}catch(D){Ya(t,o,D)}finally{v!==null&&E.types!==null&&(v.types=E.types),z.T=v}}else try{v=l(p,u),Lf(t,o,v)}catch(D){Ya(t,o,D)}}function Lf(t,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Pf(t,o,u)},function(u){return Ya(t,o,u)}):Pf(t,o,l)}function Pf(t,o,l){o.status="fulfilled",o.value=l,Of(o),t.state=l,o=t.pending,o!==null&&(l=o.next,l===o?t.pending=null:(l=l.next,o.next=l,Uf(t,l)))}function Ya(t,o,l){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do o.status="rejected",o.reason=l,Of(o),o=o.next;while(o!==u)}t.action=null}function Of(t){t=t.listeners;for(var o=0;o<t.length;o++)(0,t[o])()}function Gf(t,o){return o}function zf(t,o){if(ye){var l=Ue.formState;if(l!==null){e:{var u=ae;if(ye){if(Oe){t:{for(var p=Oe,v=qt;p.nodeType!==8;){if(!v){p=null;break t}if(p=Vt(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){Oe=Vt(p.nextSibling),u=p.data==="F!";break e}}kn(u)}u=!1}u&&(o=l[0])}}return l=ft(),l.memoizedState=l.baseState=o,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gf,lastRenderedState:o},l.queue=u,l=oh.bind(null,ae,u),u.dispatch=l,u=Ja(!1),v=Za.bind(null,ae,!1,u.queue),u=ft(),p={state:o,dispatch:null,action:t,pending:null},u.queue=p,l=Ky.bind(null,ae,p,v,l),p.dispatch=l,u.memoizedState=t,[o,l,!1]}function Hf(t){var o=Je();return qf(o,Me,t)}function qf(t,o,l){if(o=Va(t,o,Gf)[0],t=bl(pn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var u=ls(o)}catch(E){throw E===Xi?pl:E}else u=o;o=Je();var p=o.queue,v=p.dispatch;return l!==o.memoizedState&&(ae.flags|=2048,to(9,{destroy:void 0},Xy.bind(null,p,l),null)),[u,v,t]}function Xy(t,o){t.action=o}function Bf(t){var o=Je(),l=Me;if(l!==null)return qf(o,l,t);Je(),o=o.memoizedState,l=Je();var u=l.queue.dispatch;return l.memoizedState=t,[o,u,!1]}function to(t,o,l,u){return t={tag:t,create:l,deps:u,inst:o,next:null},o=ae.updateQueue,o===null&&(o=El(),ae.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=t.next=t:(u=l.next,l.next=t,t.next=u,o.lastEffect=t),t}function Vf(){return Je().memoizedState}function Al(t,o,l,u){var p=ft();ae.flags|=t,p.memoizedState=to(1|o,{destroy:void 0},l,u===void 0?null:u)}function wl(t,o,l,u){var p=Je();u=u===void 0?null:u;var v=p.memoizedState.inst;Me!==null&&u!==null&&Oa(u,Me.memoizedState.deps)?p.memoizedState=to(o,v,l,u):(ae.flags|=t,p.memoizedState=to(1|o,v,l,u))}function Ff(t,o){Al(8390656,8,t,o)}function $a(t,o){wl(2048,8,t,o)}function Qy(t){ae.flags|=4;var o=ae.updateQueue;if(o===null)o=El(),ae.updateQueue=o,o.events=[t];else{var l=o.events;l===null?o.events=[t]:l.push(t)}}function Jf(t){var o=Je().memoizedState;return Qy({ref:o,nextImpl:t}),function(){if((Ae&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function Yf(t,o){return wl(4,2,t,o)}function $f(t,o){return wl(4,4,t,o)}function jf(t,o){if(typeof o=="function"){t=t();var l=o(t);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function Kf(t,o,l){l=l!=null?l.concat([t]):null,wl(4,4,jf.bind(null,o,t),l)}function ja(){}function Xf(t,o){var l=Je();o=o===void 0?null:o;var u=l.memoizedState;return o!==null&&Oa(o,u[1])?u[0]:(l.memoizedState=[t,o],t)}function Qf(t,o){var l=Je();o=o===void 0?null:o;var u=l.memoizedState;if(o!==null&&Oa(o,u[1]))return u[0];if(u=t(),_i){Cn(!0);try{t()}finally{Cn(!1)}}return l.memoizedState=[u,o],u}function Ka(t,o,l){return l===void 0||(hn&1073741824)!==0&&(ge&261930)===0?t.memoizedState=o:(t.memoizedState=l,t=Zh(),ae.lanes|=t,qn|=t,l)}function Zf(t,o,l,u){return wt(l,o)?l:Zi.current!==null?(t=Ka(t,l,u),wt(t,o)||(je=!0),t):(hn&42)===0||(hn&1073741824)!==0&&(ge&261930)===0?(je=!0,t.memoizedState=l):(t=Zh(),ae.lanes|=t,qn|=t,o)}function Wf(t,o,l,u,p){var v=$.p;$.p=v!==0&&8>v?v:8;var E=z.T,x={};z.T=x,Za(t,!1,o,l);try{var C=p(),D=z.S;if(D!==null&&D(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=Yy(C,u);rs(t,o,G,kt(t))}else rs(t,o,u,kt(t))}catch(B){rs(t,o,{then:function(){},status:"rejected",reason:B},kt())}finally{$.p=v,E!==null&&x.types!==null&&(E.types=x.types),z.T=E}}function Zy(){}function Xa(t,o,l,u){if(t.tag!==5)throw Error(s(476));var p=eh(t).queue;Wf(t,p,o,te,l===null?Zy:function(){return th(t),l(u)})}function eh(t){var o=t.memoizedState;if(o!==null)return o;o={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:te},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:l},next:null},t.memoizedState=o,t=t.alternate,t!==null&&(t.memoizedState=o),o}function th(t){var o=eh(t);o.next===null&&(o=t.alternate.memoizedState),rs(t,o.next.queue,{},kt())}function Qa(){return ot(bs)}function nh(){return Je().memoizedState}function ih(){return Je().memoizedState}function Wy(t){for(var o=t.return;o!==null;){switch(o.tag){case 24:case 3:var l=kt();t=Ln(l);var u=Pn(o,t,l);u!==null&&(Tt(u,o,l),ns(u,o,l)),o={cache:wa()},t.payload=o;return}o=o.return}}function e_(t,o,l){var u=kt();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Cl(t)?sh(o,l):(l=ma(t,o,l,u),l!==null&&(Tt(l,t,u),lh(l,o,u)))}function oh(t,o,l){var u=kt();rs(t,o,l,u)}function rs(t,o,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Cl(t))sh(o,p);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var E=o.lastRenderedState,x=v(E,l);if(p.hasEagerState=!0,p.eagerState=x,wt(x,E))return rl(t,o,p,0),Ue===null&&ll(),!1}catch{}finally{}if(l=ma(t,o,p,u),l!==null)return Tt(l,t,u),lh(l,o,u),!0}return!1}function Za(t,o,l,u){if(u={lane:2,revertLane:Mu(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Cl(t)){if(o)throw Error(s(479))}else o=ma(t,l,u,2),o!==null&&Tt(o,t,2)}function Cl(t){var o=t.alternate;return t===ae||o!==null&&o===ae}function sh(t,o){Wi=Sl=!0;var l=t.pending;l===null?o.next=o:(o.next=l.next,l.next=o),t.pending=o}function lh(t,o,l){if((l&4194048)!==0){var u=o.lanes;u&=t.pendingLanes,l|=u,o.lanes=l,cd(t,l)}}var as={readContext:ot,use:xl,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};as.useEffectEvent=qe;var rh={readContext:ot,use:xl,useCallback:function(t,o){return ft().memoizedState=[t,o===void 0?null:o],t},useContext:ot,useEffect:Ff,useImperativeHandle:function(t,o,l){l=l!=null?l.concat([t]):null,Al(4194308,4,jf.bind(null,o,t),l)},useLayoutEffect:function(t,o){return Al(4194308,4,t,o)},useInsertionEffect:function(t,o){Al(4,2,t,o)},useMemo:function(t,o){var l=ft();o=o===void 0?null:o;var u=t();if(_i){Cn(!0);try{t()}finally{Cn(!1)}}return l.memoizedState=[u,o],u},useReducer:function(t,o,l){var u=ft();if(l!==void 0){var p=l(o);if(_i){Cn(!0);try{l(o)}finally{Cn(!1)}}}else p=o;return u.memoizedState=u.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},u.queue=t,t=t.dispatch=e_.bind(null,ae,t),[u.memoizedState,t]},useRef:function(t){var o=ft();return t={current:t},o.memoizedState=t},useState:function(t){t=Ja(t);var o=t.queue,l=oh.bind(null,ae,o);return o.dispatch=l,[t.memoizedState,l]},useDebugValue:ja,useDeferredValue:function(t,o){var l=ft();return Ka(l,t,o)},useTransition:function(){var t=Ja(!1);return t=Wf.bind(null,ae,t.queue,!0,!1),ft().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,o,l){var u=ae,p=ft();if(ye){if(l===void 0)throw Error(s(407));l=l()}else{if(l=o(),Ue===null)throw Error(s(349));(ge&127)!==0||Rf(u,o,l)}p.memoizedState=l;var v={value:l,getSnapshot:o};return p.queue=v,Ff(Mf.bind(null,u,v,t),[t]),u.flags|=2048,to(9,{destroy:void 0},Nf.bind(null,u,v,l,o),null),l},useId:function(){var t=ft(),o=Ue.identifierPrefix;if(ye){var l=nn,u=tn;l=(u&~(1<<32-At(u)-1)).toString(32)+l,o="_"+o+"R_"+l,l=Tl++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=$y++,o="_"+o+"r_"+l.toString(32)+"_";return t.memoizedState=o},useHostTransitionStatus:Qa,useFormState:zf,useActionState:zf,useOptimistic:function(t){var o=ft();o.memoizedState=o.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Za.bind(null,ae,!0,l),l.dispatch=o,[t,o]},useMemoCache:Ba,useCacheRefresh:function(){return ft().memoizedState=Wy.bind(null,ae)},useEffectEvent:function(t){var o=ft(),l={impl:t};return o.memoizedState=l,function(){if((Ae&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Wa={readContext:ot,use:xl,useCallback:Xf,useContext:ot,useEffect:$a,useImperativeHandle:Kf,useInsertionEffect:Yf,useLayoutEffect:$f,useMemo:Qf,useReducer:bl,useRef:Vf,useState:function(){return bl(pn)},useDebugValue:ja,useDeferredValue:function(t,o){var l=Je();return Zf(l,Me.memoizedState,t,o)},useTransition:function(){var t=bl(pn)[0],o=Je().memoizedState;return[typeof t=="boolean"?t:ls(t),o]},useSyncExternalStore:Cf,useId:nh,useHostTransitionStatus:Qa,useFormState:Hf,useActionState:Hf,useOptimistic:function(t,o){var l=Je();return Df(l,Me,t,o)},useMemoCache:Ba,useCacheRefresh:ih};Wa.useEffectEvent=Jf;var ah={readContext:ot,use:xl,useCallback:Xf,useContext:ot,useEffect:$a,useImperativeHandle:Kf,useInsertionEffect:Yf,useLayoutEffect:$f,useMemo:Qf,useReducer:Fa,useRef:Vf,useState:function(){return Fa(pn)},useDebugValue:ja,useDeferredValue:function(t,o){var l=Je();return Me===null?Ka(l,t,o):Zf(l,Me.memoizedState,t,o)},useTransition:function(){var t=Fa(pn)[0],o=Je().memoizedState;return[typeof t=="boolean"?t:ls(t),o]},useSyncExternalStore:Cf,useId:nh,useHostTransitionStatus:Qa,useFormState:Bf,useActionState:Bf,useOptimistic:function(t,o){var l=Je();return Me!==null?Df(l,Me,t,o):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Ba,useCacheRefresh:ih};ah.useEffectEvent=Jf;function eu(t,o,l,u){o=t.memoizedState,l=l(u,o),l=l==null?o:_({},o,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var tu={enqueueSetState:function(t,o,l){t=t._reactInternals;var u=kt(),p=Ln(u);p.payload=o,l!=null&&(p.callback=l),o=Pn(t,p,u),o!==null&&(Tt(o,t,u),ns(o,t,u))},enqueueReplaceState:function(t,o,l){t=t._reactInternals;var u=kt(),p=Ln(u);p.tag=1,p.payload=o,l!=null&&(p.callback=l),o=Pn(t,p,u),o!==null&&(Tt(o,t,u),ns(o,t,u))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var l=kt(),u=Ln(l);u.tag=2,o!=null&&(u.callback=o),o=Pn(t,u,l),o!==null&&(Tt(o,t,l),ns(o,t,l))}};function uh(t,o,l,u,p,v,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,v,E):o.prototype&&o.prototype.isPureReactComponent?!jo(l,u)||!jo(p,v):!0}function ch(t,o,l,u){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,u),o.state!==t&&tu.enqueueReplaceState(o,o.state,null)}function Si(t,o){var l=o;if("ref"in o){l={};for(var u in o)u!=="ref"&&(l[u]=o[u])}if(t=t.defaultProps){l===o&&(l=_({},l));for(var p in t)l[p]===void 0&&(l[p]=t[p])}return l}function dh(t){sl(t)}function fh(t){console.error(t)}function hh(t){sl(t)}function Rl(t,o){try{var l=t.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(u){setTimeout(function(){throw u})}}function ph(t,o,l){try{var u=t.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function nu(t,o,l){return l=Ln(l),l.tag=3,l.payload={element:null},l.callback=function(){Rl(t,o)},l}function mh(t){return t=Ln(t),t.tag=3,t}function gh(t,o,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;t.payload=function(){return p(v)},t.callback=function(){ph(o,l,u)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){ph(o,l,u),typeof p!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function t_(t,o,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(o=l.alternate,o!==null&&$i(o,l,p,!0),l=Rt.current,l!==null){switch(l.tag){case 31:case 13:return Bt===null?Hl():l.alternate===null&&Be===0&&(Be=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===ml?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([u]):o.add(u),Cu(t,u,p)),!1;case 22:return l.flags|=65536,u===ml?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([u]):l.add(u)),Cu(t,u,p)),!1}throw Error(s(435,l.tag))}return Cu(t,u,p),Hl(),!1}if(ye)return o=Rt.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,u!==Ta&&(t=Error(s(422),{cause:u}),Qo(Gt(t,l)))):(u!==Ta&&(o=Error(s(423),{cause:u}),Qo(Gt(o,l))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,u=Gt(u,l),p=nu(t.stateNode,u,p),ka(t,p),Be!==4&&(Be=2)),!1;var v=Error(s(520),{cause:u});if(v=Gt(v,l),gs===null?gs=[v]:gs.push(v),Be!==4&&(Be=2),o===null)return!0;u=Gt(u,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,t=p&-p,l.lanes|=t,t=nu(l.stateNode,u,t),ka(l,t),!1;case 1:if(o=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Bn===null||!Bn.has(v))))return l.flags|=65536,p&=-p,l.lanes|=p,p=mh(p),gh(p,t,l,u),ka(l,p),!1}l=l.return}while(l!==null);return!1}var iu=Error(s(461)),je=!1;function st(t,o,l,u){o.child=t===null?Sf(o,null,l,u):yi(o,t.child,l,u)}function vh(t,o,l,u,p){l=l.render;var v=o.ref;if("ref"in u){var E={};for(var x in u)x!=="ref"&&(E[x]=u[x])}else E=u;return pi(o),u=Ga(t,o,l,E,v,p),x=za(),t!==null&&!je?(Ha(t,o,p),mn(t,o,p)):(ye&&x&&_a(o),o.flags|=1,st(t,o,u,p),o.child)}function yh(t,o,l,u,p){if(t===null){var v=l.type;return typeof v=="function"&&!ga(v)&&v.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=v,_h(t,o,v,u,p)):(t=ul(l.type,null,u,o,o.mode,p),t.ref=o.ref,t.return=o,o.child=t)}if(v=t.child,!du(t,p)){var E=v.memoizedProps;if(l=l.compare,l=l!==null?l:jo,l(E,u)&&t.ref===o.ref)return mn(t,o,p)}return o.flags|=1,t=un(v,u),t.ref=o.ref,t.return=o,o.child=t}function _h(t,o,l,u,p){if(t!==null){var v=t.memoizedProps;if(jo(v,u)&&t.ref===o.ref)if(je=!1,o.pendingProps=u=v,du(t,p))(t.flags&131072)!==0&&(je=!0);else return o.lanes=t.lanes,mn(t,o,p)}return ou(t,o,l,u,p)}function Sh(t,o,l,u){var p=u.children,v=t!==null?t.memoizedState:null;if(t===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((o.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,t!==null){for(u=o.child=t.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~v}else u=0,o.child=null;return Th(t,o,v,l,u)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},t!==null&&hl(o,v!==null?v.cachePool:null),v!==null?xf(o,v):Ua(),bf(o);else return u=o.lanes=536870912,Th(t,o,v!==null?v.baseLanes|l:l,l,u)}else v!==null?(hl(o,v.cachePool),xf(o,v),Gn(),o.memoizedState=null):(t!==null&&hl(o,null),Ua(),Gn());return st(t,o,p,l),o.child}function us(t,o){return t!==null&&t.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Th(t,o,l,u,p){var v=Ra();return v=v===null?null:{parent:Ye._currentValue,pool:v},o.memoizedState={baseLanes:l,cachePool:v},t!==null&&hl(o,null),Ua(),bf(o),t!==null&&$i(t,o,u,!0),o.childLanes=p,null}function Nl(t,o){return o=Il({mode:o.mode,children:o.children},t.mode),o.ref=t.ref,t.child=o,o.return=t,o}function Eh(t,o,l){return yi(o,t.child,null,l),t=Nl(o,o.pendingProps),t.flags|=2,Nt(o),o.memoizedState=null,t}function n_(t,o,l){var u=o.pendingProps,p=(o.flags&128)!==0;if(o.flags&=-129,t===null){if(ye){if(u.mode==="hidden")return t=Nl(o,u),o.lanes=536870912,us(null,t);if(Pa(o),(t=Oe)?(t=Up(t,qt),t=t!==null&&t.data==="&"?t:null,t!==null&&(o.memoizedState={dehydrated:t,treeContext:Mn!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},l=sf(t),l.return=o,o.child=l,it=o,Oe=null)):t=null,t===null)throw kn(o);return o.lanes=536870912,null}return Nl(o,u)}var v=t.memoizedState;if(v!==null){var E=v.dehydrated;if(Pa(o),p)if(o.flags&256)o.flags&=-257,o=Eh(t,o,l);else if(o.memoizedState!==null)o.child=t.child,o.flags|=128,o=null;else throw Error(s(558));else if(je||$i(t,o,l,!1),p=(l&t.childLanes)!==0,je||p){if(u=Ue,u!==null&&(E=dd(u,l),E!==0&&E!==v.retryLane))throw v.retryLane=E,ci(t,E),Tt(u,t,E),iu;Hl(),o=Eh(t,o,l)}else t=v.treeContext,Oe=Vt(E.nextSibling),it=o,ye=!0,In=null,qt=!1,t!==null&&af(o,t),o=Nl(o,u),o.flags|=4096;return o}return t=un(t.child,{mode:u.mode,children:u.children}),t.ref=o.ref,o.child=t,t.return=o,t}function Ml(t,o){var l=o.ref;if(l===null)t!==null&&t.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(t===null||t.ref!==l)&&(o.flags|=4194816)}}function ou(t,o,l,u,p){return pi(o),l=Ga(t,o,l,u,void 0,p),u=za(),t!==null&&!je?(Ha(t,o,p),mn(t,o,p)):(ye&&u&&_a(o),o.flags|=1,st(t,o,l,p),o.child)}function xh(t,o,l,u,p,v){return pi(o),o.updateQueue=null,l=wf(o,u,l,p),Af(t),u=za(),t!==null&&!je?(Ha(t,o,v),mn(t,o,v)):(ye&&u&&_a(o),o.flags|=1,st(t,o,l,v),o.child)}function bh(t,o,l,u,p){if(pi(o),o.stateNode===null){var v=Vi,E=l.contextType;typeof E=="object"&&E!==null&&(v=ot(E)),v=new l(u,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=tu,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=u,v.state=o.memoizedState,v.refs={},Ma(o),E=l.contextType,v.context=typeof E=="object"&&E!==null?ot(E):Vi,v.state=o.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(eu(o,l,E,u),v.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&tu.enqueueReplaceState(v,v.state,null),os(o,u,v,p),is(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),u=!0}else if(t===null){v=o.stateNode;var x=o.memoizedProps,C=Si(l,x);v.props=C;var D=v.context,G=l.contextType;E=Vi,typeof G=="object"&&G!==null&&(E=ot(G));var B=l.getDerivedStateFromProps;G=typeof B=="function"||typeof v.getSnapshotBeforeUpdate=="function",x=o.pendingProps!==x,G||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x||D!==E)&&ch(o,v,u,E),Un=!1;var U=o.memoizedState;v.state=U,os(o,u,v,p),is(),D=o.memoizedState,x||U!==D||Un?(typeof B=="function"&&(eu(o,l,B,u),D=o.memoizedState),(C=Un||uh(o,l,C,u,U,D,E))?(G||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=D),v.props=u,v.state=D,v.context=E,u=C):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{v=o.stateNode,Ia(t,o),E=o.memoizedProps,G=Si(l,E),v.props=G,B=o.pendingProps,U=v.context,D=l.contextType,C=Vi,typeof D=="object"&&D!==null&&(C=ot(D)),x=l.getDerivedStateFromProps,(D=typeof x=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==B||U!==C)&&ch(o,v,u,C),Un=!1,U=o.memoizedState,v.state=U,os(o,u,v,p),is();var P=o.memoizedState;E!==B||U!==P||Un||t!==null&&t.dependencies!==null&&dl(t.dependencies)?(typeof x=="function"&&(eu(o,l,x,u),P=o.memoizedState),(G=Un||uh(o,l,G,u,U,P,C)||t!==null&&t.dependencies!==null&&dl(t.dependencies))?(D||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,P,C),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,P,C)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===t.memoizedProps&&U===t.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&U===t.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=P),v.props=u,v.state=P,v.context=C,u=G):(typeof v.componentDidUpdate!="function"||E===t.memoizedProps&&U===t.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&U===t.memoizedState||(o.flags|=1024),u=!1)}return v=u,Ml(t,o),u=(o.flags&128)!==0,v||u?(v=o.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,t!==null&&u?(o.child=yi(o,t.child,null,p),o.child=yi(o,null,l,p)):st(t,o,l,p),o.memoizedState=v.state,t=o.child):t=mn(t,o,p),t}function Ah(t,o,l,u){return fi(),o.flags|=256,st(t,o,l,u),o.child}var su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lu(t){return{baseLanes:t,cachePool:pf()}}function ru(t,o,l){return t=t!==null?t.childLanes&~l:0,o&&(t|=It),t}function wh(t,o,l){var u=o.pendingProps,p=!1,v=(o.flags&128)!==0,E;if((E=v)||(E=t!==null&&t.memoizedState===null?!1:(Fe.current&2)!==0),E&&(p=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,t===null){if(ye){if(p?On(o):Gn(),(t=Oe)?(t=Up(t,qt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(o.memoizedState={dehydrated:t,treeContext:Mn!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},l=sf(t),l.return=o,o.child=l,it=o,Oe=null)):t=null,t===null)throw kn(o);return Vu(t)?o.lanes=32:o.lanes=536870912,null}var x=u.children;return u=u.fallback,p?(Gn(),p=o.mode,x=Il({mode:"hidden",children:x},p),u=di(u,p,l,null),x.return=o,u.return=o,x.sibling=u,o.child=x,u=o.child,u.memoizedState=lu(l),u.childLanes=ru(t,E,l),o.memoizedState=su,us(null,u)):(On(o),au(o,x))}var C=t.memoizedState;if(C!==null&&(x=C.dehydrated,x!==null)){if(v)o.flags&256?(On(o),o.flags&=-257,o=uu(t,o,l)):o.memoizedState!==null?(Gn(),o.child=t.child,o.flags|=128,o=null):(Gn(),x=u.fallback,p=o.mode,u=Il({mode:"visible",children:u.children},p),x=di(x,p,l,null),x.flags|=2,u.return=o,x.return=o,u.sibling=x,o.child=u,yi(o,t.child,null,l),u=o.child,u.memoizedState=lu(l),u.childLanes=ru(t,E,l),o.memoizedState=su,o=us(null,u));else if(On(o),Vu(x)){if(E=x.nextSibling&&x.nextSibling.dataset,E)var D=E.dgst;E=D,u=Error(s(419)),u.stack="",u.digest=E,Qo({value:u,source:null,stack:null}),o=uu(t,o,l)}else if(je||$i(t,o,l,!1),E=(l&t.childLanes)!==0,je||E){if(E=Ue,E!==null&&(u=dd(E,l),u!==0&&u!==C.retryLane))throw C.retryLane=u,ci(t,u),Tt(E,t,u),iu;Bu(x)||Hl(),o=uu(t,o,l)}else Bu(x)?(o.flags|=192,o.child=t.child,o=null):(t=C.treeContext,Oe=Vt(x.nextSibling),it=o,ye=!0,In=null,qt=!1,t!==null&&af(o,t),o=au(o,u.children),o.flags|=4096);return o}return p?(Gn(),x=u.fallback,p=o.mode,C=t.child,D=C.sibling,u=un(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&65011712,D!==null?x=un(D,x):(x=di(x,p,l,null),x.flags|=2),x.return=o,u.return=o,u.sibling=x,o.child=u,us(null,u),u=o.child,x=t.child.memoizedState,x===null?x=lu(l):(p=x.cachePool,p!==null?(C=Ye._currentValue,p=p.parent!==C?{parent:C,pool:C}:p):p=pf(),x={baseLanes:x.baseLanes|l,cachePool:p}),u.memoizedState=x,u.childLanes=ru(t,E,l),o.memoizedState=su,us(t.child,u)):(On(o),l=t.child,t=l.sibling,l=un(l,{mode:"visible",children:u.children}),l.return=o,l.sibling=null,t!==null&&(E=o.deletions,E===null?(o.deletions=[t],o.flags|=16):E.push(t)),o.child=l,o.memoizedState=null,l)}function au(t,o){return o=Il({mode:"visible",children:o},t.mode),o.return=t,t.child=o}function Il(t,o){return t=Ct(22,t,null,o),t.lanes=0,t}function uu(t,o,l){return yi(o,t.child,null,l),t=au(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function Ch(t,o,l){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o),ba(t.return,o,l)}function cu(t,o,l,u,p,v){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:v}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=l,E.tailMode=p,E.treeForkCount=v)}function Rh(t,o,l){var u=o.pendingProps,p=u.revealOrder,v=u.tail;u=u.children;var E=Fe.current,x=(E&2)!==0;if(x?(E=E&1|2,o.flags|=128):E&=1,K(Fe,E),st(t,o,u,l),u=ye?Xo:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ch(t,l,o);else if(t.tag===19)Ch(t,l,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(l=o.child,p=null;l!==null;)t=l.alternate,t!==null&&_l(t)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),cu(o,!1,p,l,v,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(t=p.alternate,t!==null&&_l(t)===null){o.child=p;break}t=p.sibling,p.sibling=l,l=p,p=t}cu(o,!0,l,null,v,u);break;case"together":cu(o,!1,null,null,void 0,u);break;default:o.memoizedState=null}return o.child}function mn(t,o,l){if(t!==null&&(o.dependencies=t.dependencies),qn|=o.lanes,(l&o.childLanes)===0)if(t!==null){if($i(t,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(t!==null&&o.child!==t.child)throw Error(s(153));if(o.child!==null){for(t=o.child,l=un(t,t.pendingProps),o.child=l,l.return=o;t.sibling!==null;)t=t.sibling,l=l.sibling=un(t,t.pendingProps),l.return=o;l.sibling=null}return o.child}function du(t,o){return(t.lanes&o)!==0?!0:(t=t.dependencies,!!(t!==null&&dl(t)))}function i_(t,o,l){switch(o.tag){case 3:dt(o,o.stateNode.containerInfo),Dn(o,Ye,t.memoizedState.cache),fi();break;case 27:case 5:Lo(o);break;case 4:dt(o,o.stateNode.containerInfo);break;case 10:Dn(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Pa(o),null;break;case 13:var u=o.memoizedState;if(u!==null)return u.dehydrated!==null?(On(o),o.flags|=128,null):(l&o.child.childLanes)!==0?wh(t,o,l):(On(o),t=mn(t,o,l),t!==null?t.sibling:null);On(o);break;case 19:var p=(t.flags&128)!==0;if(u=(l&o.childLanes)!==0,u||($i(t,o,l,!1),u=(l&o.childLanes)!==0),p){if(u)return Rh(t,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),K(Fe,Fe.current),u)break;return null;case 22:return o.lanes=0,Sh(t,o,l,o.pendingProps);case 24:Dn(o,Ye,t.memoizedState.cache)}return mn(t,o,l)}function Nh(t,o,l){if(t!==null)if(t.memoizedProps!==o.pendingProps)je=!0;else{if(!du(t,l)&&(o.flags&128)===0)return je=!1,i_(t,o,l);je=(t.flags&131072)!==0}else je=!1,ye&&(o.flags&1048576)!==0&&rf(o,Xo,o.index);switch(o.lanes=0,o.tag){case 16:e:{var u=o.pendingProps;if(t=gi(o.elementType),o.type=t,typeof t=="function")ga(t)?(u=Si(t,u),o.tag=1,o=bh(null,o,t,u,l)):(o.tag=0,o=ou(null,o,t,u,l));else{if(t!=null){var p=t.$$typeof;if(p===H){o.tag=11,o=vh(null,o,t,u,l);break e}else if(p===Y){o.tag=14,o=yh(null,o,t,u,l);break e}}throw o=Le(t)||t,Error(s(306,o,""))}}return o;case 0:return ou(t,o,o.type,o.pendingProps,l);case 1:return u=o.type,p=Si(u,o.pendingProps),bh(t,o,u,p,l);case 3:e:{if(dt(o,o.stateNode.containerInfo),t===null)throw Error(s(387));u=o.pendingProps;var v=o.memoizedState;p=v.element,Ia(t,o),os(o,u,null,l);var E=o.memoizedState;if(u=E.cache,Dn(o,Ye,u),u!==v.cache&&Aa(o,[Ye],l,!0),is(),u=E.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=Ah(t,o,u,l);break e}else if(u!==p){p=Gt(Error(s(424)),o),Qo(p),o=Ah(t,o,u,l);break e}else{switch(t=o.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Oe=Vt(t.firstChild),it=o,ye=!0,In=null,qt=!0,l=Sf(o,null,u,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(fi(),u===p){o=mn(t,o,l);break e}st(t,o,u,l)}o=o.child}return o;case 26:return Ml(t,o),t===null?(l=Hp(o.type,null,o.pendingProps,null))?o.memoizedState=l:ye||(l=o.type,t=o.pendingProps,u=$l(he.current).createElement(l),u[nt]=o,u[mt]=t,lt(u,l,t),Ze(u),o.stateNode=u):o.memoizedState=Hp(o.type,t.memoizedProps,o.pendingProps,t.memoizedState),null;case 27:return Lo(o),t===null&&ye&&(u=o.stateNode=Op(o.type,o.pendingProps,he.current),it=o,qt=!0,p=Oe,Yn(o.type)?(Fu=p,Oe=Vt(u.firstChild)):Oe=p),st(t,o,o.pendingProps.children,l),Ml(t,o),t===null&&(o.flags|=4194304),o.child;case 5:return t===null&&ye&&((p=u=Oe)&&(u=D_(u,o.type,o.pendingProps,qt),u!==null?(o.stateNode=u,it=o,Oe=Vt(u.firstChild),qt=!1,p=!0):p=!1),p||kn(o)),Lo(o),p=o.type,v=o.pendingProps,E=t!==null?t.memoizedProps:null,u=v.children,zu(p,v)?u=null:E!==null&&zu(p,E)&&(o.flags|=32),o.memoizedState!==null&&(p=Ga(t,o,jy,null,null,l),bs._currentValue=p),Ml(t,o),st(t,o,u,l),o.child;case 6:return t===null&&ye&&((t=l=Oe)&&(l=U_(l,o.pendingProps,qt),l!==null?(o.stateNode=l,it=o,Oe=null,t=!0):t=!1),t||kn(o)),null;case 13:return wh(t,o,l);case 4:return dt(o,o.stateNode.containerInfo),u=o.pendingProps,t===null?o.child=yi(o,null,u,l):st(t,o,u,l),o.child;case 11:return vh(t,o,o.type,o.pendingProps,l);case 7:return st(t,o,o.pendingProps,l),o.child;case 8:return st(t,o,o.pendingProps.children,l),o.child;case 12:return st(t,o,o.pendingProps.children,l),o.child;case 10:return u=o.pendingProps,Dn(o,o.type,u.value),st(t,o,u.children,l),o.child;case 9:return p=o.type._context,u=o.pendingProps.children,pi(o),p=ot(p),u=u(p),o.flags|=1,st(t,o,u,l),o.child;case 14:return yh(t,o,o.type,o.pendingProps,l);case 15:return _h(t,o,o.type,o.pendingProps,l);case 19:return Rh(t,o,l);case 31:return n_(t,o,l);case 22:return Sh(t,o,l,o.pendingProps);case 24:return pi(o),u=ot(Ye),t===null?(p=Ra(),p===null&&(p=Ue,v=wa(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=l),p=v),o.memoizedState={parent:u,cache:p},Ma(o),Dn(o,Ye,p)):((t.lanes&l)!==0&&(Ia(t,o),os(o,null,null,l),is()),p=t.memoizedState,v=o.memoizedState,p.parent!==u?(p={parent:u,cache:u},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),Dn(o,Ye,u)):(u=v.cache,Dn(o,Ye,u),u!==p.cache&&Aa(o,[Ye],l,!0))),st(t,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function gn(t){t.flags|=4}function fu(t,o,l,u,p){if((o=(t.mode&32)!==0)&&(o=!1),o){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(np())t.flags|=8192;else throw vi=ml,Na}else t.flags&=-16777217}function Mh(t,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Jp(o))if(np())t.flags|=8192;else throw vi=ml,Na}function kl(t,o){o!==null&&(t.flags|=4),t.flags&16384&&(o=t.tag!==22?ad():536870912,t.lanes|=o,so|=o)}function cs(t,o){if(!ye)switch(t.tailMode){case"hidden":o=t.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Ge(t){var o=t.alternate!==null&&t.alternate.child===t.child,l=0,u=0;if(o)for(var p=t.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=u,t.childLanes=l,o}function o_(t,o,l){var u=o.pendingProps;switch(Sa(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(o),null;case 1:return Ge(o),null;case 3:return l=o.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),fn(Ye),Ve(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Yi(o)?gn(o):t===null||t.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ea())),Ge(o),null;case 26:var p=o.type,v=o.memoizedState;return t===null?(gn(o),v!==null?(Ge(o),Mh(o,v)):(Ge(o),fu(o,p,null,u,l))):v?v!==t.memoizedState?(gn(o),Ge(o),Mh(o,v)):(Ge(o),o.flags&=-16777217):(t=t.memoizedProps,t!==u&&gn(o),Ge(o),fu(o,p,t,u,l)),null;case 27:if(Vs(o),l=he.current,p=o.type,t!==null&&o.stateNode!=null)t.memoizedProps!==u&&gn(o);else{if(!u){if(o.stateNode===null)throw Error(s(166));return Ge(o),null}t=Z.current,Yi(o)?uf(o):(t=Op(p,u,l),o.stateNode=t,gn(o))}return Ge(o),null;case 5:if(Vs(o),p=o.type,t!==null&&o.stateNode!=null)t.memoizedProps!==u&&gn(o);else{if(!u){if(o.stateNode===null)throw Error(s(166));return Ge(o),null}if(v=Z.current,Yi(o))uf(o);else{var E=$l(he.current);switch(v){case 1:v=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=E.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?E.createElement(p,{is:u.is}):E.createElement(p)}}v[nt]=o,v[mt]=u;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)v.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=v;e:switch(lt(v,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&gn(o)}}return Ge(o),fu(o,o.type,t===null?null:t.memoizedProps,o.pendingProps,l),null;case 6:if(t&&o.stateNode!=null)t.memoizedProps!==u&&gn(o);else{if(typeof u!="string"&&o.stateNode===null)throw Error(s(166));if(t=he.current,Yi(o)){if(t=o.stateNode,l=o.memoizedProps,u=null,p=it,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}t[nt]=o,t=!!(t.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||wp(t.nodeValue,l)),t||kn(o,!0)}else t=$l(t).createTextNode(u),t[nt]=o,o.stateNode=t}return Ge(o),null;case 31:if(l=o.memoizedState,t===null||t.memoizedState!==null){if(u=Yi(o),l!==null){if(t===null){if(!u)throw Error(s(318));if(t=o.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[nt]=o}else fi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ge(o),t=!1}else l=Ea(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return o.flags&256?(Nt(o),o):(Nt(o),null);if((o.flags&128)!==0)throw Error(s(558))}return Ge(o),null;case 13:if(u=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=Yi(o),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(s(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[nt]=o}else fi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ge(o),p=!1}else p=Ea(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return o.flags&256?(Nt(o),o):(Nt(o),null)}return Nt(o),(o.flags&128)!==0?(o.lanes=l,o):(l=u!==null,t=t!==null&&t.memoizedState!==null,l&&(u=o.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)),l!==t&&l&&(o.child.flags|=8192),kl(o,o.updateQueue),Ge(o),null);case 4:return Ve(),t===null&&Uu(o.stateNode.containerInfo),Ge(o),null;case 10:return fn(o.type),Ge(o),null;case 19:if(F(Fe),u=o.memoizedState,u===null)return Ge(o),null;if(p=(o.flags&128)!==0,v=u.rendering,v===null)if(p)cs(u,!1);else{if(Be!==0||t!==null&&(t.flags&128)!==0)for(t=o.child;t!==null;){if(v=_l(t),v!==null){for(o.flags|=128,cs(u,!1),t=v.updateQueue,o.updateQueue=t,kl(o,t),o.subtreeFlags=0,t=l,l=o.child;l!==null;)of(l,t),l=l.sibling;return K(Fe,Fe.current&1|2),ye&&cn(o,u.treeForkCount),o.child}t=t.sibling}u.tail!==null&&xt()>Ol&&(o.flags|=128,p=!0,cs(u,!1),o.lanes=4194304)}else{if(!p)if(t=_l(v),t!==null){if(o.flags|=128,p=!0,t=t.updateQueue,o.updateQueue=t,kl(o,t),cs(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!ye)return Ge(o),null}else 2*xt()-u.renderingStartTime>Ol&&l!==536870912&&(o.flags|=128,p=!0,cs(u,!1),o.lanes=4194304);u.isBackwards?(v.sibling=o.child,o.child=v):(t=u.last,t!==null?t.sibling=v:o.child=v,u.last=v)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=xt(),t.sibling=null,l=Fe.current,K(Fe,p?l&1|2:l&1),ye&&cn(o,u.treeForkCount),t):(Ge(o),null);case 22:case 23:return Nt(o),La(),u=o.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(o.flags|=8192):u&&(o.flags|=8192),u?(l&536870912)!==0&&(o.flags&128)===0&&(Ge(o),o.subtreeFlags&6&&(o.flags|=8192)):Ge(o),l=o.updateQueue,l!==null&&kl(o,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==l&&(o.flags|=2048),t!==null&&F(mi),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),fn(Ye),Ge(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function s_(t,o){switch(Sa(o),o.tag){case 1:return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return fn(Ye),Ve(),t=o.flags,(t&65536)!==0&&(t&128)===0?(o.flags=t&-65537|128,o):null;case 26:case 27:case 5:return Vs(o),null;case 31:if(o.memoizedState!==null){if(Nt(o),o.alternate===null)throw Error(s(340));fi()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 13:if(Nt(o),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(s(340));fi()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return F(Fe),null;case 4:return Ve(),null;case 10:return fn(o.type),null;case 22:case 23:return Nt(o),La(),t!==null&&F(mi),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 24:return fn(Ye),null;case 25:return null;default:return null}}function Ih(t,o){switch(Sa(o),o.tag){case 3:fn(Ye),Ve();break;case 26:case 27:case 5:Vs(o);break;case 4:Ve();break;case 31:o.memoizedState!==null&&Nt(o);break;case 13:Nt(o);break;case 19:F(Fe);break;case 10:fn(o.type);break;case 22:case 23:Nt(o),La(),t!==null&&F(mi);break;case 24:fn(Ye)}}function ds(t,o){try{var l=o.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&t)===t){u=void 0;var v=l.create,E=l.inst;u=v(),E.destroy=u}l=l.next}while(l!==p)}}catch(x){Re(o,o.return,x)}}function zn(t,o,l){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&t)===t){var E=u.inst,x=E.destroy;if(x!==void 0){E.destroy=void 0,p=o;var C=l,D=x;try{D()}catch(G){Re(p,C,G)}}}u=u.next}while(u!==v)}}catch(G){Re(o,o.return,G)}}function kh(t){var o=t.updateQueue;if(o!==null){var l=t.stateNode;try{Ef(o,l)}catch(u){Re(t,t.return,u)}}}function Dh(t,o,l){l.props=Si(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(u){Re(t,o,u)}}function fs(t,o){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof l=="function"?t.refCleanup=l(u):l.current=u}}catch(p){Re(t,o,p)}}function on(t,o){var l=t.ref,u=t.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){Re(t,o,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Re(t,o,p)}else l.current=null}function Uh(t){var o=t.type,l=t.memoizedProps,u=t.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){Re(t,t.return,p)}}function hu(t,o,l){try{var u=t.stateNode;C_(u,t.type,l,o),u[mt]=o}catch(p){Re(t,t.return,p)}}function Lh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yn(t.type)||t.tag===4}function pu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mu(t,o,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(t),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=rn));else if(u!==4&&(u===27&&Yn(t.type)&&(l=t.stateNode,o=null),t=t.child,t!==null))for(mu(t,o,l),t=t.sibling;t!==null;)mu(t,o,l),t=t.sibling}function Dl(t,o,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,o?l.insertBefore(t,o):l.appendChild(t);else if(u!==4&&(u===27&&Yn(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Dl(t,o,l),t=t.sibling;t!==null;)Dl(t,o,l),t=t.sibling}function Ph(t){var o=t.stateNode,l=t.memoizedProps;try{for(var u=t.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);lt(o,u,l),o[nt]=t,o[mt]=l}catch(v){Re(t,t.return,v)}}var vn=!1,Ke=!1,gu=!1,Oh=typeof WeakSet=="function"?WeakSet:Set,We=null;function l_(t,o){if(t=t.containerInfo,Ou=er,t=jd(t),ua(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var E=0,x=-1,C=-1,D=0,G=0,B=t,U=null;t:for(;;){for(var P;B!==l||p!==0&&B.nodeType!==3||(x=E+p),B!==v||u!==0&&B.nodeType!==3||(C=E+u),B.nodeType===3&&(E+=B.nodeValue.length),(P=B.firstChild)!==null;)U=B,B=P;for(;;){if(B===t)break t;if(U===l&&++D===p&&(x=E),U===v&&++G===u&&(C=E),(P=B.nextSibling)!==null)break;B=U,U=B.parentNode}B=P}l=x===-1||C===-1?null:{start:x,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(Gu={focusedElem:t,selectionRange:l},er=!1,We=o;We!==null;)if(o=We,t=o.child,(o.subtreeFlags&1028)!==0&&t!==null)t.return=o,We=t;else for(;We!==null;){switch(o=We,v=o.alternate,t=o.flags,o.tag){case 0:if((t&4)!==0&&(t=o.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)p=t[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,l=o,p=v.memoizedProps,v=v.memoizedState,u=l.stateNode;try{var X=Si(l.type,p);t=u.getSnapshotBeforeUpdate(X,v),u.__reactInternalSnapshotBeforeUpdate=t}catch(ie){Re(l,l.return,ie)}}break;case 3:if((t&1024)!==0){if(t=o.stateNode.containerInfo,l=t.nodeType,l===9)qu(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=o.sibling,t!==null){t.return=o.return,We=t;break}We=o.return}}function Gh(t,o,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:_n(t,l),u&4&&ds(5,l);break;case 1:if(_n(t,l),u&4)if(t=l.stateNode,o===null)try{t.componentDidMount()}catch(E){Re(l,l.return,E)}else{var p=Si(l.type,o.memoizedProps);o=o.memoizedState;try{t.componentDidUpdate(p,o,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Re(l,l.return,E)}}u&64&&kh(l),u&512&&fs(l,l.return);break;case 3:if(_n(t,l),u&64&&(t=l.updateQueue,t!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{Ef(t,o)}catch(E){Re(l,l.return,E)}}break;case 27:o===null&&u&4&&Ph(l);case 26:case 5:_n(t,l),o===null&&u&4&&Uh(l),u&512&&fs(l,l.return);break;case 12:_n(t,l);break;case 31:_n(t,l),u&4&&qh(t,l);break;case 13:_n(t,l),u&4&&Bh(t,l),u&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=m_.bind(null,l),L_(t,l))));break;case 22:if(u=l.memoizedState!==null||vn,!u){o=o!==null&&o.memoizedState!==null||Ke,p=vn;var v=Ke;vn=u,(Ke=o)&&!v?Sn(t,l,(l.subtreeFlags&8772)!==0):_n(t,l),vn=p,Ke=v}break;case 30:break;default:_n(t,l)}}function zh(t){var o=t.alternate;o!==null&&(t.alternate=null,zh(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&Yr(o)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ze=null,vt=!1;function yn(t,o,l){for(l=l.child;l!==null;)Hh(t,o,l),l=l.sibling}function Hh(t,o,l){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Po,l)}catch{}switch(l.tag){case 26:Ke||on(l,o),yn(t,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ke||on(l,o);var u=ze,p=vt;Yn(l.type)&&(ze=l.stateNode,vt=!1),yn(t,o,l),Ts(l.stateNode),ze=u,vt=p;break;case 5:Ke||on(l,o);case 6:if(u=ze,p=vt,ze=null,yn(t,o,l),ze=u,vt=p,ze!==null)if(vt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(l.stateNode)}catch(v){Re(l,o,v)}else try{ze.removeChild(l.stateNode)}catch(v){Re(l,o,v)}break;case 18:ze!==null&&(vt?(t=ze,kp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),po(t)):kp(ze,l.stateNode));break;case 4:u=ze,p=vt,ze=l.stateNode.containerInfo,vt=!0,yn(t,o,l),ze=u,vt=p;break;case 0:case 11:case 14:case 15:zn(2,l,o),Ke||zn(4,l,o),yn(t,o,l);break;case 1:Ke||(on(l,o),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Dh(l,o,u)),yn(t,o,l);break;case 21:yn(t,o,l);break;case 22:Ke=(u=Ke)||l.memoizedState!==null,yn(t,o,l),Ke=u;break;default:yn(t,o,l)}}function qh(t,o){if(o.memoizedState===null&&(t=o.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{po(t)}catch(l){Re(o,o.return,l)}}}function Bh(t,o){if(o.memoizedState===null&&(t=o.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{po(t)}catch(l){Re(o,o.return,l)}}function r_(t){switch(t.tag){case 31:case 13:case 19:var o=t.stateNode;return o===null&&(o=t.stateNode=new Oh),o;case 22:return t=t.stateNode,o=t._retryCache,o===null&&(o=t._retryCache=new Oh),o;default:throw Error(s(435,t.tag))}}function Ul(t,o){var l=r_(t);o.forEach(function(u){if(!l.has(u)){l.add(u);var p=g_.bind(null,t,u);u.then(p,p)}})}function yt(t,o){var l=o.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],v=t,E=o,x=E;e:for(;x!==null;){switch(x.tag){case 27:if(Yn(x.type)){ze=x.stateNode,vt=!1;break e}break;case 5:ze=x.stateNode,vt=!1;break e;case 3:case 4:ze=x.stateNode.containerInfo,vt=!0;break e}x=x.return}if(ze===null)throw Error(s(160));Hh(v,E,p),ze=null,vt=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Vh(o,t),o=o.sibling}var jt=null;function Vh(t,o){var l=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yt(o,t),_t(t),u&4&&(zn(3,t,t.return),ds(3,t),zn(5,t,t.return));break;case 1:yt(o,t),_t(t),u&512&&(Ke||l===null||on(l,l.return)),u&64&&vn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=jt;if(yt(o,t),_t(t),u&512&&(Ke||l===null||on(l,l.return)),u&4){var v=l!==null?l.memoizedState:null;if(u=t.memoizedState,l===null)if(u===null)if(t.stateNode===null){e:{u=t.type,l=t.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[zo]||v[nt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),lt(v,u,l),v[nt]=t,Ze(v),u=v;break e;case"link":var E=Vp("link","href",p).get(u+(l.href||""));if(E){for(var x=0;x<E.length;x++)if(v=E[x],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(x,1);break t}}v=p.createElement(u),lt(v,u,l),p.head.appendChild(v);break;case"meta":if(E=Vp("meta","content",p).get(u+(l.content||""))){for(x=0;x<E.length;x++)if(v=E[x],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(x,1);break t}}v=p.createElement(u),lt(v,u,l),p.head.appendChild(v);break;default:throw Error(s(468,u))}v[nt]=t,Ze(v),u=v}t.stateNode=u}else Fp(p,t.type,t.stateNode);else t.stateNode=Bp(p,u,t.memoizedProps);else v!==u?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,u===null?Fp(p,t.type,t.stateNode):Bp(p,u,t.memoizedProps)):u===null&&t.stateNode!==null&&hu(t,t.memoizedProps,l.memoizedProps)}break;case 27:yt(o,t),_t(t),u&512&&(Ke||l===null||on(l,l.return)),l!==null&&u&4&&hu(t,t.memoizedProps,l.memoizedProps);break;case 5:if(yt(o,t),_t(t),u&512&&(Ke||l===null||on(l,l.return)),t.flags&32){p=t.stateNode;try{Pi(p,"")}catch(X){Re(t,t.return,X)}}u&4&&t.stateNode!=null&&(p=t.memoizedProps,hu(t,p,l!==null?l.memoizedProps:p)),u&1024&&(gu=!0);break;case 6:if(yt(o,t),_t(t),u&4){if(t.stateNode===null)throw Error(s(162));u=t.memoizedProps,l=t.stateNode;try{l.nodeValue=u}catch(X){Re(t,t.return,X)}}break;case 3:if(Xl=null,p=jt,jt=jl(o.containerInfo),yt(o,t),jt=p,_t(t),u&4&&l!==null&&l.memoizedState.isDehydrated)try{po(o.containerInfo)}catch(X){Re(t,t.return,X)}gu&&(gu=!1,Fh(t));break;case 4:u=jt,jt=jl(t.stateNode.containerInfo),yt(o,t),_t(t),jt=u;break;case 12:yt(o,t),_t(t);break;case 31:yt(o,t),_t(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ul(t,u)));break;case 13:yt(o,t),_t(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Pl=xt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ul(t,u)));break;case 22:p=t.memoizedState!==null;var C=l!==null&&l.memoizedState!==null,D=vn,G=Ke;if(vn=D||p,Ke=G||C,yt(o,t),Ke=G,vn=D,_t(t),u&8192)e:for(o=t.stateNode,o._visibility=p?o._visibility&-2:o._visibility|1,p&&(l===null||C||vn||Ke||Ti(t)),l=null,o=t;;){if(o.tag===5||o.tag===26){if(l===null){C=l=o;try{if(v=C.stateNode,p)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{x=C.stateNode;var B=C.memoizedProps.style,U=B!=null&&B.hasOwnProperty("display")?B.display:null;x.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(X){Re(C,C.return,X)}}}else if(o.tag===6){if(l===null){C=o;try{C.stateNode.nodeValue=p?"":C.memoizedProps}catch(X){Re(C,C.return,X)}}}else if(o.tag===18){if(l===null){C=o;try{var P=C.stateNode;p?Dp(P,!0):Dp(C.stateNode,!1)}catch(X){Re(C,C.return,X)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===t)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}u&4&&(u=t.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Ul(t,l))));break;case 19:yt(o,t),_t(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ul(t,u)));break;case 30:break;case 21:break;default:yt(o,t),_t(t)}}function _t(t){var o=t.flags;if(o&2){try{for(var l,u=t.return;u!==null;){if(Lh(u)){l=u;break}u=u.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var p=l.stateNode,v=pu(t);Dl(t,v,p);break;case 5:var E=l.stateNode;l.flags&32&&(Pi(E,""),l.flags&=-33);var x=pu(t);Dl(t,x,E);break;case 3:case 4:var C=l.stateNode.containerInfo,D=pu(t);mu(t,D,C);break;default:throw Error(s(161))}}catch(G){Re(t,t.return,G)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function Fh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var o=t;Fh(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),t=t.sibling}}function _n(t,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Gh(t,o.alternate,o),o=o.sibling}function Ti(t){for(t=t.child;t!==null;){var o=t;switch(o.tag){case 0:case 11:case 14:case 15:zn(4,o,o.return),Ti(o);break;case 1:on(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&Dh(o,o.return,l),Ti(o);break;case 27:Ts(o.stateNode);case 26:case 5:on(o,o.return),Ti(o);break;case 22:o.memoizedState===null&&Ti(o);break;case 30:Ti(o);break;default:Ti(o)}t=t.sibling}}function Sn(t,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var u=o.alternate,p=t,v=o,E=v.flags;switch(v.tag){case 0:case 11:case 15:Sn(p,v,l),ds(4,v);break;case 1:if(Sn(p,v,l),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(D){Re(u,u.return,D)}if(u=v,p=u.updateQueue,p!==null){var x=u.stateNode;try{var C=p.shared.hiddenCallbacks;if(C!==null)for(p.shared.hiddenCallbacks=null,p=0;p<C.length;p++)Tf(C[p],x)}catch(D){Re(u,u.return,D)}}l&&E&64&&kh(v),fs(v,v.return);break;case 27:Ph(v);case 26:case 5:Sn(p,v,l),l&&u===null&&E&4&&Uh(v),fs(v,v.return);break;case 12:Sn(p,v,l);break;case 31:Sn(p,v,l),l&&E&4&&qh(p,v);break;case 13:Sn(p,v,l),l&&E&4&&Bh(p,v);break;case 22:v.memoizedState===null&&Sn(p,v,l),fs(v,v.return);break;case 30:break;default:Sn(p,v,l)}o=o.sibling}}function vu(t,o){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(t=o.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Zo(l))}function yu(t,o){t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&Zo(t))}function Kt(t,o,l,u){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Jh(t,o,l,u),o=o.sibling}function Jh(t,o,l,u){var p=o.flags;switch(o.tag){case 0:case 11:case 15:Kt(t,o,l,u),p&2048&&ds(9,o);break;case 1:Kt(t,o,l,u);break;case 3:Kt(t,o,l,u),p&2048&&(t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&Zo(t)));break;case 12:if(p&2048){Kt(t,o,l,u),t=o.stateNode;try{var v=o.memoizedProps,E=v.id,x=v.onPostCommit;typeof x=="function"&&x(E,o.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Re(o,o.return,C)}}else Kt(t,o,l,u);break;case 31:Kt(t,o,l,u);break;case 13:Kt(t,o,l,u);break;case 23:break;case 22:v=o.stateNode,E=o.alternate,o.memoizedState!==null?v._visibility&2?Kt(t,o,l,u):hs(t,o):v._visibility&2?Kt(t,o,l,u):(v._visibility|=2,no(t,o,l,u,(o.subtreeFlags&10256)!==0||!1)),p&2048&&vu(E,o);break;case 24:Kt(t,o,l,u),p&2048&&yu(o.alternate,o);break;default:Kt(t,o,l,u)}}function no(t,o,l,u,p){for(p=p&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var v=t,E=o,x=l,C=u,D=E.flags;switch(E.tag){case 0:case 11:case 15:no(v,E,x,C,p),ds(8,E);break;case 23:break;case 22:var G=E.stateNode;E.memoizedState!==null?G._visibility&2?no(v,E,x,C,p):hs(v,E):(G._visibility|=2,no(v,E,x,C,p)),p&&D&2048&&vu(E.alternate,E);break;case 24:no(v,E,x,C,p),p&&D&2048&&yu(E.alternate,E);break;default:no(v,E,x,C,p)}o=o.sibling}}function hs(t,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=t,u=o,p=u.flags;switch(u.tag){case 22:hs(l,u),p&2048&&vu(u.alternate,u);break;case 24:hs(l,u),p&2048&&yu(u.alternate,u);break;default:hs(l,u)}o=o.sibling}}var ps=8192;function io(t,o,l){if(t.subtreeFlags&ps)for(t=t.child;t!==null;)Yh(t,o,l),t=t.sibling}function Yh(t,o,l){switch(t.tag){case 26:io(t,o,l),t.flags&ps&&t.memoizedState!==null&&$_(l,jt,t.memoizedState,t.memoizedProps);break;case 5:io(t,o,l);break;case 3:case 4:var u=jt;jt=jl(t.stateNode.containerInfo),io(t,o,l),jt=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=ps,ps=16777216,io(t,o,l),ps=u):io(t,o,l));break;default:io(t,o,l)}}function $h(t){var o=t.alternate;if(o!==null&&(t=o.child,t!==null)){o.child=null;do o=t.sibling,t.sibling=null,t=o;while(t!==null)}}function ms(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var u=o[l];We=u,Kh(u,t)}$h(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jh(t),t=t.sibling}function jh(t){switch(t.tag){case 0:case 11:case 15:ms(t),t.flags&2048&&zn(9,t,t.return);break;case 3:ms(t);break;case 12:ms(t);break;case 22:var o=t.stateNode;t.memoizedState!==null&&o._visibility&2&&(t.return===null||t.return.tag!==13)?(o._visibility&=-3,Ll(t)):ms(t);break;default:ms(t)}}function Ll(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var u=o[l];We=u,Kh(u,t)}$h(t)}for(t=t.child;t!==null;){switch(o=t,o.tag){case 0:case 11:case 15:zn(8,o,o.return),Ll(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,Ll(o));break;default:Ll(o)}t=t.sibling}}function Kh(t,o){for(;We!==null;){var l=We;switch(l.tag){case 0:case 11:case 15:zn(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Zo(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,We=u;else e:for(l=t;We!==null;){u=We;var p=u.sibling,v=u.return;if(zh(u),u===l){We=null;break e}if(p!==null){p.return=v,We=p;break e}We=v}}}var a_={getCacheForType:function(t){var o=ot(Ye),l=o.data.get(t);return l===void 0&&(l=t(),o.data.set(t,l)),l},cacheSignal:function(){return ot(Ye).controller.signal}},u_=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Ue=null,pe=null,ge=0,Ce=0,Mt=null,Hn=!1,oo=!1,_u=!1,Tn=0,Be=0,qn=0,Ei=0,Su=0,It=0,so=0,gs=null,St=null,Tu=!1,Pl=0,Xh=0,Ol=1/0,Gl=null,Bn=null,Xe=0,Vn=null,lo=null,En=0,Eu=0,xu=null,Qh=null,vs=0,bu=null;function kt(){return(Ae&2)!==0&&ge!==0?ge&-ge:z.T!==null?Mu():fd()}function Zh(){if(It===0)if((ge&536870912)===0||ye){var t=Ys;Ys<<=1,(Ys&3932160)===0&&(Ys=262144),It=t}else It=536870912;return t=Rt.current,t!==null&&(t.flags|=32),It}function Tt(t,o,l){(t===Ue&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)&&(ro(t,0),Fn(t,ge,It,!1)),Go(t,l),((Ae&2)===0||t!==Ue)&&(t===Ue&&((Ae&2)===0&&(Ei|=l),Be===4&&Fn(t,ge,It,!1)),sn(t))}function Wh(t,o,l){if((Ae&6)!==0)throw Error(s(327));var u=!l&&(o&127)===0&&(o&t.expiredLanes)===0||Oo(t,o),p=u?f_(t,o):wu(t,o,!0),v=u;do{if(p===0){oo&&!u&&Fn(t,o,0,!1);break}else{if(l=t.current.alternate,v&&!c_(l)){p=wu(t,o,!1),v=!1;continue}if(p===2){if(v=o,t.errorRecoveryDisabledLanes&v)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var x=t;p=gs;var C=x.current.memoizedState.isDehydrated;if(C&&(ro(x,E).flags|=256),E=wu(x,E,!1),E!==2){if(_u&&!C){x.errorRecoveryDisabledLanes|=v,Ei|=v,p=4;break e}v=St,St=p,v!==null&&(St===null?St=v:St.push.apply(St,v))}p=E}if(v=!1,p!==2)continue}}if(p===1){ro(t,0),Fn(t,o,0,!0);break}e:{switch(u=t,v=p,v){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Fn(u,o,It,!Hn);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(p=Pl+300-xt(),10<p)){if(Fn(u,o,It,!Hn),js(u,0,!0)!==0)break e;En=o,u.timeoutHandle=Mp(ep.bind(null,u,l,St,Gl,Tu,o,It,Ei,so,Hn,v,"Throttled",-0,0),p);break e}ep(u,l,St,Gl,Tu,o,It,Ei,so,Hn,v,null,-0,0)}}break}while(!0);sn(t)}function ep(t,o,l,u,p,v,E,x,C,D,G,B,U,P){if(t.timeoutHandle=-1,B=o.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rn},Yh(o,v,B);var X=(v&62914560)===v?Pl-xt():(v&4194048)===v?Xh-xt():0;if(X=j_(B,X),X!==null){En=v,t.cancelPendingCommit=X(ap.bind(null,t,o,v,l,u,p,E,x,C,G,B,null,U,P)),Fn(t,v,E,!D);return}}ap(t,o,v,l,u,p,E,x,C)}function c_(t){for(var o=t;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],v=p.getSnapshot;p=p.value;try{if(!wt(v(),p))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Fn(t,o,l,u){o&=~Su,o&=~Ei,t.suspendedLanes|=o,t.pingedLanes&=~o,u&&(t.warmLanes|=o),u=t.expirationTimes;for(var p=o;0<p;){var v=31-At(p),E=1<<v;u[v]=-1,p&=~E}l!==0&&ud(t,l,o)}function zl(){return(Ae&6)===0?(ys(0),!1):!0}function Au(){if(pe!==null){if(Ce===0)var t=pe.return;else t=pe,dn=hi=null,qa(t),Qi=null,es=0,t=pe;for(;t!==null;)Ih(t.alternate,t),t=t.return;pe=null}}function ro(t,o){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,M_(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),En=0,Au(),Ue=t,pe=l=un(t.current,null),ge=o,Ce=0,Mt=null,Hn=!1,oo=Oo(t,o),_u=!1,so=It=Su=Ei=qn=Be=0,St=gs=null,Tu=!1,(o&8)!==0&&(o|=o&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=o;0<u;){var p=31-At(u),v=1<<p;o|=t[p],u&=~v}return Tn=o,ll(),l}function tp(t,o){ae=null,z.H=as,o===Xi||o===pl?(o=vf(),Ce=3):o===Na?(o=vf(),Ce=4):Ce=o===iu?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mt=o,pe===null&&(Be=1,Rl(t,Gt(o,t.current)))}function np(){var t=Rt.current;return t===null?!0:(ge&4194048)===ge?Bt===null:(ge&62914560)===ge||(ge&536870912)!==0?t===Bt:!1}function ip(){var t=z.H;return z.H=as,t===null?as:t}function op(){var t=z.A;return z.A=a_,t}function Hl(){Be=4,Hn||(ge&4194048)!==ge&&Rt.current!==null||(oo=!0),(qn&134217727)===0&&(Ei&134217727)===0||Ue===null||Fn(Ue,ge,It,!1)}function wu(t,o,l){var u=Ae;Ae|=2;var p=ip(),v=op();(Ue!==t||ge!==o)&&(Gl=null,ro(t,o)),o=!1;var E=Be;e:do try{if(Ce!==0&&pe!==null){var x=pe,C=Mt;switch(Ce){case 8:Au(),E=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(o=!0);var D=Ce;if(Ce=0,Mt=null,ao(t,x,C,D),l&&oo){E=0;break e}break;default:D=Ce,Ce=0,Mt=null,ao(t,x,C,D)}}d_(),E=Be;break}catch(G){tp(t,G)}while(!0);return o&&t.shellSuspendCounter++,dn=hi=null,Ae=u,z.H=p,z.A=v,pe===null&&(Ue=null,ge=0,ll()),E}function d_(){for(;pe!==null;)sp(pe)}function f_(t,o){var l=Ae;Ae|=2;var u=ip(),p=op();Ue!==t||ge!==o?(Gl=null,Ol=xt()+500,ro(t,o)):oo=Oo(t,o);e:do try{if(Ce!==0&&pe!==null){o=pe;var v=Mt;t:switch(Ce){case 1:Ce=0,Mt=null,ao(t,o,v,1);break;case 2:case 9:if(mf(v)){Ce=0,Mt=null,lp(o);break}o=function(){Ce!==2&&Ce!==9||Ue!==t||(Ce=7),sn(t)},v.then(o,o);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:mf(v)?(Ce=0,Mt=null,lp(o)):(Ce=0,Mt=null,ao(t,o,v,7));break;case 5:var E=null;switch(pe.tag){case 26:E=pe.memoizedState;case 5:case 27:var x=pe;if(E?Jp(E):x.stateNode.complete){Ce=0,Mt=null;var C=x.sibling;if(C!==null)pe=C;else{var D=x.return;D!==null?(pe=D,ql(D)):pe=null}break t}}Ce=0,Mt=null,ao(t,o,v,5);break;case 6:Ce=0,Mt=null,ao(t,o,v,6);break;case 8:Au(),Be=6;break e;default:throw Error(s(462))}}h_();break}catch(G){tp(t,G)}while(!0);return dn=hi=null,z.H=u,z.A=p,Ae=l,pe!==null?0:(Ue=null,ge=0,ll(),Be)}function h_(){for(;pe!==null&&!Pv();)sp(pe)}function sp(t){var o=Nh(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,o===null?ql(t):pe=o}function lp(t){var o=t,l=o.alternate;switch(o.tag){case 15:case 0:o=xh(l,o,o.pendingProps,o.type,void 0,ge);break;case 11:o=xh(l,o,o.pendingProps,o.type.render,o.ref,ge);break;case 5:qa(o);default:Ih(l,o),o=pe=of(o,Tn),o=Nh(l,o,Tn)}t.memoizedProps=t.pendingProps,o===null?ql(t):pe=o}function ao(t,o,l,u){dn=hi=null,qa(o),Qi=null,es=0;var p=o.return;try{if(t_(t,p,o,l,ge)){Be=1,Rl(t,Gt(l,t.current)),pe=null;return}}catch(v){if(p!==null)throw pe=p,v;Be=1,Rl(t,Gt(l,t.current)),pe=null;return}o.flags&32768?(ye||u===1?t=!0:oo||(ge&536870912)!==0?t=!1:(Hn=t=!0,(u===2||u===9||u===3||u===6)&&(u=Rt.current,u!==null&&u.tag===13&&(u.flags|=16384))),rp(o,t)):ql(o)}function ql(t){var o=t;do{if((o.flags&32768)!==0){rp(o,Hn);return}t=o.return;var l=o_(o.alternate,o,Tn);if(l!==null){pe=l;return}if(o=o.sibling,o!==null){pe=o;return}pe=o=t}while(o!==null);Be===0&&(Be=5)}function rp(t,o){do{var l=s_(t.alternate,t);if(l!==null){l.flags&=32767,pe=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(t=t.sibling,t!==null)){pe=t;return}pe=t=l}while(t!==null);Be=6,pe=null}function ap(t,o,l,u,p,v,E,x,C){t.cancelPendingCommit=null;do Bl();while(Xe!==0);if((Ae&6)!==0)throw Error(s(327));if(o!==null){if(o===t.current)throw Error(s(177));if(v=o.lanes|o.childLanes,v|=pa,Yv(t,l,v,E,x,C),t===Ue&&(pe=Ue=null,ge=0),lo=o,Vn=t,En=l,Eu=v,xu=p,Qh=u,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,v_(Fs,function(){return hp(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||u){u=z.T,z.T=null,p=$.p,$.p=2,E=Ae,Ae|=4;try{l_(t,o,l)}finally{Ae=E,$.p=p,z.T=u}}Xe=1,up(),cp(),dp()}}function up(){if(Xe===1){Xe=0;var t=Vn,o=lo,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var u=$.p;$.p=2;var p=Ae;Ae|=4;try{Vh(o,t);var v=Gu,E=jd(t.containerInfo),x=v.focusedElem,C=v.selectionRange;if(E!==x&&x&&x.ownerDocument&&$d(x.ownerDocument.documentElement,x)){if(C!==null&&ua(x)){var D=C.start,G=C.end;if(G===void 0&&(G=D),"selectionStart"in x)x.selectionStart=D,x.selectionEnd=Math.min(G,x.value.length);else{var B=x.ownerDocument||document,U=B&&B.defaultView||window;if(U.getSelection){var P=U.getSelection(),X=x.textContent.length,ie=Math.min(C.start,X),ke=C.end===void 0?ie:Math.min(C.end,X);!P.extend&&ie>ke&&(E=ke,ke=ie,ie=E);var M=Yd(x,ie),R=Yd(x,ke);if(M&&R&&(P.rangeCount!==1||P.anchorNode!==M.node||P.anchorOffset!==M.offset||P.focusNode!==R.node||P.focusOffset!==R.offset)){var k=B.createRange();k.setStart(M.node,M.offset),P.removeAllRanges(),ie>ke?(P.addRange(k),P.extend(R.node,R.offset)):(k.setEnd(R.node,R.offset),P.addRange(k))}}}}for(B=[],P=x;P=P.parentNode;)P.nodeType===1&&B.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<B.length;x++){var q=B[x];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}er=!!Ou,Gu=Ou=null}finally{Ae=p,$.p=u,z.T=l}}t.current=o,Xe=2}}function cp(){if(Xe===2){Xe=0;var t=Vn,o=lo,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var u=$.p;$.p=2;var p=Ae;Ae|=4;try{Gh(t,o.alternate,o)}finally{Ae=p,$.p=u,z.T=l}}Xe=3}}function dp(){if(Xe===4||Xe===3){Xe=0,Ov();var t=Vn,o=lo,l=En,u=Qh;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Xe=5:(Xe=0,lo=Vn=null,fp(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Bn=null),Fr(l),o=o.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Po,o,void 0,(o.current.flags&128)===128)}catch{}if(u!==null){o=z.T,p=$.p,$.p=2,z.T=null;try{for(var v=t.onRecoverableError,E=0;E<u.length;E++){var x=u[E];v(x.value,{componentStack:x.stack})}}finally{z.T=o,$.p=p}}(En&3)!==0&&Bl(),sn(t),p=t.pendingLanes,(l&261930)!==0&&(p&42)!==0?t===bu?vs++:(vs=0,bu=t):vs=0,ys(0)}}function fp(t,o){(t.pooledCacheLanes&=o)===0&&(o=t.pooledCache,o!=null&&(t.pooledCache=null,Zo(o)))}function Bl(){return up(),cp(),dp(),hp()}function hp(){if(Xe!==5)return!1;var t=Vn,o=Eu;Eu=0;var l=Fr(En),u=z.T,p=$.p;try{$.p=32>l?32:l,z.T=null,l=xu,xu=null;var v=Vn,E=En;if(Xe=0,lo=Vn=null,En=0,(Ae&6)!==0)throw Error(s(331));var x=Ae;if(Ae|=4,jh(v.current),Jh(v,v.current,E,l),Ae=x,ys(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Po,v)}catch{}return!0}finally{$.p=p,z.T=u,fp(t,o)}}function pp(t,o,l){o=Gt(l,o),o=nu(t.stateNode,o,2),t=Pn(t,o,2),t!==null&&(Go(t,2),sn(t))}function Re(t,o,l){if(t.tag===3)pp(t,t,l);else for(;o!==null;){if(o.tag===3){pp(o,t,l);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Bn===null||!Bn.has(u))){t=Gt(l,t),l=mh(2),u=Pn(o,l,2),u!==null&&(gh(l,u,o,t),Go(u,2),sn(u));break}}o=o.return}}function Cu(t,o,l){var u=t.pingCache;if(u===null){u=t.pingCache=new u_;var p=new Set;u.set(o,p)}else p=u.get(o),p===void 0&&(p=new Set,u.set(o,p));p.has(l)||(_u=!0,p.add(l),t=p_.bind(null,t,o,l),o.then(t,t))}function p_(t,o,l){var u=t.pingCache;u!==null&&u.delete(o),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Ue===t&&(ge&l)===l&&(Be===4||Be===3&&(ge&62914560)===ge&&300>xt()-Pl?(Ae&2)===0&&ro(t,0):Su|=l,so===ge&&(so=0)),sn(t)}function mp(t,o){o===0&&(o=ad()),t=ci(t,o),t!==null&&(Go(t,o),sn(t))}function m_(t){var o=t.memoizedState,l=0;o!==null&&(l=o.retryLane),mp(t,l)}function g_(t,o){var l=0;switch(t.tag){case 31:case 13:var u=t.stateNode,p=t.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(o),mp(t,l)}function v_(t,o){return Hr(t,o)}var Vl=null,uo=null,Ru=!1,Fl=!1,Nu=!1,Jn=0;function sn(t){t!==uo&&t.next===null&&(uo===null?Vl=uo=t:uo=uo.next=t),Fl=!0,Ru||(Ru=!0,__())}function ys(t,o){if(!Nu&&Fl){Nu=!0;do for(var l=!1,u=Vl;u!==null;){if(t!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var E=u.suspendedLanes,x=u.pingedLanes;v=(1<<31-At(42|t)+1)-1,v&=p&~(E&~x),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,_p(u,v))}else v=ge,v=js(u,u===Ue?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Oo(u,v)||(l=!0,_p(u,v));u=u.next}while(l);Nu=!1}}function y_(){gp()}function gp(){Fl=Ru=!1;var t=0;Jn!==0&&N_()&&(t=Jn);for(var o=xt(),l=null,u=Vl;u!==null;){var p=u.next,v=vp(u,o);v===0?(u.next=null,l===null?Vl=p:l.next=p,p===null&&(uo=l)):(l=u,(t!==0||(v&3)!==0)&&(Fl=!0)),u=p}Xe!==0&&Xe!==5||ys(t),Jn!==0&&(Jn=0)}function vp(t,o){for(var l=t.suspendedLanes,u=t.pingedLanes,p=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var E=31-At(v),x=1<<E,C=p[E];C===-1?((x&l)===0||(x&u)!==0)&&(p[E]=Jv(x,o)):C<=o&&(t.expiredLanes|=x),v&=~x}if(o=Ue,l=ge,l=js(t,t===o?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,l===0||t===o&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&qr(u),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Oo(t,l)){if(o=l&-l,o===t.callbackPriority)return o;switch(u!==null&&qr(u),Fr(l)){case 2:case 8:l=ld;break;case 32:l=Fs;break;case 268435456:l=rd;break;default:l=Fs}return u=yp.bind(null,t),l=Hr(l,u),t.callbackPriority=o,t.callbackNode=l,o}return u!==null&&u!==null&&qr(u),t.callbackPriority=2,t.callbackNode=null,2}function yp(t,o){if(Xe!==0&&Xe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Bl()&&t.callbackNode!==l)return null;var u=ge;return u=js(t,t===Ue?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Wh(t,u,o),vp(t,xt()),t.callbackNode!=null&&t.callbackNode===l?yp.bind(null,t):null)}function _p(t,o){if(Bl())return null;Wh(t,o,!0)}function __(){I_(function(){(Ae&6)!==0?Hr(sd,y_):gp()})}function Mu(){if(Jn===0){var t=ji;t===0&&(t=Js,Js<<=1,(Js&261888)===0&&(Js=256)),Jn=t}return Jn}function Sp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zs(""+t)}function Tp(t,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,t.id&&l.setAttribute("form",t.id),o.parentNode.insertBefore(l,o),t=new FormData(t),l.parentNode.removeChild(l),t}function S_(t,o,l,u,p){if(o==="submit"&&l&&l.stateNode===p){var v=Sp((p[mt]||null).action),E=u.submitter;E&&(o=(o=E[mt]||null)?Sp(o.formAction):E.getAttribute("formAction"),o!==null&&(v=o,E=null));var x=new nl("action","action",null,u,p);t.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Jn!==0){var C=E?Tp(p,E):new FormData(p);Xa(l,{pending:!0,data:C,method:p.method,action:v},null,C)}}else typeof v=="function"&&(x.preventDefault(),C=E?Tp(p,E):new FormData(p),Xa(l,{pending:!0,data:C,method:p.method,action:v},v,C))},currentTarget:p}]})}}for(var Iu=0;Iu<ha.length;Iu++){var ku=ha[Iu],T_=ku.toLowerCase(),E_=ku[0].toUpperCase()+ku.slice(1);$t(T_,"on"+E_)}$t(Qd,"onAnimationEnd"),$t(Zd,"onAnimationIteration"),$t(Wd,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(Gy,"onTransitionRun"),$t(zy,"onTransitionStart"),$t(Hy,"onTransitionCancel"),$t(ef,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_s));function Ep(t,o){o=(o&4)!==0;for(var l=0;l<t.length;l++){var u=t[l],p=u.event;u=u.listeners;e:{var v=void 0;if(o)for(var E=u.length-1;0<=E;E--){var x=u[E],C=x.instance,D=x.currentTarget;if(x=x.listener,C!==v&&p.isPropagationStopped())break e;v=x,p.currentTarget=D;try{v(p)}catch(G){sl(G)}p.currentTarget=null,v=C}else for(E=0;E<u.length;E++){if(x=u[E],C=x.instance,D=x.currentTarget,x=x.listener,C!==v&&p.isPropagationStopped())break e;v=x,p.currentTarget=D;try{v(p)}catch(G){sl(G)}p.currentTarget=null,v=C}}}}function me(t,o){var l=o[Jr];l===void 0&&(l=o[Jr]=new Set);var u=t+"__bubble";l.has(u)||(xp(o,t,2,!1),l.add(u))}function Du(t,o,l){var u=0;o&&(u|=4),xp(l,t,u,o)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Uu(t){if(!t[Jl]){t[Jl]=!0,md.forEach(function(l){l!=="selectionchange"&&(x_.has(l)||Du(l,!1,t),Du(l,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[Jl]||(o[Jl]=!0,Du("selectionchange",!1,o))}}function xp(t,o,l,u){switch(Zp(o)){case 2:var p=Q_;break;case 8:p=Z_;break;default:p=Ku}l=p.bind(null,o,l,t),p=void 0,!ea||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),u?p!==void 0?t.addEventListener(o,l,{capture:!0,passive:p}):t.addEventListener(o,l,!0):p!==void 0?t.addEventListener(o,l,{passive:p}):t.addEventListener(o,l,!1)}function Lu(t,o,l,u,p){var v=u;if((o&1)===0&&(o&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var x=u.stateNode.containerInfo;if(x===p)break;if(E===4)for(E=u.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;x!==null;){if(E=Ii(x),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){u=v=E;continue e}x=x.parentNode}}u=u.return}Cd(function(){var D=v,G=Zr(l),B=[];e:{var U=tf.get(t);if(U!==void 0){var P=nl,X=t;switch(t){case"keypress":if(el(l)===0)break e;case"keydown":case"keyup":P=gy;break;case"focusin":X="focus",P=oa;break;case"focusout":X="blur",P=oa;break;case"beforeblur":case"afterblur":P=oa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=oy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=_y;break;case Qd:case Zd:case Wd:P=ry;break;case ef:P=Ty;break;case"scroll":case"scrollend":P=ny;break;case"wheel":P=xy;break;case"copy":case"cut":case"paste":P=uy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=kd;break;case"toggle":case"beforetoggle":P=Ay}var ie=(o&4)!==0,ke=!ie&&(t==="scroll"||t==="scrollend"),M=ie?U!==null?U+"Capture":null:U;ie=[];for(var R=D,k;R!==null;){var q=R;if(k=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||k===null||M===null||(q=qo(R,M),q!=null&&ie.push(Ss(R,q,k))),ke)break;R=R.return}0<ie.length&&(U=new P(U,X,null,l,G),B.push({event:U,listeners:ie}))}}if((o&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",U&&l!==Qr&&(X=l.relatedTarget||l.fromElement)&&(Ii(X)||X[Mi]))break e;if((P||U)&&(U=G.window===G?G:(U=G.ownerDocument)?U.defaultView||U.parentWindow:window,P?(X=l.relatedTarget||l.toElement,P=D,X=X?Ii(X):null,X!==null&&(ke=a(X),ie=X.tag,X!==ke||ie!==5&&ie!==27&&ie!==6)&&(X=null)):(P=null,X=D),P!==X)){if(ie=Md,q="onMouseLeave",M="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ie=kd,q="onPointerLeave",M="onPointerEnter",R="pointer"),ke=P==null?U:Ho(P),k=X==null?U:Ho(X),U=new ie(q,R+"leave",P,l,G),U.target=ke,U.relatedTarget=k,q=null,Ii(G)===D&&(ie=new ie(M,R+"enter",X,l,G),ie.target=k,ie.relatedTarget=ke,q=ie),ke=q,P&&X)t:{for(ie=b_,M=P,R=X,k=0,q=M;q;q=ie(q))k++;q=0;for(var ne=R;ne;ne=ie(ne))q++;for(;0<k-q;)M=ie(M),k--;for(;0<q-k;)R=ie(R),q--;for(;k--;){if(M===R||R!==null&&M===R.alternate){ie=M;break t}M=ie(M),R=ie(R)}ie=null}else ie=null;P!==null&&bp(B,U,P,ie,!1),X!==null&&ke!==null&&bp(B,ke,X,ie,!0)}}e:{if(U=D?Ho(D):window,P=U.nodeName&&U.nodeName.toLowerCase(),P==="select"||P==="input"&&U.type==="file")var Te=Hd;else if(Gd(U))if(qd)Te=Ly;else{Te=Dy;var W=ky}else P=U.nodeName,!P||P.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?D&&Xr(D.elementType)&&(Te=Hd):Te=Uy;if(Te&&(Te=Te(t,D))){zd(B,Te,l,G);break e}W&&W(t,U,D),t==="focusout"&&D&&U.type==="number"&&D.memoizedProps.value!=null&&Kr(U,"number",U.value)}switch(W=D?Ho(D):window,t){case"focusin":(Gd(W)||W.contentEditable==="true")&&(Hi=W,ca=D,Ko=null);break;case"focusout":Ko=ca=Hi=null;break;case"mousedown":da=!0;break;case"contextmenu":case"mouseup":case"dragend":da=!1,Kd(B,l,G);break;case"selectionchange":if(Oy)break;case"keydown":case"keyup":Kd(B,l,G)}var ce;if(la)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else zi?Pd(t,l)&&(ve="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(ve="onCompositionStart");ve&&(Dd&&l.locale!=="ko"&&(zi||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&zi&&(ce=Rd()):(Nn=G,ta="value"in Nn?Nn.value:Nn.textContent,zi=!0)),W=Yl(D,ve),0<W.length&&(ve=new Id(ve,t,null,l,G),B.push({event:ve,listeners:W}),ce?ve.data=ce:(ce=Od(l),ce!==null&&(ve.data=ce)))),(ce=Cy?Ry(t,l):Ny(t,l))&&(ve=Yl(D,"onBeforeInput"),0<ve.length&&(W=new Id("onBeforeInput","beforeinput",null,l,G),B.push({event:W,listeners:ve}),W.data=ce)),S_(B,t,D,l,G)}Ep(B,o)})}function Ss(t,o,l){return{instance:t,listener:o,currentTarget:l}}function Yl(t,o){for(var l=o+"Capture",u=[];t!==null;){var p=t,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=qo(t,l),p!=null&&u.unshift(Ss(t,p,v)),p=qo(t,o),p!=null&&u.push(Ss(t,p,v))),t.tag===3)return u;t=t.return}return[]}function b_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function bp(t,o,l,u,p){for(var v=o._reactName,E=[];l!==null&&l!==u;){var x=l,C=x.alternate,D=x.stateNode;if(x=x.tag,C!==null&&C===u)break;x!==5&&x!==26&&x!==27||D===null||(C=D,p?(D=qo(l,v),D!=null&&E.unshift(Ss(l,D,C))):p||(D=qo(l,v),D!=null&&E.push(Ss(l,D,C)))),l=l.return}E.length!==0&&t.push({event:o,listeners:E})}var A_=/\r\n?/g,w_=/\u0000|\uFFFD/g;function Ap(t){return(typeof t=="string"?t:""+t).replace(A_,`
`).replace(w_,"")}function wp(t,o){return o=Ap(o),Ap(t)===o}function Ie(t,o,l,u,p,v){switch(l){case"children":typeof u=="string"?o==="body"||o==="textarea"&&u===""||Pi(t,u):(typeof u=="number"||typeof u=="bigint")&&o!=="body"&&Pi(t,""+u);break;case"className":Xs(t,"class",u);break;case"tabIndex":Xs(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Xs(t,l,u);break;case"style":Ad(t,u,v);break;case"data":if(o!=="object"){Xs(t,"data",u);break}case"src":case"href":if(u===""&&(o!=="a"||l!=="href")){t.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(l);break}u=Zs(""+u),t.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(o!=="input"&&Ie(t,o,"name",p.name,p,null),Ie(t,o,"formEncType",p.formEncType,p,null),Ie(t,o,"formMethod",p.formMethod,p,null),Ie(t,o,"formTarget",p.formTarget,p,null)):(Ie(t,o,"encType",p.encType,p,null),Ie(t,o,"method",p.method,p,null),Ie(t,o,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(l);break}u=Zs(""+u),t.setAttribute(l,u);break;case"onClick":u!=null&&(t.onclick=rn);break;case"onScroll":u!=null&&me("scroll",t);break;case"onScrollEnd":u!=null&&me("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(s(60));t.innerHTML=l}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}l=Zs(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,""+u):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":u===!0?t.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,u):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(l,u):t.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(l):t.setAttribute(l,u);break;case"popover":me("beforetoggle",t),me("toggle",t),Ks(t,"popover",u);break;case"xlinkActuate":ln(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ln(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ln(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ln(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ln(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ln(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ln(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ln(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ln(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ks(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ey.get(l)||l,Ks(t,l,u))}}function Pu(t,o,l,u,p,v){switch(l){case"style":Ad(t,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(s(60));t.innerHTML=l}}break;case"children":typeof u=="string"?Pi(t,u):(typeof u=="number"||typeof u=="bigint")&&Pi(t,""+u);break;case"onScroll":u!=null&&me("scroll",t);break;case"onScrollEnd":u!=null&&me("scrollend",t);break;case"onClick":u!=null&&(t.onclick=rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),o=l.slice(2,p?l.length-7:void 0),v=t[mt]||null,v=v!=null?v[l]:null,typeof v=="function"&&t.removeEventListener(o,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(o,u,p);break e}l in t?t[l]=u:u===!0?t.setAttribute(l,""):Ks(t,l,u)}}}function lt(t,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",t),me("load",t);var u=!1,p=!1,v;for(v in l)if(l.hasOwnProperty(v)){var E=l[v];if(E!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Ie(t,o,v,E,l,null)}}p&&Ie(t,o,"srcSet",l.srcSet,l,null),u&&Ie(t,o,"src",l.src,l,null);return;case"input":me("invalid",t);var x=v=E=p=null,C=null,D=null;for(u in l)if(l.hasOwnProperty(u)){var G=l[u];if(G!=null)switch(u){case"name":p=G;break;case"type":E=G;break;case"checked":C=G;break;case"defaultChecked":D=G;break;case"value":v=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,o));break;default:Ie(t,o,u,G,l,null)}}Td(t,v,x,C,D,E,p,!1);return;case"select":me("invalid",t),u=E=v=null;for(p in l)if(l.hasOwnProperty(p)&&(x=l[p],x!=null))switch(p){case"value":v=x;break;case"defaultValue":E=x;break;case"multiple":u=x;default:Ie(t,o,p,x,l,null)}o=v,l=E,t.multiple=!!u,o!=null?Li(t,!!u,o,!1):l!=null&&Li(t,!!u,l,!0);return;case"textarea":me("invalid",t),v=p=u=null;for(E in l)if(l.hasOwnProperty(E)&&(x=l[E],x!=null))switch(E){case"value":u=x;break;case"defaultValue":p=x;break;case"children":v=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:Ie(t,o,E,x,l,null)}xd(t,u,p,v);return;case"option":for(C in l)if(l.hasOwnProperty(C)&&(u=l[C],u!=null))switch(C){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ie(t,o,C,u,l,null)}return;case"dialog":me("beforetoggle",t),me("toggle",t),me("cancel",t),me("close",t);break;case"iframe":case"object":me("load",t);break;case"video":case"audio":for(u=0;u<_s.length;u++)me(_s[u],t);break;case"image":me("error",t),me("load",t);break;case"details":me("toggle",t);break;case"embed":case"source":case"link":me("error",t),me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(u=l[D],u!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Ie(t,o,D,u,l,null)}return;default:if(Xr(o)){for(G in l)l.hasOwnProperty(G)&&(u=l[G],u!==void 0&&Pu(t,o,G,u,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(u=l[x],u!=null&&Ie(t,o,x,u,l,null))}function C_(t,o,l,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,E=null,x=null,C=null,D=null,G=null;for(P in l){var B=l[P];if(l.hasOwnProperty(P)&&B!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":C=B;default:u.hasOwnProperty(P)||Ie(t,o,P,null,u,B)}}for(var U in u){var P=u[U];if(B=l[U],u.hasOwnProperty(U)&&(P!=null||B!=null))switch(U){case"type":v=P;break;case"name":p=P;break;case"checked":D=P;break;case"defaultChecked":G=P;break;case"value":E=P;break;case"defaultValue":x=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,o));break;default:P!==B&&Ie(t,o,U,P,u,B)}}jr(t,E,x,C,D,G,v,p);return;case"select":P=E=x=U=null;for(v in l)if(C=l[v],l.hasOwnProperty(v)&&C!=null)switch(v){case"value":break;case"multiple":P=C;default:u.hasOwnProperty(v)||Ie(t,o,v,null,u,C)}for(p in u)if(v=u[p],C=l[p],u.hasOwnProperty(p)&&(v!=null||C!=null))switch(p){case"value":U=v;break;case"defaultValue":x=v;break;case"multiple":E=v;default:v!==C&&Ie(t,o,p,v,u,C)}o=x,l=E,u=P,U!=null?Li(t,!!l,U,!1):!!u!=!!l&&(o!=null?Li(t,!!l,o,!0):Li(t,!!l,l?[]:"",!1));return;case"textarea":P=U=null;for(x in l)if(p=l[x],l.hasOwnProperty(x)&&p!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ie(t,o,x,null,u,p)}for(E in u)if(p=u[E],v=l[E],u.hasOwnProperty(E)&&(p!=null||v!=null))switch(E){case"value":U=p;break;case"defaultValue":P=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==v&&Ie(t,o,E,p,u,v)}Ed(t,U,P);return;case"option":for(var X in l)if(U=l[X],l.hasOwnProperty(X)&&U!=null&&!u.hasOwnProperty(X))switch(X){case"selected":t.selected=!1;break;default:Ie(t,o,X,null,u,U)}for(C in u)if(U=u[C],P=l[C],u.hasOwnProperty(C)&&U!==P&&(U!=null||P!=null))switch(C){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ie(t,o,C,U,u,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in l)U=l[ie],l.hasOwnProperty(ie)&&U!=null&&!u.hasOwnProperty(ie)&&Ie(t,o,ie,null,u,U);for(D in u)if(U=u[D],P=l[D],u.hasOwnProperty(D)&&U!==P&&(U!=null||P!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,o));break;default:Ie(t,o,D,U,u,P)}return;default:if(Xr(o)){for(var ke in l)U=l[ke],l.hasOwnProperty(ke)&&U!==void 0&&!u.hasOwnProperty(ke)&&Pu(t,o,ke,void 0,u,U);for(G in u)U=u[G],P=l[G],!u.hasOwnProperty(G)||U===P||U===void 0&&P===void 0||Pu(t,o,G,U,u,P);return}}for(var M in l)U=l[M],l.hasOwnProperty(M)&&U!=null&&!u.hasOwnProperty(M)&&Ie(t,o,M,null,u,U);for(B in u)U=u[B],P=l[B],!u.hasOwnProperty(B)||U===P||U==null&&P==null||Ie(t,o,B,U,u,P)}function Cp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,o=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],v=p.transferSize,E=p.initiatorType,x=p.duration;if(v&&x&&Cp(E)){for(E=0,x=p.responseEnd,u+=1;u<l.length;u++){var C=l[u],D=C.startTime;if(D>x)break;var G=C.transferSize,B=C.initiatorType;G&&Cp(B)&&(C=C.responseEnd,E+=G*(C<x?1:(x-D)/(C-D)))}if(--u,o+=8*(v+E)/(p.duration/1e3),t++,10<t)break}}if(0<t)return o/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ou=null,Gu=null;function $l(t){return t.nodeType===9?t:t.ownerDocument}function Rp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Np(t,o){if(t===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&o==="foreignObject"?0:t}function zu(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hu=null;function N_(){var t=window.event;return t&&t.type==="popstate"?t===Hu?!1:(Hu=t,!0):(Hu=null,!1)}var Mp=typeof setTimeout=="function"?setTimeout:void 0,M_=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,I_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(t){return Ip.resolve(null).then(t).catch(k_)}:Mp;function k_(t){setTimeout(function(){throw t})}function Yn(t){return t==="head"}function kp(t,o){var l=o,u=0;do{var p=l.nextSibling;if(t.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){t.removeChild(p),po(o);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Ts(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,Ts(l);for(var v=l.firstChild;v;){var E=v.nextSibling,x=v.nodeName;v[zo]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=E}}else l==="body"&&Ts(t.ownerDocument.body);l=p}while(l);po(o)}function Dp(t,o){var l=t;t=0;do{var u=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=u}while(l)}function qu(t){var o=t.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qu(l),Yr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function D_(t,o,l,u){for(;t.nodeType===1;){var p=l;if(t.nodeName.toLowerCase()!==o.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[zo])switch(o){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(o==="input"&&t.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=Vt(t.nextSibling),t===null)break}return null}function U_(t,o,l){if(o==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Vt(t.nextSibling),t===null))return null;return t}function Up(t,o){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Vt(t.nextSibling),t===null))return null;return t}function Bu(t){return t.data==="$?"||t.data==="$~"}function Vu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function L_(t,o){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=o;else if(t.data!=="$?"||l.readyState!=="loading")o();else{var u=function(){o(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Vt(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return t}var Fu=null;function Lp(t){t=t.nextSibling;for(var o=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(o===0)return Vt(t.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}t=t.nextSibling}return null}function Pp(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return t;o--}else l!=="/$"&&l!=="/&"||o++}t=t.previousSibling}return null}function Op(t,o,l){switch(o=$l(l),t){case"html":if(t=o.documentElement,!t)throw Error(s(452));return t;case"head":if(t=o.head,!t)throw Error(s(453));return t;case"body":if(t=o.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ts(t){for(var o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Yr(t)}var Ft=new Map,Gp=new Set;function jl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xn=$.d;$.d={f:P_,r:O_,D:G_,C:z_,L:H_,m:q_,X:V_,S:B_,M:F_};function P_(){var t=xn.f(),o=zl();return t||o}function O_(t){var o=ki(t);o!==null&&o.tag===5&&o.type==="form"?th(o):xn.r(t)}var co=typeof document>"u"?null:document;function zp(t,o,l){var u=co;if(u&&typeof o=="string"&&o){var p=Pt(o);p='link[rel="'+t+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Gp.has(p)||(Gp.add(p),t={rel:t,crossOrigin:l,href:o},u.querySelector(p)===null&&(o=u.createElement("link"),lt(o,"link",t),Ze(o),u.head.appendChild(o)))}}function G_(t){xn.D(t),zp("dns-prefetch",t,null)}function z_(t,o){xn.C(t,o),zp("preconnect",t,o)}function H_(t,o,l){xn.L(t,o,l);var u=co;if(u&&t&&o){var p='link[rel="preload"][as="'+Pt(o)+'"]';o==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Pt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Pt(l.imageSizes)+'"]')):p+='[href="'+Pt(t)+'"]';var v=p;switch(o){case"style":v=fo(t);break;case"script":v=ho(t)}Ft.has(v)||(t=_({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:t,as:o},l),Ft.set(v,t),u.querySelector(p)!==null||o==="style"&&u.querySelector(Es(v))||o==="script"&&u.querySelector(xs(v))||(o=u.createElement("link"),lt(o,"link",t),Ze(o),u.head.appendChild(o)))}}function q_(t,o){xn.m(t,o);var l=co;if(l&&t){var u=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+Pt(u)+'"][href="'+Pt(t)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=ho(t)}if(!Ft.has(v)&&(t=_({rel:"modulepreload",href:t},o),Ft.set(v,t),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(xs(v)))return}u=l.createElement("link"),lt(u,"link",t),Ze(u),l.head.appendChild(u)}}}function B_(t,o,l){xn.S(t,o,l);var u=co;if(u&&t){var p=Di(u).hoistableStyles,v=fo(t);o=o||"default";var E=p.get(v);if(!E){var x={loading:0,preload:null};if(E=u.querySelector(Es(v)))x.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":o},l),(l=Ft.get(v))&&Ju(t,l);var C=E=u.createElement("link");Ze(C),lt(C,"link",t),C._p=new Promise(function(D,G){C.onload=D,C.onerror=G}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Kl(E,o,u)}E={type:"stylesheet",instance:E,count:1,state:x},p.set(v,E)}}}function V_(t,o){xn.X(t,o);var l=co;if(l&&t){var u=Di(l).hoistableScripts,p=ho(t),v=u.get(p);v||(v=l.querySelector(xs(p)),v||(t=_({src:t,async:!0},o),(o=Ft.get(p))&&Yu(t,o),v=l.createElement("script"),Ze(v),lt(v,"link",t),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function F_(t,o){xn.M(t,o);var l=co;if(l&&t){var u=Di(l).hoistableScripts,p=ho(t),v=u.get(p);v||(v=l.querySelector(xs(p)),v||(t=_({src:t,async:!0,type:"module"},o),(o=Ft.get(p))&&Yu(t,o),v=l.createElement("script"),Ze(v),lt(v,"link",t),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function Hp(t,o,l,u){var p=(p=he.current)?jl(p):null;if(!p)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=fo(l.href),l=Di(p).hoistableStyles,u=l.get(o),u||(u={type:"style",instance:null,count:0,state:null},l.set(o,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=fo(l.href);var v=Di(p).hoistableStyles,E=v.get(t);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,E),(v=p.querySelector(Es(t)))&&!v._p&&(E.instance=v,E.state.loading=5),Ft.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ft.set(t,l),v||J_(p,t,l,E.state))),o&&u===null)throw Error(s(528,""));return E}if(o&&u!==null)throw Error(s(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ho(l),l=Di(p).hoistableScripts,u=l.get(o),u||(u={type:"script",instance:null,count:0,state:null},l.set(o,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fo(t){return'href="'+Pt(t)+'"'}function Es(t){return'link[rel="stylesheet"]['+t+"]"}function qp(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function J_(t,o,l,u){t.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=t.createElement("link"),u.preload=o,o.addEventListener("load",function(){return u.loading|=1}),o.addEventListener("error",function(){return u.loading|=2}),lt(o,"link",l),Ze(o),t.head.appendChild(o))}function ho(t){return'[src="'+Pt(t)+'"]'}function xs(t){return"script[async]"+t}function Bp(t,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var u=t.querySelector('style[data-href~="'+Pt(l.href)+'"]');if(u)return o.instance=u,Ze(u),u;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Ze(u),lt(u,"style",p),Kl(u,l.precedence,t),o.instance=u;case"stylesheet":p=fo(l.href);var v=t.querySelector(Es(p));if(v)return o.state.loading|=4,o.instance=v,Ze(v),v;u=qp(l),(p=Ft.get(p))&&Ju(u,p),v=(t.ownerDocument||t).createElement("link"),Ze(v);var E=v;return E._p=new Promise(function(x,C){E.onload=x,E.onerror=C}),lt(v,"link",u),o.state.loading|=4,Kl(v,l.precedence,t),o.instance=v;case"script":return v=ho(l.src),(p=t.querySelector(xs(v)))?(o.instance=p,Ze(p),p):(u=l,(p=Ft.get(v))&&(u=_({},l),Yu(u,p)),t=t.ownerDocument||t,p=t.createElement("script"),Ze(p),lt(p,"link",u),t.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(u=o.instance,o.state.loading|=4,Kl(u,l.precedence,t));return o.instance}function Kl(t,o,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,E=0;E<u.length;E++){var x=u[E];if(x.dataset.precedence===o)v=x;else if(v!==p)break}v?v.parentNode.insertBefore(t,v.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(t,o.firstChild))}function Ju(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.title==null&&(t.title=o.title)}function Yu(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.integrity==null&&(t.integrity=o.integrity)}var Xl=null;function Vp(t,o,l){if(Xl===null){var u=new Map,p=Xl=new Map;p.set(l,u)}else p=Xl,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(t))return u;for(u.set(t,null),l=l.getElementsByTagName(t),p=0;p<l.length;p++){var v=l[p];if(!(v[zo]||v[nt]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(o)||"";E=t+E;var x=u.get(E);x?x.push(v):u.set(E,[v])}}return u}function Fp(t,o,l){t=t.ownerDocument||t,t.head.insertBefore(l,o==="title"?t.querySelector("head > title"):null)}function Y_(t,o,l){if(l===1||o.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return t=o.disabled,typeof o.precedence=="string"&&t==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Jp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $_(t,o,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=fo(u.href),v=o.querySelector(Es(p));if(v){o=v._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(t.count++,t=Ql.bind(t),o.then(t,t)),l.state.loading|=4,l.instance=v,Ze(v);return}v=o.ownerDocument||o,u=qp(u),(p=Ft.get(p))&&Ju(u,p),v=v.createElement("link"),Ze(v);var E=v;E._p=new Promise(function(x,C){E.onload=x,E.onerror=C}),lt(v,"link",u),l.instance=v}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=Ql.bind(t),o.addEventListener("load",l),o.addEventListener("error",l))}}var $u=0;function j_(t,o){return t.stylesheets&&t.count===0&&Wl(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var u=setTimeout(function(){if(t.stylesheets&&Wl(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4+o);0<t.imgBytes&&$u===0&&($u=62500*R_());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Wl(t,t.stylesheets),t.unsuspend)){var v=t.unsuspend;t.unsuspend=null,v()}},(t.imgBytes>$u?50:800)+o);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Ql(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zl=null;function Wl(t,o){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zl=new Map,o.forEach(K_,t),Zl=null,Ql.call(t))}function K_(t,o){if(!(o.state.loading&4)){var l=Zl.get(t);if(l)var u=l.get(null);else{l=new Map,Zl.set(t,l);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var E=p[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),u=E)}u&&l.set(null,u)}p=o.instance,E=p.getAttribute("data-precedence"),v=l.get(E)||u,v===u&&l.set(null,p),l.set(E,p),this.count++,u=Ql.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),o.state.loading|=4}}var bs={$$typeof:V,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function X_(t,o,l,u,p,v,E,x,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Br(0),this.hiddenUpdates=Br(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Yp(t,o,l,u,p,v,E,x,C,D,G,B){return t=new X_(t,o,l,E,C,D,G,B,x),o=1,v===!0&&(o|=24),v=Ct(3,null,null,o),t.current=v,v.stateNode=t,o=wa(),o.refCount++,t.pooledCache=o,o.refCount++,v.memoizedState={element:u,isDehydrated:l,cache:o},Ma(v),t}function $p(t){return t?(t=Vi,t):Vi}function jp(t,o,l,u,p,v){p=$p(p),u.context===null?u.context=p:u.pendingContext=p,u=Ln(o),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=Pn(t,u,o),l!==null&&(Tt(l,t,o),ns(l,t,o))}function Kp(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<o?l:o}}function ju(t,o){Kp(t,o),(t=t.alternate)&&Kp(t,o)}function Xp(t){if(t.tag===13||t.tag===31){var o=ci(t,67108864);o!==null&&Tt(o,t,67108864),ju(t,67108864)}}function Qp(t){if(t.tag===13||t.tag===31){var o=kt();o=Vr(o);var l=ci(t,o);l!==null&&Tt(l,t,o),ju(t,o)}}var er=!0;function Q_(t,o,l,u){var p=z.T;z.T=null;var v=$.p;try{$.p=2,Ku(t,o,l,u)}finally{$.p=v,z.T=p}}function Z_(t,o,l,u){var p=z.T;z.T=null;var v=$.p;try{$.p=8,Ku(t,o,l,u)}finally{$.p=v,z.T=p}}function Ku(t,o,l,u){if(er){var p=Xu(u);if(p===null)Lu(t,o,u,tr,l),Wp(t,u);else if(eS(p,t,o,l,u))u.stopPropagation();else if(Wp(t,u),o&4&&-1<W_.indexOf(t)){for(;p!==null;){var v=ki(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=si(v.pendingLanes);if(E!==0){var x=v;for(x.pendingLanes|=2,x.entangledLanes|=2;E;){var C=1<<31-At(E);x.entanglements[1]|=C,E&=~C}sn(v),(Ae&6)===0&&(Ol=xt()+500,ys(0))}}break;case 31:case 13:x=ci(v,2),x!==null&&Tt(x,v,2),zl(),ju(v,2)}if(v=Xu(u),v===null&&Lu(t,o,u,tr,l),v===p)break;p=v}p!==null&&u.stopPropagation()}else Lu(t,o,u,null,l)}}function Xu(t){return t=Zr(t),Qu(t)}var tr=null;function Qu(t){if(tr=null,t=Ii(t),t!==null){var o=a(t);if(o===null)t=null;else{var l=o.tag;if(l===13){if(t=d(o),t!==null)return t;t=null}else if(l===31){if(t=h(o),t!==null)return t;t=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null)}}return tr=t,null}function Zp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gv()){case sd:return 2;case ld:return 8;case Fs:case zv:return 32;case rd:return 268435456;default:return 32}default:return 32}}var Zu=!1,$n=null,jn=null,Kn=null,As=new Map,ws=new Map,Xn=[],W_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wp(t,o){switch(t){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":As.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(o.pointerId)}}function Cs(t,o,l,u,p,v){return t===null||t.nativeEvent!==v?(t={blockedOn:o,domEventName:l,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},o!==null&&(o=ki(o),o!==null&&Xp(o)),t):(t.eventSystemFlags|=u,o=t.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),t)}function eS(t,o,l,u,p){switch(o){case"focusin":return $n=Cs($n,t,o,l,u,p),!0;case"dragenter":return jn=Cs(jn,t,o,l,u,p),!0;case"mouseover":return Kn=Cs(Kn,t,o,l,u,p),!0;case"pointerover":var v=p.pointerId;return As.set(v,Cs(As.get(v)||null,t,o,l,u,p)),!0;case"gotpointercapture":return v=p.pointerId,ws.set(v,Cs(ws.get(v)||null,t,o,l,u,p)),!0}return!1}function em(t){var o=Ii(t.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=d(l),o!==null){t.blockedOn=o,hd(t.priority,function(){Qp(l)});return}}else if(o===31){if(o=h(l),o!==null){t.blockedOn=o,hd(t.priority,function(){Qp(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nr(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var l=Xu(t.nativeEvent);if(l===null){l=t.nativeEvent;var u=new l.constructor(l.type,l);Qr=u,l.target.dispatchEvent(u),Qr=null}else return o=ki(l),o!==null&&Xp(o),t.blockedOn=l,!1;o.shift()}return!0}function tm(t,o,l){nr(t)&&l.delete(o)}function tS(){Zu=!1,$n!==null&&nr($n)&&($n=null),jn!==null&&nr(jn)&&(jn=null),Kn!==null&&nr(Kn)&&(Kn=null),As.forEach(tm),ws.forEach(tm)}function ir(t,o){t.blockedOn===o&&(t.blockedOn=null,Zu||(Zu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,tS)))}var or=null;function nm(t){or!==t&&(or=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){or===t&&(or=null);for(var o=0;o<t.length;o+=3){var l=t[o],u=t[o+1],p=t[o+2];if(typeof u!="function"){if(Qu(u||l)===null)continue;break}var v=ki(l);v!==null&&(t.splice(o,3),o-=3,Xa(v,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function po(t){function o(C){return ir(C,t)}$n!==null&&ir($n,t),jn!==null&&ir(jn,t),Kn!==null&&ir(Kn,t),As.forEach(o),ws.forEach(o);for(var l=0;l<Xn.length;l++){var u=Xn[l];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Xn.length&&(l=Xn[0],l.blockedOn===null);)em(l),l.blockedOn===null&&Xn.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],v=l[u+1],E=p[mt]||null;if(typeof v=="function")E||nm(l);else if(E){var x=null;if(v&&v.hasAttribute("formAction")){if(p=v,E=v[mt]||null)x=E.formAction;else if(Qu(p)!==null)continue}else x=E.action;typeof x=="function"?l[u+1]=x:(l.splice(u,3),u-=3),nm(l)}}}function im(){function t(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function o(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),p!==null&&(p(),p=null)}}}function Wu(t){this._internalRoot=t}sr.prototype.render=Wu.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(s(409));var l=o.current,u=kt();jp(l,u,t,o,null,null)},sr.prototype.unmount=Wu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;jp(t.current,2,null,t,null,null),zl(),o[Mi]=null}};function sr(t){this._internalRoot=t}sr.prototype.unstable_scheduleHydration=function(t){if(t){var o=fd();t={blockedOn:null,target:t,priority:o};for(var l=0;l<Xn.length&&o!==0&&o<Xn[l].priority;l++);Xn.splice(l,0,t),l===0&&em(t)}};var om=e.version;if(om!=="19.2.4")throw Error(s(527,om,"19.2.4"));$.findDOMNode=function(t){var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(o),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var nS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lr.isDisabled&&lr.supportsFiber)try{Po=lr.inject(nS),bt=lr}catch{}}return Ns.createRoot=function(t,o){if(!r(t))throw Error(s(299));var l=!1,u="",p=dh,v=fh,E=hh;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=Yp(t,1,!1,null,null,l,u,null,p,v,E,im),t[Mi]=o.current,Uu(t),new Wu(o)},Ns.hydrateRoot=function(t,o,l){if(!r(t))throw Error(s(299));var u=!1,p="",v=dh,E=fh,x=hh,C=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.formState!==void 0&&(C=l.formState)),o=Yp(t,1,!0,o,l??null,u,p,C,v,E,x,im),o.context=$p(null),l=o.current,u=kt(),u=Vr(u),p=Ln(u),p.callback=null,Pn(l,p,u),l=u,o.current.lanes=l,Go(o,l),sn(o),t[Mi]=o.current,Uu(t),new sr(o)},Ns.version="19.2.4",Ns}var pm;function pS(){if(pm)return nc.exports;pm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nc.exports=hS(),nc.exports}var mS=pS();const gS=zc(mS);var rt=(n=>(n.STUDENT="STUDENT",n.TEACHER="TEACHER",n.ADMIN="ADMIN",n))(rt||{});const vS="modulepreload",yS=function(n){return"/teknofest/"+n},mm={},No=function(e,i,s){let r=Promise.resolve();if(i&&i.length>0){let d=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),g=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));r=d(i.map(m=>{if(m=yS(m),m in mm)return;mm[m]=!0;const y=m.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":vS,y||(S.as="script"),S.crossOrigin="",S.href=m,g&&S.setAttribute("nonce",g),document.head.appendChild(S),y)return new Promise((b,w)=>{S.addEventListener("load",b),S.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return r.then(d=>{for(const h of d||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})},_S=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>No(async()=>{const{default:s}=await Promise.resolve().then(()=>Io);return{default:s}},void 0).then(({default:s})=>s(...i)):e=fetch,(...i)=>e(...i)};class qc extends Error{constructor(e,i="FunctionsError",s){super(e),this.name=i,this.context=s}}class SS extends qc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class TS extends qc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ES extends qc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gc;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(gc||(gc={}));var xS=function(n,e,i,s){function r(a){return a instanceof i?a:new i(function(d){d(a)})}return new(i||(i=Promise))(function(a,d){function h(y){try{m(s.next(y))}catch(_){d(_)}}function g(y){try{m(s.throw(y))}catch(_){d(_)}}function m(y){y.done?a(y.value):r(y.value).then(h,g)}m((s=s.apply(n,e||[])).next())})};class bS{constructor(e,{headers:i={},customFetch:s,region:r=gc.Any}={}){this.url=e,this.headers=i,this.region=r,this.fetch=_S(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,i={}){var s;return xS(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:d}=i;let h={},{region:g}=i;g||(g=this.region),g&&g!=="any"&&(h["x-region"]=g);let m;d&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=d):typeof d=="string"?(h["Content-Type"]="text/plain",m=d):typeof FormData<"u"&&d instanceof FormData?m=d:(h["Content-Type"]="application/json",m=JSON.stringify(d)));const y=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),r),body:m}).catch(w=>{throw new SS(w)}),_=y.headers.get("x-relay-error");if(_&&_==="true")throw new TS(y);if(!y.ok)throw new ES(y);let S=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return S==="application/json"?b=yield y.json():S==="application/octet-stream"?b=yield y.blob():S==="text/event-stream"?b=y:S==="multipart/form-data"?b=yield y.formData():b=yield y.text(),{data:b,error:null}}catch(r){return{data:null,error:r}}})}}var ut={},mo={},go={},vo={},yo={},_o={},AS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mo=AS();const wS=Mo.fetch,b0=Mo.fetch.bind(Mo),A0=Mo.Headers,CS=Mo.Request,RS=Mo.Response,Io=Object.freeze(Object.defineProperty({__proto__:null,Headers:A0,Request:CS,Response:RS,default:b0,fetch:wS},Symbol.toStringTag,{value:"Module"})),NS=oS(Io);var rr={},gm;function MS(){if(gm)return rr;gm=1,Object.defineProperty(rr,"__esModule",{value:!0});let n=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}};return rr.default=n,rr}var vm;function w0(){if(vm)return _o;vm=1;var n=_o&&_o.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_o,"__esModule",{value:!0});const e=n(NS),i=n(MS());class s{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,d){return this.headers=Object.assign({},this.headers),this.headers[a]=d,this}then(a,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let g=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,_,S;let b=null,w=null,I=null,A=m.status,L=m.statusText;if(m.ok){if(this.method!=="HEAD"){const O=await m.text();O===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=O:w=JSON.parse(O))}const V=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),H=(_=m.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");V&&H&&H.length>1&&(I=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(b={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,I=null,A=406,L="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const V=await m.text();try{b=JSON.parse(V),Array.isArray(b)&&m.status===404&&(w=[],b=null,A=200,L="OK")}catch{m.status===404&&V===""?(A=204,L="No Content"):b={message:V}}if(b&&this.isMaybeSingle&&(!((S=b==null?void 0:b.details)===null||S===void 0)&&S.includes("0 rows"))&&(b=null,A=200,L="OK"),b&&this.shouldThrowOnError)throw new i.default(b)}return{error:b,data:w,count:I,status:A,statusText:L}});return this.shouldThrowOnError||(g=g.catch(m=>{var y,_,S;return{error:{message:`${(y=m==null?void 0:m.name)!==null&&y!==void 0?y:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(_=m==null?void 0:m.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(S=m==null?void 0:m.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(a,d)}}return _o.default=s,_o}var ym;function C0(){if(ym)return yo;ym=1;var n=yo&&yo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(yo,"__esModule",{value:!0});const e=n(w0());class i extends e.default{select(r){let a=!1;const d=(r??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:a=!0,nullsFirst:d,foreignTable:h,referencedTable:g=h}={}){const m=g?`${g}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${r}.${a?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:a,referencedTable:d=a}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${r}`),this}range(r,a,{foreignTable:d,referencedTable:h=d}={}){const g=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${r}`),this.url.searchParams.set(m,`${a-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:a=!1,settings:d=!1,buffers:h=!1,wal:g=!1,format:m="text"}={}){var y;const _=[r?"analyze":null,a?"verbose":null,d?"settings":null,h?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${S}"; options=${_};`,m==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return yo.default=i,yo}var _m;function Bc(){if(_m)return vo;_m=1;var n=vo&&vo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(vo,"__esModule",{value:!0});const e=n(C0());class i extends e.default{eq(r,a){return this.url.searchParams.append(r,`eq.${a}`),this}neq(r,a){return this.url.searchParams.append(r,`neq.${a}`),this}gt(r,a){return this.url.searchParams.append(r,`gt.${a}`),this}gte(r,a){return this.url.searchParams.append(r,`gte.${a}`),this}lt(r,a){return this.url.searchParams.append(r,`lt.${a}`),this}lte(r,a){return this.url.searchParams.append(r,`lte.${a}`),this}like(r,a){return this.url.searchParams.append(r,`like.${a}`),this}likeAllOf(r,a){return this.url.searchParams.append(r,`like(all).{${a.join(",")}}`),this}likeAnyOf(r,a){return this.url.searchParams.append(r,`like(any).{${a.join(",")}}`),this}ilike(r,a){return this.url.searchParams.append(r,`ilike.${a}`),this}ilikeAllOf(r,a){return this.url.searchParams.append(r,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(r,a){return this.url.searchParams.append(r,`ilike(any).{${a.join(",")}}`),this}is(r,a){return this.url.searchParams.append(r,`is.${a}`),this}in(r,a){const d=Array.from(new Set(a)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(r,`in.(${d})`),this}contains(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cs.{${a.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(a)}`),this}containedBy(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cd.{${a.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(a)}`),this}rangeGt(r,a){return this.url.searchParams.append(r,`sr.${a}`),this}rangeGte(r,a){return this.url.searchParams.append(r,`nxl.${a}`),this}rangeLt(r,a){return this.url.searchParams.append(r,`sl.${a}`),this}rangeLte(r,a){return this.url.searchParams.append(r,`nxr.${a}`),this}rangeAdjacent(r,a){return this.url.searchParams.append(r,`adj.${a}`),this}overlaps(r,a){return typeof a=="string"?this.url.searchParams.append(r,`ov.${a}`):this.url.searchParams.append(r,`ov.{${a.join(",")}}`),this}textSearch(r,a,{config:d,type:h}={}){let g="";h==="plain"?g="pl":h==="phrase"?g="ph":h==="websearch"&&(g="w");const m=d===void 0?"":`(${d})`;return this.url.searchParams.append(r,`${g}fts${m}.${a}`),this}match(r){return Object.entries(r).forEach(([a,d])=>{this.url.searchParams.append(a,`eq.${d}`)}),this}not(r,a,d){return this.url.searchParams.append(r,`not.${a}.${d}`),this}or(r,{foreignTable:a,referencedTable:d=a}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${r})`),this}filter(r,a,d){return this.url.searchParams.append(r,`${a}.${d}`),this}}return vo.default=i,vo}var Sm;function R0(){if(Sm)return go;Sm=1;var n=go&&go.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(go,"__esModule",{value:!0});const e=n(Bc());class i{constructor(r,{headers:a={},schema:d,fetch:h}){this.url=r,this.headers=a,this.schema=d,this.fetch=h}select(r,{head:a=!1,count:d}={}){const h=a?"HEAD":"GET";let g=!1;const m=(r??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",m),d&&(this.headers.Prefer=`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:a,defaultToNull:d=!0}={}){const h="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),a&&g.push(`count=${a}`),d||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(r)){const m=r.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(m.length>0){const y=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:a,ignoreDuplicates:d=!1,count:h,defaultToNull:g=!0}={}){const m="POST",y=[`resolution=${d?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),g||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(r)){const _=r.reduce((S,b)=>S.concat(Object.keys(b)),[]);if(_.length>0){const S=[...new Set(_)].map(b=>`"${b}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:a}={}){const d="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push(`count=${a}`),this.headers.Prefer=h.join(","),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const a="DELETE",d=[];return r&&d.push(`count=${r}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return go.default=i,go}var Ms={},Is={},Tm;function IS(){return Tm||(Tm=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.version=void 0,Is.version="0.0.0-automated"),Is}var Em;function kS(){if(Em)return Ms;Em=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.DEFAULT_HEADERS=void 0;const n=IS();return Ms.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Ms}var xm;function DS(){if(xm)return mo;xm=1;var n=mo&&mo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(mo,"__esModule",{value:!0});const e=n(R0()),i=n(Bc()),s=kS();class r{constructor(d,{headers:h={},schema:g,fetch:m}={}){this.url=d,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),h),this.schemaName=g,this.fetch=m}from(d){const h=new URL(`${this.url}/${d}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new r(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:g=!1,get:m=!1,count:y}={}){let _;const S=new URL(`${this.url}/rpc/${d}`);let b;g||m?(_=g?"HEAD":"GET",Object.entries(h).filter(([I,A])=>A!==void 0).map(([I,A])=>[I,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([I,A])=>{S.searchParams.append(I,A)})):(_="POST",b=h);const w=Object.assign({},this.headers);return y&&(w.Prefer=`count=${y}`),new i.default({method:_,url:S,headers:w,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return mo.default=r,mo}var bm;function US(){if(bm)return ut;bm=1;var n=ut&&ut.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const e=n(DS());ut.PostgrestClient=e.default;const i=n(R0());ut.PostgrestQueryBuilder=i.default;const s=n(Bc());ut.PostgrestFilterBuilder=s.default;const r=n(C0());ut.PostgrestTransformBuilder=r.default;const a=n(w0());return ut.PostgrestBuilder=a.default,ut.default={PostgrestClient:e.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:a.default},ut}var LS=US();const PS=zc(LS),{PostgrestClient:OS,PostgrestQueryBuilder:tN,PostgrestFilterBuilder:nN,PostgrestTransformBuilder:iN,PostgrestBuilder:oN}=PS,GS="2.10.2",zS={"X-Client-Info":`realtime-js/${GS}`},HS="1.0.0",N0=1e4,qS=1e3;var wo;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(wo||(wo={}));var Dt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Dt||(Dt={}));var Qt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Qt||(Qt={}));var vc;(function(n){n.websocket="websocket"})(vc||(vc={}));var wi;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(wi||(wi={}));class BS{constructor(){this.HEADER_LENGTH=1}decode(e,i){return e.constructor===ArrayBuffer?i(this._binaryDecode(e)):i(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const i=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,i,s)}_decodeBroadcast(e,i,s){const r=i.getUint8(1),a=i.getUint8(2);let d=this.HEADER_LENGTH+2;const h=s.decode(e.slice(d,d+r));d=d+r;const g=s.decode(e.slice(d,d+a));d=d+a;const m=JSON.parse(s.decode(e.slice(d,e.byteLength)));return{ref:null,topic:h,event:g,payload:m}}}class M0{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Pe||(Pe={}));const Am=(n,e,i={})=>{var s;const r=(s=i.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((a,d)=>(a[d]=VS(d,n,e,r),a),{})},VS=(n,e,i,s)=>{const r=e.find(h=>h.name===n),a=r==null?void 0:r.type,d=i[n];return a&&!s.includes(a)?I0(a,d):yc(d)},I0=(n,e)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return $S(e,i)}switch(n){case Pe.bool:return FS(e);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return JS(e);case Pe.json:case Pe.jsonb:return YS(e);case Pe.timestamp:return jS(e);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return yc(e);default:return yc(e)}},yc=n=>n,FS=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},JS=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},YS=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},$S=(n,e)=>{if(typeof n!="string")return n;const i=n.length-1,s=n[i];if(n[0]==="{"&&s==="}"){let a;const d=n.slice(1,i);try{a=JSON.parse("["+d+"]")}catch{a=d?d.split(","):[]}return a.map(h=>I0(e,h))}return n},jS=n=>typeof n=="string"?n.replace(" ","T"):n,k0=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class lc{constructor(e,i,s={},r=N0){this.channel=e,this.event=i,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var s;return this._hasReceived(e)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var wm;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(wm||(wm={}));class Gs{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:a,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gs.syncState(this.state,r,a,d),this.pendingDiffs.forEach(g=>{this.state=Gs.syncDiff(this.state,g,a,d)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},r=>{const{onJoin:a,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Gs.syncDiff(this.state,r,a,d),h())}),this.onJoin((r,a,d)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:a,newPresences:d})}),this.onLeave((r,a,d)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:a,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,s,r){const a=this.cloneDeep(e),d=this.transformState(i),h={},g={};return this.map(a,(m,y)=>{d[m]||(g[m]=y)}),this.map(d,(m,y)=>{const _=a[m];if(_){const S=y.map(A=>A.presence_ref),b=_.map(A=>A.presence_ref),w=y.filter(A=>b.indexOf(A.presence_ref)<0),I=_.filter(A=>S.indexOf(A.presence_ref)<0);w.length>0&&(h[m]=w),I.length>0&&(g[m]=I)}else h[m]=y}),this.syncDiff(a,{joins:h,leaves:g},s,r)}static syncDiff(e,i,s,r){const{joins:a,leaves:d}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(a,(h,g)=>{var m;const y=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(g),y.length>0){const _=e[h].map(b=>b.presence_ref),S=y.filter(b=>_.indexOf(b.presence_ref)<0);e[h].unshift(...S)}s(h,y,g)}),this.map(d,(h,g)=>{let m=e[h];if(!m)return;const y=g.map(_=>_.presence_ref);m=m.filter(_=>y.indexOf(_.presence_ref)<0),e[h]=m,r(h,m,g),m.length===0&&delete e[h]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(s=>i(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,s)=>{const r=e[s];return"metas"in r?i[s]=r.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):i[s]=r,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cm;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Cm||(Cm={}));var Rm;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes"})(Rm||(Rm={}));var Nm;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Nm||(Nm={}));class Vc{constructor(e,i={config:{}},s){this.topic=e,this.params=i,this.socket=s,this.bindings={},this.state=Dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new lc(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new M0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dt.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(r,a)=>{this._trigger(this._replyEventName(a),r)}),this.presence=new Gs(this),this.broadcastEndpointURL=k0(this.socket.endPoint)+"/api/broadcast"}subscribe(e,i=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:d,private:h}}=this.params;this._onError(y=>e&&e("CHANNEL_ERROR",y)),this._onClose(()=>e&&e("CLOSED"));const g={},m={broadcast:a,presence:d,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(y=>y.filter))!==null&&r!==void 0?r:[],private:h};this.socket.accessToken&&(g.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:m},g)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",({postgres_changes:y})=>{var _;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),y===void 0){e&&e("SUBSCRIBED");return}else{const S=this.bindings.postgres_changes,b=(_=S==null?void 0:S.length)!==null&&_!==void 0?_:0,w=[];for(let I=0;I<b;I++){const A=S[I],{filter:{event:L,schema:J,table:V,filter:H}}=A,O=y&&y[I];if(O&&O.event===L&&O.schema===J&&O.table===V&&O.filter===H)w.push(Object.assign(Object.assign({},A),{id:O.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e("SUBSCRIBED");return}}).receive("error",y=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,s){return this._on(e,i,s)}async send(e,i={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:d}=e,h={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:d}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=g.body)===null||r===void 0?void 0:r.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var d,h,g;const m=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Dt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const r=new lc(this,Qt.leave,{},e);r.receive("ok",()=>{i(),s("ok")}).receive("timeout",()=>{i(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,i,s){const r=new AbortController,a=setTimeout(()=>r.abort(),s),d=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:r.signal}));return clearTimeout(a),d}_push(e,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new lc(this,e,i,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,i,s){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,s){var r,a;const d=e.toLocaleLowerCase(),{close:h,error:g,leave:m,join:y}=Qt;if(s&&[h,g,m,y].indexOf(d)>=0&&s!==this._joinRef())return;let S=this._onMessage(d,i,s);if(i&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(b=>{var w,I,A;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((A=(I=b.filter)===null||I===void 0?void 0:I.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===d}).map(b=>b.callback(S,s)):(a=this.bindings[d])===null||a===void 0||a.filter(b=>{var w,I,A,L,J,V;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const H=b.id,O=(w=b.filter)===null||w===void 0?void 0:w.event;return H&&((I=i.ids)===null||I===void 0?void 0:I.includes(H))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((A=i.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const H=(J=(L=b==null?void 0:b.filter)===null||L===void 0?void 0:L.event)===null||J===void 0?void 0:J.toLocaleLowerCase();return H==="*"||H===((V=i==null?void 0:i.event)===null||V===void 0?void 0:V.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof S=="object"&&"ids"in S){const w=S.data,{schema:I,table:A,commit_timestamp:L,type:J,errors:V}=w;S=Object.assign(Object.assign({},{schema:I,table:A,commit_timestamp:L,eventType:J,new:{},old:{},errors:V}),this._getPayloadRecords(w))}b.callback(S,s)})}_isClosed(){return this.state===Dt.closed}_isJoined(){return this.state===Dt.joined}_isJoining(){return this.state===Dt.joining}_isLeaving(){return this.state===Dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,s){const r=e.toLocaleLowerCase(),a={type:r,filter:i,callback:s};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,i){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var a;return!(((a=r.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&Vc.isEqual(r.filter,i))}),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const s in e)if(e[s]!==i[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qt.close,{},e)}_onError(e){this._on(Qt.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=Am(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=Am(e.columns,e.old_record)),i}}const KS=()=>{},XS=typeof WebSocket<"u";class QS{constructor(e,i){var s;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=zS,this.params={},this.timeout=N0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=KS,this.conn=null,this.sendBuffer=[],this.serializer=new BS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=a=>{let d;return a?d=a:typeof fetch>"u"?d=(...h)=>No(async()=>{const{default:g}=await Promise.resolve().then(()=>Io);return{default:g}},void 0).then(({default:g})=>g(...h)):d=fetch,(...h)=>d(...h)},this.endPoint=`${e}/${vc.websocket}`,this.httpEndpoint=k0(e),i!=null&&i.transport?this.transport=i.transport:this.transport=null,i!=null&&i.params&&(this.params=i.params),i!=null&&i.headers&&(this.headers=Object.assign(Object.assign({},this.headers),i.headers)),i!=null&&i.timeout&&(this.timeout=i.timeout),i!=null&&i.logger&&(this.logger=i.logger),i!=null&&i.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const r=(s=i==null?void 0:i.params)===null||s===void 0?void 0:s.apikey;r&&(this.accessToken=r,this.apiKey=r),this.reconnectAfterMs=i!=null&&i.reconnectAfterMs?i.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=i!=null&&i.encode?i.encode:(a,d)=>d(JSON.stringify(a)),this.decode=i!=null&&i.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new M0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(XS){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new ZS(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),No(async()=>{const{default:e}=await import("./browser-BNv-D6Zd.js").then(i=>i.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,i){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.disconnect(),e}log(e,i,s){this.logger(e,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case wo.connecting:return wi.Connecting;case wo.open:return wi.Open;case wo.closing:return wi.Closing;default:return wi.Closed}}isConnected(){return this.connectionState()===wi.Open}channel(e,i={config:{}}){const s=new Vc(`realtime:${e}`,i,this);return this.channels.push(s),s}push(e){const{topic:i,event:s,payload:r,ref:a}=e,d=()=>{this.encode(e,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${i} ${s} (${a})`,r),this.isConnected()?d():this.sendBuffer.push(d)}setAuth(e){this.accessToken=e,this.channels.forEach(i=>{e&&i.updateJoinPayload({access_token:e}),i.joinedOnce&&i._isJoined()&&i._push(Qt.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HS}))}_onConnMessage(e){this.decode(e.data,i=>{let{topic:s,event:r,payload:a,ref:d}=i;(d&&d===this.pendingHeartbeatRef||r===(a==null?void 0:a.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${s} ${r} ${d&&"("+d+")"||""}`,a),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(r,a,d)),this.stateChangeCallbacks.message.forEach(h=>h(i))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qt.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(i);return`${e}${s}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(qS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class ZS{constructor(e,i,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=wo.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class Fc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function et(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class WS extends Fc{constructor(e,i){super(e),this.name="StorageApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _c extends Fc{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}var eT=function(n,e,i,s){function r(a){return a instanceof i?a:new i(function(d){d(a)})}return new(i||(i=Promise))(function(a,d){function h(y){try{m(s.next(y))}catch(_){d(_)}}function g(y){try{m(s.throw(y))}catch(_){d(_)}}function m(y){y.done?a(y.value):r(y.value).then(h,g)}m((s=s.apply(n,e||[])).next())})};const D0=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>No(async()=>{const{default:s}=await Promise.resolve().then(()=>Io);return{default:s}},void 0).then(({default:s})=>s(...i)):e=fetch,(...i)=>e(...i)},tT=()=>eT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield No(()=>Promise.resolve().then(()=>Io),void 0)).Response:Response}),Sc=n=>{if(Array.isArray(n))return n.map(i=>Sc(i));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([i,s])=>{const r=i.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[r]=Sc(s)}),e};var Ci=function(n,e,i,s){function r(a){return a instanceof i?a:new i(function(d){d(a)})}return new(i||(i=Promise))(function(a,d){function h(y){try{m(s.next(y))}catch(_){d(_)}}function g(y){try{m(s.throw(y))}catch(_){d(_)}}function m(y){y.done?a(y.value):r(y.value).then(h,g)}m((s=s.apply(n,e||[])).next())})};const rc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),nT=(n,e,i)=>Ci(void 0,void 0,void 0,function*(){const s=yield tT();n instanceof s&&!(i!=null&&i.noResolveJson)?n.json().then(r=>{e(new WS(rc(r),n.status||500))}).catch(r=>{e(new _c(rc(r),r))}):e(new _c(rc(n),n))}),iT=(n,e,i,s)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(r.body=JSON.stringify(s)),Object.assign(Object.assign({},r),i))};function Bs(n,e,i,s,r,a){return Ci(this,void 0,void 0,function*(){return new Promise((d,h)=>{n(i,iT(e,s,r,a)).then(g=>{if(!g.ok)throw g;return s!=null&&s.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>nT(g,h,s))})})}function Er(n,e,i,s){return Ci(this,void 0,void 0,function*(){return Bs(n,"GET",e,i,s)})}function ei(n,e,i,s,r){return Ci(this,void 0,void 0,function*(){return Bs(n,"POST",e,s,r,i)})}function oT(n,e,i,s,r){return Ci(this,void 0,void 0,function*(){return Bs(n,"PUT",e,s,r,i)})}function sT(n,e,i,s){return Ci(this,void 0,void 0,function*(){return Bs(n,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),s)})}function U0(n,e,i,s,r){return Ci(this,void 0,void 0,function*(){return Bs(n,"DELETE",e,s,r,i)})}var Et=function(n,e,i,s){function r(a){return a instanceof i?a:new i(function(d){d(a)})}return new(i||(i=Promise))(function(a,d){function h(y){try{m(s.next(y))}catch(_){d(_)}}function g(y){try{m(s.throw(y))}catch(_){d(_)}}function m(y){y.done?a(y.value):r(y.value).then(h,g)}m((s=s.apply(n,e||[])).next())})};const lT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rT{constructor(e,i={},s,r){this.url=e,this.headers=i,this.bucketId=s,this.fetch=D0(r)}uploadOrUpdate(e,i,s,r){return Et(this,void 0,void 0,function*(){try{let a;const d=Object.assign(Object.assign({},Mm),r);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",d.cacheControl),a.append("",s),g&&a.append("metadata",this.encodeMetadata(g))):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",d.cacheControl),g&&a.append("metadata",this.encodeMetadata(g))):(a=s,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,g&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),r!=null&&r.headers&&(h=Object.assign(Object.assign({},h),r.headers));const m=this._removeEmptyFolders(i),y=this._getFinalPath(m),_=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:e,body:a,headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{})),S=yield _.json();return _.ok?{data:{path:m,id:S.Id,fullPath:S.Key},error:null}:{data:null,error:S}}catch(a){if(et(a))return{data:null,error:a};throw a}})}upload(e,i,s){return Et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,s)})}uploadToSignedUrl(e,i,s,r){return Et(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),d=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",i);try{let g;const m=Object.assign({upsert:Mm.upsert},r),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",m.cacheControl)):(g=s,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const _=yield this.fetch(h.toString(),{method:"PUT",body:g,headers:y}),S=yield _.json();return _.ok?{data:{path:a,fullPath:S.Key},error:null}:{data:null,error:S}}catch(g){if(et(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,i){return Et(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);i!=null&&i.upsert&&(r["x-upsert"]="true");const a=yield ei(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),d=new URL(this.url+a.url),h=d.searchParams.get("token");if(!h)throw new Fc("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:h},error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}update(e,i,s){return Et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,s)})}move(e,i,s){return Et(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}copy(e,i,s){return Et(this,void 0,void 0,function*(){try{return{data:{path:(yield ei(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}createSignedUrl(e,i,s){return Et(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield ei(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:i},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${d}`)},{data:a,error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}createSignedUrls(e,i,s){return Et(this,void 0,void 0,function*(){try{const r=yield ei(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${a}`):null})),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}download(e,i){return Et(this,void 0,void 0,function*(){const r=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),d=a?`?${a}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Er(this.fetch,`${this.url}/${r}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(et(h))return{data:null,error:h};throw h}})}info(e){return Et(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const s=yield Er(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Sc(s),error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}exists(e){return Et(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield sT(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(et(s)&&s instanceof _c){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,i){const s=this._getFinalPath(e),r=[],a=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";a!==""&&r.push(a);const h=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});g!==""&&r.push(g);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${m}`)}}}remove(e){return Et(this,void 0,void 0,function*(){try{return{data:yield U0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}list(e,i,s){return Et(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},lT),i),{prefix:e||""});return{data:yield ei(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const aT="2.7.0",uT={"X-Client-Info":`storage-js/${aT}`};var So=function(n,e,i,s){function r(a){return a instanceof i?a:new i(function(d){d(a)})}return new(i||(i=Promise))(function(a,d){function h(y){try{m(s.next(y))}catch(_){d(_)}}function g(y){try{m(s.throw(y))}catch(_){d(_)}}function m(y){y.done?a(y.value):r(y.value).then(h,g)}m((s=s.apply(n,e||[])).next())})};class cT{constructor(e,i={},s){this.url=e,this.headers=Object.assign(Object.assign({},uT),i),this.fetch=D0(s)}listBuckets(){return So(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(et(e))return{data:null,error:e};throw e}})}getBucket(e){return So(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}createBucket(e,i={public:!1}){return So(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}updateBucket(e,i){return So(this,void 0,void 0,function*(){try{return{data:yield oT(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}emptyBucket(e){return So(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}deleteBucket(e){return So(this,void 0,void 0,function*(){try{return{data:yield U0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(et(i))return{data:null,error:i};throw i}})}}class dT extends cT{constructor(e,i={},s){super(e,i,s)}from(e){return new rT(this.url,this.headers,e,this.fetch)}}const fT="2.45.4";let Ps="";typeof Deno<"u"?Ps="deno":typeof document<"u"?Ps="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ps="react-native":Ps="node";const hT={"X-Client-Info":`supabase-js-${Ps}/${fT}`},pT={headers:hT},mT={schema:"public"},gT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vT={};var yT=function(n,e,i,s){function r(a){return a instanceof i?a:new i(function(d){d(a)})}return new(i||(i=Promise))(function(a,d){function h(y){try{m(s.next(y))}catch(_){d(_)}}function g(y){try{m(s.throw(y))}catch(_){d(_)}}function m(y){y.done?a(y.value):r(y.value).then(h,g)}m((s=s.apply(n,e||[])).next())})};const _T=n=>{let e;return n?e=n:typeof fetch>"u"?e=b0:e=fetch,(...i)=>e(...i)},ST=()=>typeof Headers>"u"?A0:Headers,TT=(n,e,i)=>{const s=_T(i),r=ST();return(a,d)=>yT(void 0,void 0,void 0,function*(){var h;const g=(h=yield e())!==null&&h!==void 0?h:n;let m=new r(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),s(a,Object.assign(Object.assign({},d),{headers:m}))})};var ET=function(n,e,i,s){function r(a){return a instanceof i?a:new i(function(d){d(a)})}return new(i||(i=Promise))(function(a,d){function h(y){try{m(s.next(y))}catch(_){d(_)}}function g(y){try{m(s.throw(y))}catch(_){d(_)}}function m(y){y.done?a(y.value):r(y.value).then(h,g)}m((s=s.apply(n,e||[])).next())})};function xT(n){return n.replace(/\/$/,"")}function bT(n,e){const{db:i,auth:s,realtime:r,global:a}=n,{db:d,auth:h,realtime:g,global:m}=e,y={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},g),r),global:Object.assign(Object.assign({},m),a),accessToken:()=>ET(this,void 0,void 0,function*(){return""})};return n.accessToken?y.accessToken=n.accessToken:delete y.accessToken,y}const L0="2.65.0",AT="http://localhost:9999",wT="supabase.auth.token",CT={"X-Client-Info":`gotrue-js/${L0}`},Im=10,Tc="X-Supabase-Api-Version",P0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function RT(n){return Math.round(Date.now()/1e3)+n}function NT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Xt=()=>typeof document<"u",xi={tested:!1,writable:!1},zs=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xi.tested)return xi.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),xi.tested=!0,xi.writable=!0}catch{xi.tested=!0,xi.writable=!1}return xi.writable};function ac(n){const e={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((r,a)=>{e[a]=r})}catch{}return i.searchParams.forEach((s,r)=>{e[r]=s}),e}const O0=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>No(async()=>{const{default:s}=await Promise.resolve().then(()=>Io);return{default:s}},void 0).then(({default:s})=>s(...i)):e=fetch,(...i)=>e(...i)},MT=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",G0=async(n,e,i)=>{await n.setItem(e,JSON.stringify(i))},ar=async(n,e)=>{const i=await n.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},ur=async(n,e)=>{await n.removeItem(e)};function IT(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i="",s,r,a,d,h,g,m,y=0;for(n=n.replace("-","+").replace("_","/");y<n.length;)d=e.indexOf(n.charAt(y++)),h=e.indexOf(n.charAt(y++)),g=e.indexOf(n.charAt(y++)),m=e.indexOf(n.charAt(y++)),s=d<<2|h>>4,r=(h&15)<<4|g>>2,a=(g&3)<<6|m,i=i+String.fromCharCode(s),g!=64&&r!=0&&(i=i+String.fromCharCode(r)),m!=64&&a!=0&&(i=i+String.fromCharCode(a));return i}class Nr{constructor(){this.promise=new Nr.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}Nr.promiseConstructor=Promise;function km(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,i=n.split(".");if(i.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(i[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=i[1];return JSON.parse(IT(s))}async function kT(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function DT(n,e){return new Promise((s,r)=>{(async()=>{for(let a=0;a<1/0;a++)try{const d=await n(a);if(!e(a,null,d)){s(d);return}}catch(d){if(!e(a,d)){r(d);return}}})()})}function UT(n){return("0"+n.toString(16)).substr(-2)}function LT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let r="";for(let a=0;a<56;a++)r+=i.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,UT).join("")}async function PT(n){const i=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",i),r=new Uint8Array(s);return Array.from(r).map(a=>String.fromCharCode(a)).join("")}function OT(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function GT(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await PT(n);return OT(i)}async function To(n,e,i=!1){const s=LT();let r=s;i&&(r+="/PASSWORD_RECOVERY"),await G0(n,`${e}-code-verifier`,r);const a=await GT(s);return[a,s===a?"plain":"s256"]}const zT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HT(n){const e=n.headers.get(Tc);if(!e||!e.match(zT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Jc extends Error{constructor(e,i,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function fe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class qT extends Jc{constructor(e,i,s){super(e,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function BT(n){return fe(n)&&n.name==="AuthApiError"}class z0 extends Jc{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class Ri extends Jc{constructor(e,i,s,r){super(e,s,r),this.name=i,this.status=s}}class Zn extends Ri{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function VT(n){return fe(n)&&n.name==="AuthSessionMissingError"}class uc extends Ri{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cr extends Ri{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class dr extends Ri{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dm extends Ri{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ec extends Ri{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function cc(n){return fe(n)&&n.name==="AuthRetryableFetchError"}class Um extends Ri{constructor(e,i,s){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}var FT=function(n,e){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(i[s[r]]=n[s[r]]);return i};const bi=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),JT=[502,503,504];async function Lm(n){var e;if(!MT(n))throw new Ec(bi(n),0);if(JT.includes(n.status))throw new Ec(bi(n),n.status);let i;try{i=await n.json()}catch(a){throw new z0(bi(a),a)}let s;const r=HT(n);if(r&&r.getTime()>=P0["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new Um(bi(i),n.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Zn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((a,d)=>a&&typeof d=="string",!0))throw new Um(bi(i),n.status,i.weak_password.reasons);throw new qT(bi(i),n.status||500,s)}const YT=(n,e,i,s)=>{const r={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),i))};async function _e(n,e,i,s){var r;const a=Object.assign({},s==null?void 0:s.headers);a[Tc]||(a[Tc]=P0["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const d=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(d.redirect_to=s.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await $T(n,e,i+h,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(g):{data:Object.assign({},g),error:null}}async function $T(n,e,i,s,r,a){const d=YT(e,s,r,a);let h;try{h=await n(i,Object.assign({},d))}catch(g){throw console.error(g),new Ec(bi(g),0)}if(h.ok||await Lm(h),s!=null&&s.noResolveJson)return h;try{return await h.json()}catch(g){await Lm(g)}}function Wn(n){var e;let i=null;QT(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=RT(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:i,user:s},error:null}}function Pm(n){const e=Wn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ti(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function jT(n){return{data:n,error:null}}function KT(n){const{action_link:e,email_otp:i,hashed_token:s,redirect_to:r,verification_type:a}=n,d=FT(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:i,hashed_token:s,redirect_to:r,verification_type:a},g=Object.assign({},d);return{data:{properties:h,user:g},error:null}}function XT(n){return n}function QT(n){return n.access_token&&n.refresh_token&&n.expires_in}var ZT=function(n,e){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(i[s[r]]=n[s[r]]);return i};class WT{constructor({url:e="",headers:i={},fetch:s}){this.url=e,this.headers=i,this.fetch=O0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,i="global"){try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,i={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ti})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:i}=e,s=ZT(e,["options"]),r=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:KT,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(fe(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ti})}catch(i){if(fe(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,s,r,a,d,h,g;try{const m={nextPage:null,lastPage:0,total:0},y=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(a=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:""},xform:XT});if(y.error)throw y.error;const _=await y.json(),S=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(g=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return b.length>0&&(b.forEach(w=>{const I=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(w.split(";")[1].split("=")[1]);m[`${A}Page`]=I}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(fe(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ti})}catch(i){if(fe(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:ti})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,i=!1){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:ti})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:i,error:s}=await _e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:i,error:s}}catch(i){if(fe(i))return{data:null,error:i};throw i}}async _deleteFactor(e){try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}}}const eE={getItem:n=>zs()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{zs()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{zs()&&globalThis.localStorage.removeItem(n)}};function Om(n={}){return{getItem:e=>n[e]||null,setItem:(e,i)=>{n[e]=i},removeItem:e=>{delete n[e]}}}function tE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Eo={debug:!!(globalThis&&zs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class H0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nE extends H0{}async function iE(n,e,i){Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,r.name);try{return await i()}finally{Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,r.name)}}else{if(e===0)throw Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new nE(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Eo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}})}tE();const oE={url:AT,storageKey:wT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:CT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ks=30*1e3,Gm=3;async function zm(n,e,i){return await i()}class Hs{constructor(e){var i,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hs.nextInstanceID,Hs.nextInstanceID+=1,this.instanceID>0&&Xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},oE),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new WT({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=O0(r.fetch),this.lock=r.lock||zm,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Xt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=iE:this.lock=zm,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:zs()?this.storage=eE:(this.memoryStorage={},this.storage=Om(this.memoryStorage)):(this.memoryStorage={},this.storage=Om(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${L0}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Xt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:i,error:s}=await this._getSessionFromURL(e);if(s)return this._debug("#_initialize()","error detecting session from URL",s),(s==null?void 0:s.message)==="Identity is already linked"||(s==null?void 0:s.message)==="Identity is already linked to another user"?{error:s}:(await this._removeSession(),{error:s});const{session:r,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",a),await this._saveSession(r),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return fe(e)?{error:e}:{error:new z0("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,s,r;try{const a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Wn}),{data:d,error:h}=a;if(h||!d)return{data:{user:null,session:null},error:h};const g=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(a){if(fe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var i,s,r;try{let a;if("email"in e){const{email:y,password:_,options:S}=e;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await To(this.storage,this.storageKey)),a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:y,password:_,data:(i=S==null?void 0:S.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:b,code_challenge_method:w},xform:Wn})}else if("phone"in e){const{phone:y,password:_,options:S}=e;a=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(s=S==null?void 0:S.data)!==null&&s!==void 0?s:{},channel:(r=S==null?void 0:S.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:Wn})}else throw new cr("You must provide either an email or phone number and a password");const{data:d,error:h}=a;if(h||!d)return{data:{user:null,session:null},error:h};const g=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(a){if(fe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let i;if("email"in e){const{email:a,password:d,options:h}=e;i=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Pm})}else if("phone"in e){const{phone:a,password:d,options:h}=e;i=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Pm})}else throw new cr("You must provide either an email or phone number and a password");const{data:s,error:r}=i;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new uc}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(e){var i,s,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const i=await ar(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(i??"").split("/");try{const{data:a,error:d}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Wn});if(await ur(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new uc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:r??null}),error:d})}catch(a){if(fe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:i,provider:s,token:r,access_token:a,nonce:d}=e,h=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:a,nonce:d,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Wn}),{data:g,error:m}=h;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new uc}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(e){var i,s,r,a,d;try{if("email"in e){const{email:h,options:g}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await To(this.storage,this.storageKey));const{error:_}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(s=g==null?void 0:g.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:h,options:g}=e,{data:m,error:y}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(a=g==null?void 0:g.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(d=g==null?void 0:g.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y}}throw new cr("You must provide either an email or phone number.")}catch(h){if(fe(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var i,s;try{let r,a;"options"in e&&(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo,a=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:h}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:Wn});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,m=d.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var i,s,r;try{let a=null,d=null;return this.flowType==="pkce"&&([a,d]=await To(this.storage,this.storageKey)),await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:d}),headers:this.headers,xform:jT})}catch(a){if(fe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:s}=e;if(s)throw s;if(!i)throw new Zn;const{error:r}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(fe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:a}=e,{error:d}=await _e(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:s,type:r,options:a}=e,{data:d,error:h}=await _e(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new cr("You must provide either an email or phone number and a type")}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await ar(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,m,y)=>(!d&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,y))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ti}):await this._useSession(async i=>{var s,r,a;const{data:d,error:h}=i;if(h)throw h;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zn}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0,xform:ti})})}catch(i){if(fe(i))return VT(i)&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:i};throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async s=>{const{data:r,error:a}=s;if(a)throw a;if(!r.session)throw new Zn;const d=r.session;let h=null,g=null;this.flowType==="pkce"&&e.email!=null&&([h,g]=await To(this.storage,this.storageKey));const{data:m,error:y}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:g}),jwt:d.access_token,xform:ti});if(y)throw y;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}_decodeJWT(e){return km(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zn;const i=Date.now()/1e3;let s=i,r=!0,a=null;const d=km(e.access_token);if(d.exp&&(s=d.exp,r=s<=i),r){const{session:h,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:g}=await this._getUser(e.access_token);if(g)throw g;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(i){if(fe(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var s;if(!e){const{data:d,error:h}=i;if(h)throw h;e=(s=d.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Zn;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(e){try{if(!Xt())throw new dr("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new dr("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Dm("Not a valid PKCE flow url.");const i=ac(window.location.href);if(e){if(!i.code)throw new Dm("No code detected.");const{data:J,error:V}=await this._exchangeCodeForSession(i.code);if(V)throw V;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:J.session,redirectType:null},error:null}}if(i.error||i.error_description||i.error_code)throw new dr(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});const{provider_token:s,provider_refresh_token:r,access_token:a,refresh_token:d,expires_in:h,expires_at:g,token_type:m}=i;if(!a||!h||!d||!m)throw new dr("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(h);let S=y+_;g&&(S=parseInt(g));const b=S-y;b*1e3<=ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${_}s`);const w=S-_;y-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,S,y):y-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,S,y);const{data:I,error:A}=await this._getUser(a);if(A)throw A;const L={provider_token:s,provider_refresh_token:r,access_token:a,expires_in:_,expires_at:S,refresh_token:d,token_type:m,user:I.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:i.type},error:null}}catch(i){if(fe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantFlow(){const e=ac(window.location.href);return!!(Xt()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=ac(window.location.href),i=await ar(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:r,error:a}=i;if(a)return{error:a};const d=(s=r.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:h}=await this.admin.signOut(d,e);if(h&&!(BT(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const i=NT(),s={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async i=>{var s,r;try{const{data:{session:a},error:d}=i;if(d)throw d;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,i={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await To(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(a){if(fe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}}async linkIdentity(e){var i;try{const{data:s,error:r}=await this._useSession(async a=>{var d,h,g,m,y;const{data:_,error:S}=a;if(S)throw S;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(r)throw r;return Xt()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(fe(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async i=>{var s,r;const{data:a,error:d}=i;if(d)throw d;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(i){if(fe(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await DT(async r=>(r>0&&await kT(200*Math.pow(2,r-1)),this._debug(i,"refreshing attempt",r),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wn})),(r,a)=>{const d=200*Math.pow(2,r);return a&&cc(a)&&Date.now()+d-s<ks})}catch(s){if(this._debug(i,"error",s),fe(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",s),Xt()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await ar(this.storage,this.storageKey);if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),a=((e=s.expires_at)!==null&&e!==void 0?e:1/0)<r+Im;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${Im}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:d}=await this._callRefreshToken(s.refresh_token);d&&(console.error(d),cc(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var i,s;if(!e)throw new Zn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Nr;const{data:a,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!a.session)throw new Zn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(r,"error",a),fe(a)){const d={session:null,error:a};return cc(a)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,i,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:i});const a=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,i)}catch(g){a.push(g)}});if(await Promise.all(d),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await G0(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ur(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ks);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${ks}ms, refresh threshold is ${Gm} ticks`),r<=Gm&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof H0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,s){const r=[`provider=${encodeURIComponent(i)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,d]=await To(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(d)}`});r.push(h.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);r.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var s;const{data:r,error:a}=i;return a?{data:null,error:a}:await _e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(fe(i))return{data:null,error:i};throw i}}async _enroll(e){try{return await this._useSession(async i=>{var s,r;const{data:a,error:d}=i;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:g,error:m}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return m?{data:null,error:m}:(e.factorType==="phone"&&delete g.totp,e.factorType==="totp"&&(!((r=g==null?void 0:g.totp)===null||r===void 0)&&r.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(i){if(fe(i))return{data:null,error:i};throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:r,error:a}=i;if(a)return{data:null,error:a};const{data:d,error:h}=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(i){if(fe(i))return{data:null,error:i};throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:r,error:a}=i;return a?{data:null,error:a}:await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(fe(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(e){const{data:i,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){const{data:{user:e},error:i}=await this.getUser();if(i)return{data:null,error:i};const s=(e==null?void 0:e.factors)||[],r=s.filter(d=>d.factor_type==="totp"&&d.status==="verified"),a=s.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:s,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var i,s;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const d=this._decodeJWT(r.access_token);let h=null;d.aal&&(h=d.aal);let g=h;((s=(i=r.user.factors)===null||i===void 0?void 0:i.filter(_=>_.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(g="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}}Hs.nextInstanceID=0;const sE=Hs;class lE extends sE{constructor(e){super(e)}}var rE=function(n,e,i,s){function r(a){return a instanceof i?a:new i(function(d){d(a)})}return new(i||(i=Promise))(function(a,d){function h(y){try{m(s.next(y))}catch(_){d(_)}}function g(y){try{m(s.throw(y))}catch(_){d(_)}}function m(y){y.done?a(y.value):r(y.value).then(h,g)}m((s=s.apply(n,e||[])).next())})};class aE{constructor(e,i,s){var r,a,d;if(this.supabaseUrl=e,this.supabaseKey=i,!e)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const h=xT(e);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:mT,realtime:vT,auth:Object.assign(Object.assign({},gT),{storageKey:g}),global:pT},y=bT(s??{},m);this.storageKey=(r=y.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(a=y.global.headers)!==null&&a!==void 0?a:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(_,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=TT(i,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},y.realtime)),this.rest=new OS(`${h}/rest/v1`,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new bS(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new dT(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},s={}){return this.rest.rpc(e,i,s)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,i;return rE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(i=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:s,storage:r,storageKey:a,flowType:d,lock:h,debug:g},m,y){var _;const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lE({url:this.authUrl,headers:Object.assign(Object.assign({},S),m),storageKey:a,autoRefreshToken:e,persistSession:i,detectSessionInUrl:s,storage:r,flowType:d,lock:h,debug:g,fetch:y,hasCustomAuthorizationHeader:(_="Authorization"in this.headers)!==null&&_!==void 0?_:!1})}_initRealtimeClient(e){return new QS(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,s)=>{this._handleTokenChanged(i,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,i,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.realtime.setAuth(s??null),this.changedAccessToken=s):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uE=(n,e,i)=>new aE(n,e,i),cE="https://ccnialybatzefrtulruy.supabase.co",dE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNjbmlhbHliYXR6ZWZydHVscnV5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzMTY1MjQsImV4cCI6MjA4NTg5MjUyNH0.VQmHOCoSn9MvJpo48d8yxGVrj1hGHul95pko5i3J-Rc",Ut=uE(cE,dE);var fE={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let hE,pE;function mE(){return{geminiUrl:hE,vertexUrl:pE}}function gE(n,e,i,s){var r,a;if(!(n!=null&&n.baseUrl)){const d=mE();return e?(r=d.vertexUrl)!==null&&r!==void 0?r:i:(a=d.geminiUrl)!==null&&a!==void 0?a:s}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class An{}function j(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(s,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(n,e,i){for(let a=0;a<e.length-1;a++){const d=e[a];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in n))if(Array.isArray(i))n[h]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(n[h])){const g=n[h];if(Array.isArray(i))for(let m=0;m<g.length;m++){const y=g[m];f(y,e.slice(a+1),i[m])}else for(const m of g)f(m,e.slice(a+1),i)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in n||(n[h]=[{}]);const g=n[h];f(g[0],e.slice(a+1),i);return}(!n[d]||typeof n[d]!="object")&&(n[d]={}),n=n[d]}const s=e[e.length-1],r=n[s];if(r!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===r)return;if(typeof r=="object"&&typeof i=="object"&&r!==null&&i!==null)Object.assign(r,i);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[s]=i}function c(n,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let s=0;s<e.length;s++){if(typeof n!="object"||n===null)return i;const r=e[s];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in n){const d=n[a];return Array.isArray(d)?d.map(h=>c(h,e.slice(s+1),i)):i}else return i}else n=n[r]}return n}catch(s){if(s instanceof TypeError)return i;throw s}}function vE(n,e){for(const[i,s]of Object.entries(e)){const r=i.split("."),a=s.split("."),d=new Set;let h=-1;for(let g=0;g<r.length;g++)if(r[g]==="*"){h=g;break}if(h!==-1&&a.length>h)for(let g=h;g<a.length;g++){const m=a[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}xc(n,r,a,0,d)}}function xc(n,e,i,s,r){if(s>=e.length||typeof n!="object"||n===null)return;const a=e[s];if(a.endsWith("[]")){const d=a.slice(0,-2),h=n;if(d in h&&Array.isArray(h[d]))for(const g of h[d])xc(g,e,i,s+1,r)}else if(a==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const d=n,h=Object.keys(d).filter(m=>!m.startsWith("_")&&!r.has(m)),g={};for(const m of h)g[m]=d[m];for(const[m,y]of Object.entries(g)){const _=[];for(const S of i.slice(s))S==="*"?_.push(m):_.push(S);f(d,_,y)}for(const m of h)delete d[m]}}else{const d=n;a in d&&xc(d[a],e,i,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yE(n){const e={},i=c(n,["operationName"]);i!=null&&f(e,["operationName"],i);const s=c(n,["resourceName"]);return s!=null&&f(e,["_url","resourceName"],s),e}function _E(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const r=c(n,["done"]);r!=null&&f(e,["done"],r);const a=c(n,["error"]);a!=null&&f(e,["error"],a);const d=c(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],TE(d)),e}function SE(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const r=c(n,["done"]);r!=null&&f(e,["done"],r);const a=c(n,["error"]);a!=null&&f(e,["error"],a);const d=c(n,["response"]);return d!=null&&f(e,["response"],EE(d)),e}function TE(n){const e={},i=c(n,["generatedSamples"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(d=>xE(d))),f(e,["generatedVideos"],a)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const r=c(n,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function EE(n){const e={},i=c(n,["videos"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(d=>bE(d))),f(e,["generatedVideos"],a)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const r=c(n,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function xE(n){const e={},i=c(n,["video"]);return i!=null&&f(e,["video"],ME(i)),e}function bE(n){const e={},i=c(n,["_self"]);return i!=null&&f(e,["video"],IE(i)),e}function AE(n){const e={},i=c(n,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function wE(n){const e={},i=c(n,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function CE(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const r=c(n,["done"]);r!=null&&f(e,["done"],r);const a=c(n,["error"]);a!=null&&f(e,["error"],a);const d=c(n,["response"]);return d!=null&&f(e,["response"],RE(d)),e}function RE(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const r=c(n,["documentName"]);return r!=null&&f(e,["documentName"],r),e}function q0(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const r=c(n,["done"]);r!=null&&f(e,["done"],r);const a=c(n,["error"]);a!=null&&f(e,["error"],a);const d=c(n,["response"]);return d!=null&&f(e,["response"],NE(d)),e}function NE(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const r=c(n,["documentName"]);return r!=null&&f(e,["documentName"],r),e}function ME(n){const e={},i=c(n,["uri"]);i!=null&&f(e,["uri"],i);const s=c(n,["encodedVideo"]);s!=null&&f(e,["videoBytes"],Yc(s));const r=c(n,["encoding"]);return r!=null&&f(e,["mimeType"],r),e}function IE(n){const e={},i=c(n,["gcsUri"]);i!=null&&f(e,["uri"],i);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],Yc(s));const r=c(n,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Hm||(Hm={}));var qm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(qm||(qm={}));var Bm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Bm||(Bm={}));var ni;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(ni||(ni={}));var Vm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Vm||(Vm={}));var Fm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Fm||(Fm={}));var Jm;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Jm||(Jm={}));var Ym;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ym||(Ym={}));var $m;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})($m||($m={}));var jm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(jm||(jm={}));var Km;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Km||(Km={}));var Xm;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(Xm||(Xm={}));var Qm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Qm||(Qm={}));var Zm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Zm||(Zm={}));var Wm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Wm||(Wm={}));var eg;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(eg||(eg={}));var tg;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(tg||(tg={}));var ng;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ng||(ng={}));var ig;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ig||(ig={}));var og;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(og||(og={}));var sg;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sg||(sg={}));var xr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(xr||(xr={}));var lg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(lg||(lg={}));var rg;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(rg||(rg={}));var ag;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ag||(ag={}));var bc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(bc||(bc={}));var ug;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ug||(ug={}));var cg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(cg||(cg={}));var Ac;(function(n){n.COLLECTION="COLLECTION"})(Ac||(Ac={}));var dg;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(dg||(dg={}));var fg;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(fg||(fg={}));var hg;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(hg||(hg={}));var pg;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(pg||(pg={}));var mg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(mg||(mg={}));var gg;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(gg||(gg={}));var vg;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vg||(vg={}));var yg;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(yg||(yg={}));var _g;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(_g||(_g={}));var Sg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Sg||(Sg={}));var Tg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Tg||(Tg={}));var Eg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Eg||(Eg={}));var xg;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(xg||(xg={}));var bg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING",n.DISTILLATION="DISTILLATION"})(bg||(bg={}));var Ag;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Ag||(Ag={}));var wg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(wg||(wg={}));var Cg;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(Cg||(Cg={}));var Rg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Rg||(Rg={}));var Ng;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Ng||(Ng={}));var Mg;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Mg||(Mg={}));var Ig;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(Ig||(Ig={}));var kg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(kg||(kg={}));var Dg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Dg||(Dg={}));var Ug;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Ug||(Ug={}));var Lg;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Lg||(Lg={}));var Pg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Pg||(Pg={}));var Og;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Og||(Og={}));var bo;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(bo||(bo={}));class wc{constructor(e){const i={};for(const s of e.headers.entries())i[s[0]]=s[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ds{get text(){var e,i,s,r,a,d,h,g;if(((r=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const _=[];for(const S of(g=(h=(d=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[b,w]of Object.entries(S))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(w!==null||w!==void 0)&&_.push(b);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,m+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,i,s,r,a,d,h,g;if(((r=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const _ of(g=(h=(d=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[S,b]of Object.entries(_))S!=="inlineData"&&(b!==null||b!==void 0)&&y.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,i,s,r,a,d,h,g;if(((r=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(h=(d=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,i,s,r,a,d,h,g,m;if(((r=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(g=(h=(d=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,i,s,r,a,d,h,g,m;if(((r=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(g=(h=(d=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class Gg{}class zg{}class kE{}class DE{}class UE{}class LE{}class Hg{}class qg{}class Bg{}class PE{}class br{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new br;let r;const a=e;return i?r=SE(a):r=_E(a),Object.assign(s,r),s}}class Vg{}class Fg{}class Jg{}class Yg{}class OE{}class GE{}class zE{}class $c{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new $c,a=CE(e);return Object.assign(s,a),s}}class HE{}class qE{}class BE{}class VE{}class $g{}class FE{get text(){var e,i,s;let r="",a=!1;const d=[];for(const h of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&m!==null&&d.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;a=!0,r+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,i,s;let r="";const a=[];for(const d of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[h,g]of Object.entries(d))h!=="inlineData"&&g!==null&&a.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(r+=atob(d.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class JE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class jc{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new jc,a=q0(e);return Object.assign(s,a),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function B0(n,e){const i=xe(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function V0(n){return Array.isArray(n)?n.map(e=>Ar(e)):[Ar(n)]}function Ar(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function F0(n){const e=Ar(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function J0(n){const e=Ar(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Y0(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>jg(e)):[jg(n)]}function Cc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Kg(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Xg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ct(n){if(n==null)throw new Error("ContentUnion is required");return Cc(n)?n:{role:"user",parts:Y0(n)}}function Kc(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const s=ct(i);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(n.isVertexAI()){const i=ct(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>ct(i)):[ct(e)]}function Jt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Kg(n)||Xg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ct(n)]}const e=[],i=[],s=Cc(n[0]);for(const r of n){const a=Cc(r);if(a!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if(Kg(r)||Xg(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(r)}}return s||e.push({role:"user",parts:Y0(i)}),e}function YE(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(s=>s!=="null");if(i.length===1)e.type=Object.values(ni).includes(i[0].toUpperCase())?i[0].toUpperCase():ni.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of i)e.anyOf.push({type:Object.values(ni).includes(s.toUpperCase())?s.toUpperCase():ni.TYPE_UNSPECIFIED})}}function Co(n){const e={},i=["items"],s=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=n.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,n=a[1]):a[1].type==="null"&&(e.nullable=!0,n=a[0])),n.type instanceof Array&&YE(n.type,e);for(const[d,h]of Object.entries(n))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(ni).includes(h.toUpperCase())?h.toUpperCase():ni.TYPE_UNSPECIFIED}else if(i.includes(d))e[d]=Co(h);else if(s.includes(d)){const g=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}g.push(Co(m))}e[d]=g}else if(r.includes(d)){const g={};for(const[m,y]of Object.entries(h))g[m]=Co(y);e[d]=g}else{if(d==="additionalProperties")continue;e[d]=h}return e}function Xc(n){return Co(n)}function Qc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Zc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function ko(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Co(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Co(e.response));return n}function Do(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function $E(n,e,i,s=1){const r=!e.startsWith(`${i}/`)&&e.split("/").length===s;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:r?`${i}/${e}`:e}function wn(n,e){if(typeof e!="string")throw new Error("name must be a string");return $E(n,e,"cachedContents")}function $0(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ii(n){return Yc(n)}function jE(n){return n!=null&&typeof n=="object"&&"name"in n}function KE(n){return n!=null&&typeof n=="object"&&"video"in n}function XE(n){return n!=null&&typeof n=="object"&&"uri"in n}function j0(n){var e;let i;if(jE(n)&&(i=n.name),!(XE(n)&&(i=n.uri,i===void 0))&&!(KE(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const r=i.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${i}`);i=r[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function K0(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function X0(n){for(const e of["models","tunedModels","publisherModels"])if(QE(n,e))return n[e];return[]}function QE(n,e){return n!==null&&typeof n=="object"&&e in n}function ZE(n,e={}){const i=n,s={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(s.responseJsonSchema=i.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function WE(n,e={}){const i=[],s=new Set;for(const r of n){const a=r.name;if(s.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);s.add(a);const d=ZE(r,e);d.functionDeclarations&&i.push(...d.functionDeclarations)}return{functionDeclarations:i}}function Q0(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const s=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,r=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function ex(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Z0(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const r=i.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let a=!1;for(const d of r){if(typeof d!="object"||d===null)continue;const g=d.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Uo(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function W0(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tx(n){const e={},i=c(n,["responsesFile"]);i!=null&&f(e,["fileName"],i);const s=c(n,["inlinedResponses","inlinedResponses"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(d=>Lx(d))),f(e,["inlinedResponses"],a)}const r=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(d=>d)),f(e,["inlinedEmbedContentResponses"],a)}return e}function nx(n){const e={},i=c(n,["predictionsFormat"]);i!=null&&f(e,["format"],i);const s=c(n,["gcsDestination","outputUriPrefix"]);s!=null&&f(e,["gcsUri"],s);const r=c(n,["bigqueryDestination","outputUri"]);return r!=null&&f(e,["bigqueryUri"],r),e}function ix(n){const e={},i=c(n,["format"]);i!=null&&f(e,["predictionsFormat"],i);const s=c(n,["gcsUri"]);s!=null&&f(e,["gcsDestination","outputUriPrefix"],s);const r=c(n,["bigqueryUri"]);if(r!=null&&f(e,["bigqueryDestination","outputUri"],r),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Sr(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const s=c(n,["metadata","displayName"]);s!=null&&f(e,["displayName"],s);const r=c(n,["metadata","state"]);r!=null&&f(e,["state"],W0(r));const a=c(n,["metadata","createTime"]);a!=null&&f(e,["createTime"],a);const d=c(n,["metadata","endTime"]);d!=null&&f(e,["endTime"],d);const h=c(n,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const g=c(n,["metadata","model"]);g!=null&&f(e,["model"],g);const m=c(n,["metadata","output"]);return m!=null&&f(e,["dest"],tx(Z0(m))),e}function Rc(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const s=c(n,["displayName"]);s!=null&&f(e,["displayName"],s);const r=c(n,["state"]);r!=null&&f(e,["state"],W0(r));const a=c(n,["error"]);a!=null&&f(e,["error"],a);const d=c(n,["createTime"]);d!=null&&f(e,["createTime"],d);const h=c(n,["startTime"]);h!=null&&f(e,["startTime"],h);const g=c(n,["endTime"]);g!=null&&f(e,["endTime"],g);const m=c(n,["updateTime"]);m!=null&&f(e,["updateTime"],m);const y=c(n,["model"]);y!=null&&f(e,["model"],y);const _=c(n,["inputConfig"]);_!=null&&f(e,["src"],ox(_));const S=c(n,["outputConfig"]);S!=null&&f(e,["dest"],nx(Z0(S)));const b=c(n,["completionStats"]);return b!=null&&f(e,["completionStats"],b),e}function ox(n){const e={},i=c(n,["instancesFormat"]);i!=null&&f(e,["format"],i);const s=c(n,["gcsSource","uris"]);s!=null&&f(e,["gcsUri"],s);const r=c(n,["bigquerySource","inputUri"]);return r!=null&&f(e,["bigqueryUri"],r),e}function sx(n,e){const i={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=c(e,["fileName"]);s!=null&&f(i,["fileName"],s);const r=c(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(d=>Ux(n,d))),f(i,["requests","requests"],a)}return i}function lx(n){const e={},i=c(n,["format"]);i!=null&&f(e,["instancesFormat"],i);const s=c(n,["gcsUri"]);s!=null&&f(e,["gcsSource","uris"],s);const r=c(n,["bigqueryUri"]);if(r!=null&&f(e,["bigquerySource","inputUri"],r),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function rx(n){const e={},i=c(n,["data"]);if(i!=null&&f(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function ax(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Uo(n,s)),i}function ux(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Uo(n,s)),i}function cx(n){const e={},i=c(n,["content"]);i!=null&&f(e,["content"],i);const s=c(n,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],dx(s));const r=c(n,["tokenCount"]);r!=null&&f(e,["tokenCount"],r);const a=c(n,["finishReason"]);a!=null&&f(e,["finishReason"],a);const d=c(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const h=c(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const g=c(n,["index"]);g!=null&&f(e,["index"],g);const m=c(n,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const y=c(n,["safetyRatings"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(b=>b)),f(e,["safetyRatings"],S)}const _=c(n,["urlContextMetadata"]);return _!=null&&f(e,["urlContextMetadata"],_),e}function dx(n){const e={},i=c(n,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>r)),f(e,["citations"],s)}return e}function ev(n){const e={},i=c(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Bx(a))),f(e,["parts"],r)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function fx(n,e){const i={},s=c(n,["displayName"]);if(e!==void 0&&s!=null&&f(e,["batch","displayName"],s),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function hx(n,e){const i={},s=c(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const r=c(n,["dest"]);return e!==void 0&&r!=null&&f(e,["outputConfig"],ix(ex(r))),i}function Qg(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],xe(n,s));const r=c(e,["src"]);r!=null&&f(i,["batch","inputConfig"],sx(n,Q0(n,r)));const a=c(e,["config"]);return a!=null&&fx(a,i),i}function px(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["model"],xe(n,s));const r=c(e,["src"]);r!=null&&f(i,["inputConfig"],lx(Q0(n,r)));const a=c(e,["config"]);return a!=null&&hx(a,i),i}function mx(n,e){const i={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["batch","displayName"],s),i}function gx(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],xe(n,s));const r=c(e,["src"]);r!=null&&f(i,["batch","inputConfig"],xx(n,r));const a=c(e,["config"]);return a!=null&&mx(a,i),i}function vx(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Uo(n,s)),i}function yx(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Uo(n,s)),i}function _x(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const r=c(n,["done"]);r!=null&&f(e,["done"],r);const a=c(n,["error"]);return a!=null&&f(e,["error"],a),e}function Sx(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const r=c(n,["done"]);r!=null&&f(e,["done"],r);const a=c(n,["error"]);return a!=null&&f(e,["error"],a),e}function Tx(n,e){const i={},s=c(e,["contents"]);if(s!=null){let a=Kc(n,s);Array.isArray(a)&&(a=a.map(d=>d)),f(i,["requests[]","request","content"],a)}const r=c(e,["config"]);return r!=null&&(f(i,["_self"],Ex(r,i)),vE(i,{"requests[].*":"requests[].request.*"})),i}function Ex(n,e){const i={},s=c(n,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const r=c(n,["title"]);e!==void 0&&r!=null&&f(e,["requests[]","title"],r);const a=c(n,["outputDimensionality"]);if(e!==void 0&&a!=null&&f(e,["requests[]","outputDimensionality"],a),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function xx(n,e){const i={},s=c(e,["fileName"]);s!=null&&f(i,["file_name"],s);const r=c(e,["inlinedRequests"]);return r!=null&&f(i,["requests"],Tx(n,r)),i}function bx(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Ax(n){const e={},i=c(n,["id"]);i!=null&&f(e,["id"],i);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const r=c(n,["name"]);if(r!=null&&f(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wx(n){const e={},i=c(n,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const s=c(n,["mode"]);if(s!=null&&f(e,["mode"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Cx(n,e,i){const s={},r=c(e,["systemInstruction"]);i!==void 0&&r!=null&&f(i,["systemInstruction"],ev(ct(r)));const a=c(e,["temperature"]);a!=null&&f(s,["temperature"],a);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const h=c(e,["topK"]);h!=null&&f(s,["topK"],h);const g=c(e,["candidateCount"]);g!=null&&f(s,["candidateCount"],g);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const y=c(e,["stopSequences"]);y!=null&&f(s,["stopSequences"],y);const _=c(e,["responseLogprobs"]);_!=null&&f(s,["responseLogprobs"],_);const S=c(e,["logprobs"]);S!=null&&f(s,["logprobs"],S);const b=c(e,["presencePenalty"]);b!=null&&f(s,["presencePenalty"],b);const w=c(e,["frequencyPenalty"]);w!=null&&f(s,["frequencyPenalty"],w);const I=c(e,["seed"]);I!=null&&f(s,["seed"],I);const A=c(e,["responseMimeType"]);A!=null&&f(s,["responseMimeType"],A);const L=c(e,["responseSchema"]);L!=null&&f(s,["responseSchema"],Xc(L));const J=c(e,["responseJsonSchema"]);if(J!=null&&f(s,["responseJsonSchema"],J),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=c(e,["safetySettings"]);if(i!==void 0&&V!=null){let He=V;Array.isArray(He)&&(He=He.map(Le=>Vx(Le))),f(i,["safetySettings"],He)}const H=c(e,["tools"]);if(i!==void 0&&H!=null){let He=Do(H);Array.isArray(He)&&(He=He.map(Le=>Jx(ko(Le)))),f(i,["tools"],He)}const O=c(e,["toolConfig"]);if(i!==void 0&&O!=null&&f(i,["toolConfig"],Fx(O)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=c(e,["cachedContent"]);i!==void 0&&ee!=null&&f(i,["cachedContent"],wn(n,ee));const Y=c(e,["responseModalities"]);Y!=null&&f(s,["responseModalities"],Y);const ue=c(e,["mediaResolution"]);ue!=null&&f(s,["mediaResolution"],ue);const Q=c(e,["speechConfig"]);if(Q!=null&&f(s,["speechConfig"],Qc(Q)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=c(e,["thinkingConfig"]);de!=null&&f(s,["thinkingConfig"],de);const be=c(e,["imageConfig"]);be!=null&&f(s,["imageConfig"],Dx(be));const Ne=c(e,["enableEnhancedCivicAnswers"]);if(Ne!=null&&f(s,["enableEnhancedCivicAnswers"],Ne),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function Rx(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(m=>cx(m))),f(e,["candidates"],g)}const r=c(n,["modelVersion"]);r!=null&&f(e,["modelVersion"],r);const a=c(n,["promptFeedback"]);a!=null&&f(e,["promptFeedback"],a);const d=c(n,["responseId"]);d!=null&&f(e,["responseId"],d);const h=c(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function Nx(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Uo(n,s)),i}function Mx(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Uo(n,s)),i}function Ix(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function kx(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function Dx(n){const e={},i=c(n,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const s=c(n,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Ux(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["request","model"],xe(n,s));const r=c(e,["contents"]);if(r!=null){let h=Jt(r);Array.isArray(h)&&(h=h.map(g=>ev(g))),f(i,["request","contents"],h)}const a=c(e,["metadata"]);a!=null&&f(i,["metadata"],a);const d=c(e,["config"]);return d!=null&&f(i,["request","generationConfig"],Cx(n,d,c(i,["request"],{}))),i}function Lx(n){const e={},i=c(n,["response"]);i!=null&&f(e,["response"],Rx(i));const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const r=c(n,["error"]);return r!=null&&f(e,["error"],r),e}function Px(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const r=c(n,["pageToken"]);if(e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function Ox(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const r=c(n,["pageToken"]);e!==void 0&&r!=null&&f(e,["_query","pageToken"],r);const a=c(n,["filter"]);return e!==void 0&&a!=null&&f(e,["_query","filter"],a),i}function Gx(n){const e={},i=c(n,["config"]);return i!=null&&Px(i,e),e}function zx(n){const e={},i=c(n,["config"]);return i!=null&&Ox(i,e),e}function Hx(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const r=c(n,["operations"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(d=>Sr(d))),f(e,["batchJobs"],a)}return e}function qx(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const r=c(n,["batchPredictionJobs"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(d=>Rc(d))),f(e,["batchJobs"],a)}return e}function Bx(n){const e={},i=c(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const r=c(n,["executableCode"]);r!=null&&f(e,["executableCode"],r);const a=c(n,["fileData"]);a!=null&&f(e,["fileData"],bx(a));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],Ax(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=c(n,["inlineData"]);g!=null&&f(e,["inlineData"],rx(g));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const y=c(n,["thought"]);y!=null&&f(e,["thought"],y);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function Vx(n){const e={},i=c(n,["category"]);if(i!=null&&f(e,["category"],i),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function Fx(n){const e={},i=c(n,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const s=c(n,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],wx(s)),e}function Jx(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const r=c(n,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(n,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(_=>_)),f(e,["functionDeclarations"],y)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],Ix(d));const h=c(n,["googleSearch"]);h!=null&&f(e,["googleSearch"],kx(h));const g=c(n,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(bn||(bn={}));class Ni{constructor(e,i,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,s,r)}init(e,i,s){var r,a;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!s||Object.keys(s).length===0?d={config:{}}:typeof s=="object"?d=Object.assign({},s):d=s,d.config&&(d.config.pageToken=i.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(a=(r=d.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yx extends An{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ni(bn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=Qg(this.apiClient,e),s=i._url,r=j("{model}:batchGenerateContent",s),h=i.batch.inputConfig.requests,g=h.requests,m=[];for(const y of g){const _=Object.assign({},y);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const b=_.request;b.systemInstruction=S,_.request=b}m.push(_)}return h.requests=m,delete i.config,delete i._url,delete i._query,{path:r,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const s=i?Object.assign({},i):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const a=this.getGcsUri(e),d=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?s.dest=`${a.slice(0,-6)}/dest`:s.dest=`${a}_dest_${r}`;else if(d)s.dest=`${d}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=px(this.apiClient,e);return h=j("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>Rc(y))}else{const m=Qg(this.apiClient,e);return h=j("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),d.then(y=>Sr(y))}}async createEmbeddingsInternal(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=gx(this.apiClient,e);return a=j("{model}:asyncBatchEmbedContent",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>Sr(g))}}async get(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Mx(this.apiClient,e);return h=j("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>Rc(y))}else{const m=Nx(this.apiClient,e);return h=j("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),d.then(y=>Sr(y))}}async cancel(e){var i,s,r,a;let d="",h={};if(this.apiClient.isVertexAI()){const g=ux(this.apiClient,e);d=j("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const g=ax(this.apiClient,e);d=j("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=zx(e);return h=j("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=qx(y),S=new $g;return Object.assign(S,_),S})}else{const m=Gx(e);return h=j("batches",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=Hx(y),S=new $g;return Object.assign(S,_),S})}}async delete(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=yx(this.apiClient,e);return h=j("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>Sx(y))}else{const m=vx(this.apiClient,e);return h=j("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>_x(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $x(n){const e={},i=c(n,["data"]);if(i!=null&&f(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Zg(n){const e={},i=c(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>gb(a))),f(e,["parts"],r)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function jx(n,e){const i={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const r=c(n,["expireTime"]);e!==void 0&&r!=null&&f(e,["expireTime"],r);const a=c(n,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let y=Jt(d);Array.isArray(y)&&(y=y.map(_=>Zg(_))),f(e,["contents"],y)}const h=c(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],Zg(ct(h)));const g=c(n,["tools"]);if(e!==void 0&&g!=null){let y=g;Array.isArray(y)&&(y=y.map(_=>yb(_))),f(e,["tools"],y)}const m=c(n,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],vb(m)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function Kx(n,e){const i={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const r=c(n,["expireTime"]);e!==void 0&&r!=null&&f(e,["expireTime"],r);const a=c(n,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let _=Jt(d);Array.isArray(_)&&(_=_.map(S=>S)),f(e,["contents"],_)}const h=c(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],ct(h));const g=c(n,["tools"]);if(e!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(S=>_b(S))),f(e,["tools"],_)}const m=c(n,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],m);const y=c(n,["kmsKeyName"]);return e!==void 0&&y!=null&&f(e,["encryption_spec","kmsKeyName"],y),i}function Xx(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["model"],B0(n,s));const r=c(e,["config"]);return r!=null&&jx(r,i),i}function Qx(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["model"],B0(n,s));const r=c(e,["config"]);return r!=null&&Kx(r,i),i}function Zx(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],wn(n,s)),i}function Wx(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],wn(n,s)),i}function eb(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function tb(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function nb(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function ib(n){const e={},i=c(n,["id"]);i!=null&&f(e,["id"],i);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const r=c(n,["name"]);if(r!=null&&f(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ob(n){const e={},i=c(n,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const s=c(n,["mode"]);if(s!=null&&f(e,["mode"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function sb(n){const e={},i=c(n,["description"]);i!=null&&f(e,["description"],i);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const r=c(n,["parameters"]);r!=null&&f(e,["parameters"],r);const a=c(n,["parametersJsonSchema"]);a!=null&&f(e,["parametersJsonSchema"],a);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);if(h!=null&&f(e,["responseJsonSchema"],h),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function lb(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],wn(n,s)),i}function rb(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],wn(n,s)),i}function ab(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function ub(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function cb(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const r=c(n,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),i}function db(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const r=c(n,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),i}function fb(n){const e={},i=c(n,["config"]);return i!=null&&cb(i,e),e}function hb(n){const e={},i=c(n,["config"]);return i!=null&&db(i,e),e}function pb(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const r=c(n,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(d=>d)),f(e,["cachedContents"],a)}return e}function mb(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const r=c(n,["cachedContents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(d=>d)),f(e,["cachedContents"],a)}return e}function gb(n){const e={},i=c(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const r=c(n,["executableCode"]);r!=null&&f(e,["executableCode"],r);const a=c(n,["fileData"]);a!=null&&f(e,["fileData"],nb(a));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],ib(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=c(n,["inlineData"]);g!=null&&f(e,["inlineData"],$x(g));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const y=c(n,["thought"]);y!=null&&f(e,["thought"],y);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function vb(n){const e={},i=c(n,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const s=c(n,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],ob(s)),e}function yb(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const r=c(n,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(n,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(_=>_)),f(e,["functionDeclarations"],y)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],ab(d));const h=c(n,["googleSearch"]);h!=null&&f(e,["googleSearch"],ub(h));const g=c(n,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function _b(n){const e={},i=c(n,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=c(n,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=c(n,["codeExecution"]);r!=null&&f(e,["codeExecution"],r);const a=c(n,["enterpriseWebSearch"]);a!=null&&f(e,["enterpriseWebSearch"],a);const d=c(n,["functionDeclarations"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>sb(S))),f(e,["functionDeclarations"],_)}const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],h);const g=c(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const m=c(n,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const y=c(n,["urlContext"]);return y!=null&&f(e,["urlContext"],y),e}function Sb(n,e){const i={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const r=c(n,["expireTime"]);return e!==void 0&&r!=null&&f(e,["expireTime"],r),i}function Tb(n,e){const i={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const r=c(n,["expireTime"]);return e!==void 0&&r!=null&&f(e,["expireTime"],r),i}function Eb(n,e){const i={},s=c(e,["name"]);s!=null&&f(i,["_url","name"],wn(n,s));const r=c(e,["config"]);return r!=null&&Sb(r,i),i}function xb(n,e){const i={},s=c(e,["name"]);s!=null&&f(i,["_url","name"],wn(n,s));const r=c(e,["config"]);return r!=null&&Tb(r,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bb extends An{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ni(bn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(i),i)}async create(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Qx(this.apiClient,e);return h=j("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>y)}else{const m=Xx(this.apiClient,e);return h=j("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),d.then(y=>y)}}async get(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=rb(this.apiClient,e);return h=j("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>y)}else{const m=lb(this.apiClient,e);return h=j("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),d.then(y=>y)}}async delete(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Wx(this.apiClient,e);return h=j("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=tb(y),S=new Jg;return Object.assign(S,_),S})}else{const m=Zx(this.apiClient,e);return h=j("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=eb(y),S=new Jg;return Object.assign(S,_),S})}}async update(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=xb(this.apiClient,e);return h=j("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>y)}else{const m=Eb(this.apiClient,e);return h=j("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),d.then(y=>y)}}async listInternal(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=hb(e);return h=j("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=mb(y),S=new Yg;return Object.assign(S,_),S})}else{const m=fb(e);return h=j("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=pb(y),S=new Yg;return Object.assign(S,_),S})}}}function wr(n,e){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(i[s[r]]=n[s[r]]);return i}function Wg(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],s=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(n){return this instanceof se?(this.v=n,this):new se(n)}function Zt(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(n,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),r[Symbol.asyncIterator]=function(){return this},r;function d(b){return function(w){return Promise.resolve(w).then(b,_)}}function h(b,w){s[b]&&(r[b]=function(I){return new Promise(function(A,L){a.push([b,I,A,L])>1||g(b,I)})},w&&(r[b]=w(r[b])))}function g(b,w){try{m(s[b](w))}catch(I){S(a[0][3],I)}}function m(b){b.value instanceof se?Promise.resolve(b.value.v).then(y,_):S(a[0][2],b)}function y(b){g("next",b)}function _(b){g("throw",b)}function S(b,w){b(w),a.shift(),a.length&&g(a[0][0],a[0][1])}}function Wt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof Wg=="function"?Wg(n):n[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(a){i[a]=n[a]&&function(d){return new Promise(function(h,g){d=n[a](d),r(h,g,d.done,d.value)})}}function r(a,d,h,g){Promise.resolve(g).then(function(m){a({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ab(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:tv(i)}function tv(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function wb(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function e0(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let s=0;for(;s<i;)if(n[s].role==="user")e.push(n[s]),s++;else{const r=[];let a=!0;for(;s<i&&n[s].role==="model";)r.push(n[s]),a&&!tv(n[s])&&(a=!1),s++;a?e.push(...r):e.pop()}return e}class Cb{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new Rb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Rb{constructor(e,i,s,r={},a=[]){this.apiClient=e,this.modelsModule=i,this.model=s,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),wb(a)}async sendMessage(e){var i;await this.sendPromise;const s=ct(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var a,d,h;const g=await r,m=(d=(a=g.candidates)===null||a===void 0?void 0:a[0])===null||d===void 0?void 0:d.content,y=g.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];y!=null&&(S=(h=y.slice(_))!==null&&h!==void 0?h:[]);const b=m?[m]:[];this.recordHistory(s,b,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var i;await this.sendPromise;const s=ct(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,s)}getHistory(e=!1){const i=e?e0(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return Zt(this,arguments,function*(){var r,a,d,h,g,m;const y=[];try{for(var _=!0,S=Wt(e),b;b=yield se(S.next()),r=b.done,!r;_=!0){h=b.value,_=!1;const w=h;if(Ab(w)){const I=(m=(g=w.candidates)===null||g===void 0?void 0:g[0])===null||m===void 0?void 0:m.content;I!==void 0&&y.push(I)}yield yield se(w)}}catch(w){a={error:w}}finally{try{!_&&!r&&(d=S.return)&&(yield se(d.call(S)))}finally{if(a)throw a.error}}this.recordHistory(i,y)})}recordHistory(e,i,s){let r=[];i.length>0&&i.every(a=>a.role!==void 0)?r=i:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...e0(s)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qs extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,qs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nb(n){const e={},i=c(n,["file"]);return i!=null&&f(e,["file"],i),e}function Mb(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Ib(n){const e={},i=c(n,["name"]);return i!=null&&f(e,["_url","file"],j0(i)),e}function kb(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Db(n){const e={},i=c(n,["name"]);return i!=null&&f(e,["_url","file"],j0(i)),e}function Ub(n){const e={},i=c(n,["uris"]);return i!=null&&f(e,["uris"],i),e}function Lb(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const r=c(n,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),i}function Pb(n){const e={},i=c(n,["config"]);return i!=null&&Lb(i,e),e}function Ob(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const r=c(n,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(d=>d)),f(e,["files"],a)}return e}function Gb(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["files"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(a=>a)),f(e,["files"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zb extends An{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ni(bn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Pb(e);return a=j("files",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),r.then(g=>{const m=Ob(g),y=new HE;return Object.assign(y,m),y})}}async createInternal(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Nb(e);return a=j("upload/v1beta/files",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const m=Mb(g),y=new qE;return Object.assign(y,m),y})}}async get(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Db(e);return a=j("files/{file}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Ib(e);return a=j("files/{file}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),r.then(g=>{const m=kb(g),y=new BE;return Object.assign(y,m),y})}}async registerFilesInternal(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Ub(e);return a=j("files:register",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const m=Gb(g),y=new VE;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tr(n){const e={},i=c(n,["data"]);if(i!=null&&f(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Hb(n){const e={},i=c(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>nA(a))),f(e,["parts"],r)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function qb(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Bb(n){const e={},i=c(n,["id"]);i!=null&&f(e,["id"],i);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const r=c(n,["name"]);if(r!=null&&f(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Vb(n){const e={},i=c(n,["description"]);i!=null&&f(e,["description"],i);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const r=c(n,["parameters"]);r!=null&&f(e,["parameters"],r);const a=c(n,["parametersJsonSchema"]);a!=null&&f(e,["parametersJsonSchema"],a);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);if(h!=null&&f(e,["responseJsonSchema"],h),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Fb(n){const e={},i=c(n,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const s=c(n,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const r=c(n,["audioTimestamp"]);r!=null&&f(e,["audioTimestamp"],r);const a=c(n,["candidateCount"]);a!=null&&f(e,["candidateCount"],a);const d=c(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const h=c(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const g=c(n,["logprobs"]);g!=null&&f(e,["logprobs"],g);const m=c(n,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const y=c(n,["mediaResolution"]);y!=null&&f(e,["mediaResolution"],y);const _=c(n,["presencePenalty"]);_!=null&&f(e,["presencePenalty"],_);const S=c(n,["responseLogprobs"]);S!=null&&f(e,["responseLogprobs"],S);const b=c(n,["responseMimeType"]);b!=null&&f(e,["responseMimeType"],b);const w=c(n,["responseModalities"]);w!=null&&f(e,["responseModalities"],w);const I=c(n,["responseSchema"]);I!=null&&f(e,["responseSchema"],I);const A=c(n,["routingConfig"]);A!=null&&f(e,["routingConfig"],A);const L=c(n,["seed"]);L!=null&&f(e,["seed"],L);const J=c(n,["speechConfig"]);J!=null&&f(e,["speechConfig"],J);const V=c(n,["stopSequences"]);V!=null&&f(e,["stopSequences"],V);const H=c(n,["temperature"]);H!=null&&f(e,["temperature"],H);const O=c(n,["thinkingConfig"]);O!=null&&f(e,["thinkingConfig"],O);const ee=c(n,["topK"]);ee!=null&&f(e,["topK"],ee);const Y=c(n,["topP"]);if(Y!=null&&f(e,["topP"],Y),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Jb(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Yb(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function $b(n,e){const i={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const r=c(n,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const a=c(n,["temperature"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","temperature"],a);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=c(n,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Zc(_));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const b=c(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],b);const w=c(n,["systemInstruction"]);e!==void 0&&w!=null&&f(e,["setup","systemInstruction"],Hb(ct(w)));const I=c(n,["tools"]);if(e!==void 0&&I!=null){let ee=Do(I);Array.isArray(ee)&&(ee=ee.map(Y=>oA(ko(Y)))),f(e,["setup","tools"],ee)}const A=c(n,["sessionResumption"]);e!==void 0&&A!=null&&f(e,["setup","sessionResumption"],iA(A));const L=c(n,["inputAudioTranscription"]);e!==void 0&&L!=null&&f(e,["setup","inputAudioTranscription"],L);const J=c(n,["outputAudioTranscription"]);e!==void 0&&J!=null&&f(e,["setup","outputAudioTranscription"],J);const V=c(n,["realtimeInputConfig"]);e!==void 0&&V!=null&&f(e,["setup","realtimeInputConfig"],V);const H=c(n,["contextWindowCompression"]);e!==void 0&&H!=null&&f(e,["setup","contextWindowCompression"],H);const O=c(n,["proactivity"]);if(e!==void 0&&O!=null&&f(e,["setup","proactivity"],O),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function jb(n,e){const i={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],Fb(s));const r=c(n,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const a=c(n,["temperature"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","temperature"],a);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=c(n,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Zc(_));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const b=c(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],b);const w=c(n,["systemInstruction"]);e!==void 0&&w!=null&&f(e,["setup","systemInstruction"],ct(w));const I=c(n,["tools"]);if(e!==void 0&&I!=null){let Y=Do(I);Array.isArray(Y)&&(Y=Y.map(ue=>sA(ko(ue)))),f(e,["setup","tools"],Y)}const A=c(n,["sessionResumption"]);e!==void 0&&A!=null&&f(e,["setup","sessionResumption"],A);const L=c(n,["inputAudioTranscription"]);e!==void 0&&L!=null&&f(e,["setup","inputAudioTranscription"],L);const J=c(n,["outputAudioTranscription"]);e!==void 0&&J!=null&&f(e,["setup","outputAudioTranscription"],J);const V=c(n,["realtimeInputConfig"]);e!==void 0&&V!=null&&f(e,["setup","realtimeInputConfig"],V);const H=c(n,["contextWindowCompression"]);e!==void 0&&H!=null&&f(e,["setup","contextWindowCompression"],H);const O=c(n,["proactivity"]);e!==void 0&&O!=null&&f(e,["setup","proactivity"],O);const ee=c(n,["explicitVadSignal"]);return e!==void 0&&ee!=null&&f(e,["setup","explicitVadSignal"],ee),i}function Kb(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["setup","model"],xe(n,s));const r=c(e,["config"]);return r!=null&&f(i,["config"],$b(r,i)),i}function Xb(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["setup","model"],xe(n,s));const r=c(e,["config"]);return r!=null&&f(i,["config"],jb(r,i)),i}function Qb(n){const e={},i=c(n,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],i),e}function Zb(n){const e={},i=c(n,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>r)),f(e,["weightedPrompts"],s)}return e}function Wb(n){const e={},i=c(n,["media"]);if(i!=null){let m=V0(i);Array.isArray(m)&&(m=m.map(y=>Tr(y))),f(e,["mediaChunks"],m)}const s=c(n,["audio"]);s!=null&&f(e,["audio"],Tr(J0(s)));const r=c(n,["audioStreamEnd"]);r!=null&&f(e,["audioStreamEnd"],r);const a=c(n,["video"]);a!=null&&f(e,["video"],Tr(F0(a)));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const h=c(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const g=c(n,["activityEnd"]);return g!=null&&f(e,["activityEnd"],g),e}function eA(n){const e={},i=c(n,["media"]);if(i!=null){let m=V0(i);Array.isArray(m)&&(m=m.map(y=>y)),f(e,["mediaChunks"],m)}const s=c(n,["audio"]);s!=null&&f(e,["audio"],J0(s));const r=c(n,["audioStreamEnd"]);r!=null&&f(e,["audioStreamEnd"],r);const a=c(n,["video"]);a!=null&&f(e,["video"],F0(a));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const h=c(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const g=c(n,["activityEnd"]);return g!=null&&f(e,["activityEnd"],g),e}function tA(n){const e={},i=c(n,["setupComplete"]);i!=null&&f(e,["setupComplete"],i);const s=c(n,["serverContent"]);s!=null&&f(e,["serverContent"],s);const r=c(n,["toolCall"]);r!=null&&f(e,["toolCall"],r);const a=c(n,["toolCallCancellation"]);a!=null&&f(e,["toolCallCancellation"],a);const d=c(n,["usageMetadata"]);d!=null&&f(e,["usageMetadata"],lA(d));const h=c(n,["goAway"]);h!=null&&f(e,["goAway"],h);const g=c(n,["sessionResumptionUpdate"]);g!=null&&f(e,["sessionResumptionUpdate"],g);const m=c(n,["voiceActivityDetectionSignal"]);m!=null&&f(e,["voiceActivityDetectionSignal"],m);const y=c(n,["voiceActivity"]);return y!=null&&f(e,["voiceActivity"],rA(y)),e}function nA(n){const e={},i=c(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const r=c(n,["executableCode"]);r!=null&&f(e,["executableCode"],r);const a=c(n,["fileData"]);a!=null&&f(e,["fileData"],qb(a));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],Bb(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=c(n,["inlineData"]);g!=null&&f(e,["inlineData"],Tr(g));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const y=c(n,["thought"]);y!=null&&f(e,["thought"],y);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function iA(n){const e={},i=c(n,["handle"]);if(i!=null&&f(e,["handle"],i),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function oA(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const r=c(n,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(n,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(_=>_)),f(e,["functionDeclarations"],y)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],Jb(d));const h=c(n,["googleSearch"]);h!=null&&f(e,["googleSearch"],Yb(h));const g=c(n,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function sA(n){const e={},i=c(n,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=c(n,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=c(n,["codeExecution"]);r!=null&&f(e,["codeExecution"],r);const a=c(n,["enterpriseWebSearch"]);a!=null&&f(e,["enterpriseWebSearch"],a);const d=c(n,["functionDeclarations"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>Vb(S))),f(e,["functionDeclarations"],_)}const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],h);const g=c(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const m=c(n,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const y=c(n,["urlContext"]);return y!=null&&f(e,["urlContext"],y),e}function lA(n){const e={},i=c(n,["promptTokenCount"]);i!=null&&f(e,["promptTokenCount"],i);const s=c(n,["cachedContentTokenCount"]);s!=null&&f(e,["cachedContentTokenCount"],s);const r=c(n,["candidatesTokenCount"]);r!=null&&f(e,["responseTokenCount"],r);const a=c(n,["toolUsePromptTokenCount"]);a!=null&&f(e,["toolUsePromptTokenCount"],a);const d=c(n,["thoughtsTokenCount"]);d!=null&&f(e,["thoughtsTokenCount"],d);const h=c(n,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const g=c(n,["promptTokensDetails"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(w=>w)),f(e,["promptTokensDetails"],b)}const m=c(n,["cacheTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(w=>w)),f(e,["cacheTokensDetails"],b)}const y=c(n,["candidatesTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(w=>w)),f(e,["responseTokensDetails"],b)}const _=c(n,["toolUsePromptTokensDetails"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(w=>w)),f(e,["toolUsePromptTokensDetails"],b)}const S=c(n,["trafficType"]);return S!=null&&f(e,["trafficType"],S),e}function rA(n){const e={},i=c(n,["type"]);return i!=null&&f(e,["voiceActivityType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aA(n,e){const i={},s=c(n,["data"]);if(s!=null&&f(i,["data"],s),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(n,["mimeType"]);return r!=null&&f(i,["mimeType"],r),i}function uA(n,e){const i={},s=c(n,["content"]);s!=null&&f(i,["content"],s);const r=c(n,["citationMetadata"]);r!=null&&f(i,["citationMetadata"],cA(r));const a=c(n,["tokenCount"]);a!=null&&f(i,["tokenCount"],a);const d=c(n,["finishReason"]);d!=null&&f(i,["finishReason"],d);const h=c(n,["avgLogprobs"]);h!=null&&f(i,["avgLogprobs"],h);const g=c(n,["groundingMetadata"]);g!=null&&f(i,["groundingMetadata"],g);const m=c(n,["index"]);m!=null&&f(i,["index"],m);const y=c(n,["logprobsResult"]);y!=null&&f(i,["logprobsResult"],y);const _=c(n,["safetyRatings"]);if(_!=null){let b=_;Array.isArray(b)&&(b=b.map(w=>w)),f(i,["safetyRatings"],b)}const S=c(n,["urlContextMetadata"]);return S!=null&&f(i,["urlContextMetadata"],S),i}function cA(n,e){const i={},s=c(n,["citationSources"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(a=>a)),f(i,["citations"],r)}return i}function dA(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["contents"]);if(a!=null){let d=Jt(a);Array.isArray(d)&&(d=d.map(h=>h)),f(s,["contents"],d)}return s}function fA(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["tokensInfo"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(d=>d)),f(i,["tokensInfo"],a)}return i}function hA(n,e){const i={},s=c(n,["values"]);s!=null&&f(i,["values"],s);const r=c(n,["statistics"]);return r!=null&&f(i,["statistics"],pA(r)),i}function pA(n,e){const i={},s=c(n,["truncated"]);s!=null&&f(i,["truncated"],s);const r=c(n,["token_count"]);return r!=null&&f(i,["tokenCount"],r),i}function Mr(n,e){const i={},s=c(n,["parts"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(d=>xw(d))),f(i,["parts"],a)}const r=c(n,["role"]);return r!=null&&f(i,["role"],r),i}function mA(n,e){const i={},s=c(n,["controlType"]);s!=null&&f(i,["controlType"],s);const r=c(n,["enableControlImageComputation"]);return r!=null&&f(i,["computeControl"],r),i}function gA(n,e){const i={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return i}function vA(n,e,i){const s={},r=c(n,["systemInstruction"]);e!==void 0&&r!=null&&f(e,["systemInstruction"],ct(r));const a=c(n,["tools"]);if(e!==void 0&&a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>sv(g))),f(e,["tools"],h)}const d=c(n,["generationConfig"]);return e!==void 0&&d!=null&&f(e,["generationConfig"],aw(d)),s}function yA(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["contents"]);if(a!=null){let h=Jt(a);Array.isArray(h)&&(h=h.map(g=>Mr(g))),f(s,["contents"],h)}const d=c(e,["config"]);return d!=null&&gA(d),s}function _A(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["contents"]);if(a!=null){let h=Jt(a);Array.isArray(h)&&(h=h.map(g=>g)),f(s,["contents"],h)}const d=c(e,["config"]);return d!=null&&vA(d,s),s}function SA(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["totalTokens"]);r!=null&&f(i,["totalTokens"],r);const a=c(n,["cachedContentTokenCount"]);return a!=null&&f(i,["cachedContentTokenCount"],a),i}function TA(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["totalTokens"]);return r!=null&&f(i,["totalTokens"],r),i}function EA(n,e,i){const s={},r=c(e,["model"]);return r!=null&&f(s,["_url","name"],xe(n,r)),s}function xA(n,e,i){const s={},r=c(e,["model"]);return r!=null&&f(s,["_url","name"],xe(n,r)),s}function bA(n,e){const i={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function AA(n,e){const i={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function wA(n,e,i){const s={},r=c(n,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const a=c(n,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const d=c(n,["numberOfImages"]);e!==void 0&&d!=null&&f(e,["parameters","sampleCount"],d);const h=c(n,["aspectRatio"]);e!==void 0&&h!=null&&f(e,["parameters","aspectRatio"],h);const g=c(n,["guidanceScale"]);e!==void 0&&g!=null&&f(e,["parameters","guidanceScale"],g);const m=c(n,["seed"]);e!==void 0&&m!=null&&f(e,["parameters","seed"],m);const y=c(n,["safetyFilterLevel"]);e!==void 0&&y!=null&&f(e,["parameters","safetySetting"],y);const _=c(n,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const S=c(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&f(e,["parameters","includeSafetyAttributes"],S);const b=c(n,["includeRaiReason"]);e!==void 0&&b!=null&&f(e,["parameters","includeRaiReason"],b);const w=c(n,["language"]);e!==void 0&&w!=null&&f(e,["parameters","language"],w);const I=c(n,["outputMimeType"]);e!==void 0&&I!=null&&f(e,["parameters","outputOptions","mimeType"],I);const A=c(n,["outputCompressionQuality"]);e!==void 0&&A!=null&&f(e,["parameters","outputOptions","compressionQuality"],A);const L=c(n,["addWatermark"]);e!==void 0&&L!=null&&f(e,["parameters","addWatermark"],L);const J=c(n,["labels"]);e!==void 0&&J!=null&&f(e,["labels"],J);const V=c(n,["editMode"]);e!==void 0&&V!=null&&f(e,["parameters","editMode"],V);const H=c(n,["baseSteps"]);return e!==void 0&&H!=null&&f(e,["parameters","editConfig","baseSteps"],H),s}function CA(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["prompt"]);a!=null&&f(s,["instances[0]","prompt"],a);const d=c(e,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(m=>Nw(m))),f(s,["instances[0]","referenceImages"],g)}const h=c(e,["config"]);return h!=null&&wA(h,s),s}function RA(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(d=>Ir(d))),f(i,["generatedImages"],a)}return i}function NA(n,e,i){const s={},r=c(n,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);const a=c(n,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const d=c(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&f(e,["requests[]","outputDimensionality"],d),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function MA(n,e,i){const s={},r=c(n,["taskType"]);e!==void 0&&r!=null&&f(e,["instances[]","task_type"],r);const a=c(n,["title"]);e!==void 0&&a!=null&&f(e,["instances[]","title"],a);const d=c(n,["outputDimensionality"]);e!==void 0&&d!=null&&f(e,["parameters","outputDimensionality"],d);const h=c(n,["mimeType"]);e!==void 0&&h!=null&&f(e,["instances[]","mimeType"],h);const g=c(n,["autoTruncate"]);return e!==void 0&&g!=null&&f(e,["parameters","autoTruncate"],g),s}function IA(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["contents"]);if(a!=null){let g=Kc(n,a);Array.isArray(g)&&(g=g.map(m=>m)),f(s,["requests[]","content"],g)}const d=c(e,["config"]);d!=null&&NA(d,s);const h=c(e,["model"]);return h!==void 0&&f(s,["requests[]","model"],xe(n,h)),s}function kA(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["contents"]);if(a!=null){let h=Kc(n,a);Array.isArray(h)&&(h=h.map(g=>g)),f(s,["instances[]","content"],h)}const d=c(e,["config"]);return d!=null&&MA(d,s),s}function DA(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["embeddings"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),f(i,["embeddings"],d)}const a=c(n,["metadata"]);return a!=null&&f(i,["metadata"],a),i}function UA(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["predictions[]","embeddings"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>hA(h))),f(i,["embeddings"],d)}const a=c(n,["metadata"]);return a!=null&&f(i,["metadata"],a),i}function LA(n,e){const i={},s=c(n,["endpoint"]);s!=null&&f(i,["name"],s);const r=c(n,["deployedModelId"]);return r!=null&&f(i,["deployedModelId"],r),i}function PA(n,e){const i={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["fileUri"]);s!=null&&f(i,["fileUri"],s);const r=c(n,["mimeType"]);return r!=null&&f(i,["mimeType"],r),i}function OA(n,e){const i={},s=c(n,["id"]);s!=null&&f(i,["id"],s);const r=c(n,["args"]);r!=null&&f(i,["args"],r);const a=c(n,["name"]);if(a!=null&&f(i,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return i}function GA(n,e){const i={},s=c(n,["allowedFunctionNames"]);s!=null&&f(i,["allowedFunctionNames"],s);const r=c(n,["mode"]);if(r!=null&&f(i,["mode"],r),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return i}function zA(n,e){const i={},s=c(n,["description"]);s!=null&&f(i,["description"],s);const r=c(n,["name"]);r!=null&&f(i,["name"],r);const a=c(n,["parameters"]);a!=null&&f(i,["parameters"],a);const d=c(n,["parametersJsonSchema"]);d!=null&&f(i,["parametersJsonSchema"],d);const h=c(n,["response"]);h!=null&&f(i,["response"],h);const g=c(n,["responseJsonSchema"]);if(g!=null&&f(i,["responseJsonSchema"],g),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return i}function HA(n,e,i,s){const r={},a=c(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],Mr(ct(a)));const d=c(e,["temperature"]);d!=null&&f(r,["temperature"],d);const h=c(e,["topP"]);h!=null&&f(r,["topP"],h);const g=c(e,["topK"]);g!=null&&f(r,["topK"],g);const m=c(e,["candidateCount"]);m!=null&&f(r,["candidateCount"],m);const y=c(e,["maxOutputTokens"]);y!=null&&f(r,["maxOutputTokens"],y);const _=c(e,["stopSequences"]);_!=null&&f(r,["stopSequences"],_);const S=c(e,["responseLogprobs"]);S!=null&&f(r,["responseLogprobs"],S);const b=c(e,["logprobs"]);b!=null&&f(r,["logprobs"],b);const w=c(e,["presencePenalty"]);w!=null&&f(r,["presencePenalty"],w);const I=c(e,["frequencyPenalty"]);I!=null&&f(r,["frequencyPenalty"],I);const A=c(e,["seed"]);A!=null&&f(r,["seed"],A);const L=c(e,["responseMimeType"]);L!=null&&f(r,["responseMimeType"],L);const J=c(e,["responseSchema"]);J!=null&&f(r,["responseSchema"],Xc(J));const V=c(e,["responseJsonSchema"]);if(V!=null&&f(r,["responseJsonSchema"],V),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=c(e,["safetySettings"]);if(i!==void 0&&H!=null){let Le=H;Array.isArray(Le)&&(Le=Le.map(Qe=>Mw(Qe))),f(i,["safetySettings"],Le)}const O=c(e,["tools"]);if(i!==void 0&&O!=null){let Le=Do(O);Array.isArray(Le)&&(Le=Le.map(Qe=>Ow(ko(Qe)))),f(i,["tools"],Le)}const ee=c(e,["toolConfig"]);if(i!==void 0&&ee!=null&&f(i,["toolConfig"],Pw(ee)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=c(e,["cachedContent"]);i!==void 0&&Y!=null&&f(i,["cachedContent"],wn(n,Y));const ue=c(e,["responseModalities"]);ue!=null&&f(r,["responseModalities"],ue);const Q=c(e,["mediaResolution"]);Q!=null&&f(r,["mediaResolution"],Q);const de=c(e,["speechConfig"]);if(de!=null&&f(r,["speechConfig"],Qc(de)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const be=c(e,["thinkingConfig"]);be!=null&&f(r,["thinkingConfig"],be);const Ne=c(e,["imageConfig"]);Ne!=null&&f(r,["imageConfig"],hw(Ne));const He=c(e,["enableEnhancedCivicAnswers"]);if(He!=null&&f(r,["enableEnhancedCivicAnswers"],He),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function qA(n,e,i,s){const r={},a=c(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],ct(a));const d=c(e,["temperature"]);d!=null&&f(r,["temperature"],d);const h=c(e,["topP"]);h!=null&&f(r,["topP"],h);const g=c(e,["topK"]);g!=null&&f(r,["topK"],g);const m=c(e,["candidateCount"]);m!=null&&f(r,["candidateCount"],m);const y=c(e,["maxOutputTokens"]);y!=null&&f(r,["maxOutputTokens"],y);const _=c(e,["stopSequences"]);_!=null&&f(r,["stopSequences"],_);const S=c(e,["responseLogprobs"]);S!=null&&f(r,["responseLogprobs"],S);const b=c(e,["logprobs"]);b!=null&&f(r,["logprobs"],b);const w=c(e,["presencePenalty"]);w!=null&&f(r,["presencePenalty"],w);const I=c(e,["frequencyPenalty"]);I!=null&&f(r,["frequencyPenalty"],I);const A=c(e,["seed"]);A!=null&&f(r,["seed"],A);const L=c(e,["responseMimeType"]);L!=null&&f(r,["responseMimeType"],L);const J=c(e,["responseSchema"]);J!=null&&f(r,["responseSchema"],Xc(J));const V=c(e,["responseJsonSchema"]);V!=null&&f(r,["responseJsonSchema"],V);const H=c(e,["routingConfig"]);H!=null&&f(r,["routingConfig"],H);const O=c(e,["modelSelectionConfig"]);O!=null&&f(r,["modelConfig"],O);const ee=c(e,["safetySettings"]);if(i!==void 0&&ee!=null){let te=ee;Array.isArray(te)&&(te=te.map(Se=>Se)),f(i,["safetySettings"],te)}const Y=c(e,["tools"]);if(i!==void 0&&Y!=null){let te=Do(Y);Array.isArray(te)&&(te=te.map(Se=>sv(ko(Se)))),f(i,["tools"],te)}const ue=c(e,["toolConfig"]);i!==void 0&&ue!=null&&f(i,["toolConfig"],ue);const Q=c(e,["labels"]);i!==void 0&&Q!=null&&f(i,["labels"],Q);const de=c(e,["cachedContent"]);i!==void 0&&de!=null&&f(i,["cachedContent"],wn(n,de));const be=c(e,["responseModalities"]);be!=null&&f(r,["responseModalities"],be);const Ne=c(e,["mediaResolution"]);Ne!=null&&f(r,["mediaResolution"],Ne);const He=c(e,["speechConfig"]);He!=null&&f(r,["speechConfig"],Qc(He));const Le=c(e,["audioTimestamp"]);Le!=null&&f(r,["audioTimestamp"],Le);const Qe=c(e,["thinkingConfig"]);Qe!=null&&f(r,["thinkingConfig"],Qe);const z=c(e,["imageConfig"]);if(z!=null&&f(r,["imageConfig"],pw(z)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const $=c(e,["modelArmorConfig"]);return i!==void 0&&$!=null&&f(i,["modelArmorConfig"],$),r}function t0(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["contents"]);if(a!=null){let h=Jt(a);Array.isArray(h)&&(h=h.map(g=>Mr(g))),f(s,["contents"],h)}const d=c(e,["config"]);return d!=null&&f(s,["generationConfig"],HA(n,d,s)),s}function n0(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["contents"]);if(a!=null){let h=Jt(a);Array.isArray(h)&&(h=h.map(g=>g)),f(s,["contents"],h)}const d=c(e,["config"]);return d!=null&&f(s,["generationConfig"],qA(n,d,s)),s}function i0(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["candidates"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(y=>uA(y))),f(i,["candidates"],m)}const a=c(n,["modelVersion"]);a!=null&&f(i,["modelVersion"],a);const d=c(n,["promptFeedback"]);d!=null&&f(i,["promptFeedback"],d);const h=c(n,["responseId"]);h!=null&&f(i,["responseId"],h);const g=c(n,["usageMetadata"]);return g!=null&&f(i,["usageMetadata"],g),i}function o0(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(_=>_)),f(i,["candidates"],y)}const a=c(n,["createTime"]);a!=null&&f(i,["createTime"],a);const d=c(n,["modelVersion"]);d!=null&&f(i,["modelVersion"],d);const h=c(n,["promptFeedback"]);h!=null&&f(i,["promptFeedback"],h);const g=c(n,["responseId"]);g!=null&&f(i,["responseId"],g);const m=c(n,["usageMetadata"]);return m!=null&&f(i,["usageMetadata"],m),i}function BA(n,e,i){const s={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=c(n,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const a=c(n,["aspectRatio"]);e!==void 0&&a!=null&&f(e,["parameters","aspectRatio"],a);const d=c(n,["guidanceScale"]);if(e!==void 0&&d!=null&&f(e,["parameters","guidanceScale"],d),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=c(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const g=c(n,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const m=c(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&f(e,["parameters","includeSafetyAttributes"],m);const y=c(n,["includeRaiReason"]);e!==void 0&&y!=null&&f(e,["parameters","includeRaiReason"],y);const _=c(n,["language"]);e!==void 0&&_!=null&&f(e,["parameters","language"],_);const S=c(n,["outputMimeType"]);e!==void 0&&S!=null&&f(e,["parameters","outputOptions","mimeType"],S);const b=c(n,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&f(e,["parameters","outputOptions","compressionQuality"],b),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=c(n,["imageSize"]);if(e!==void 0&&w!=null&&f(e,["parameters","sampleImageSize"],w),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function VA(n,e,i){const s={},r=c(n,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const a=c(n,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const d=c(n,["numberOfImages"]);e!==void 0&&d!=null&&f(e,["parameters","sampleCount"],d);const h=c(n,["aspectRatio"]);e!==void 0&&h!=null&&f(e,["parameters","aspectRatio"],h);const g=c(n,["guidanceScale"]);e!==void 0&&g!=null&&f(e,["parameters","guidanceScale"],g);const m=c(n,["seed"]);e!==void 0&&m!=null&&f(e,["parameters","seed"],m);const y=c(n,["safetyFilterLevel"]);e!==void 0&&y!=null&&f(e,["parameters","safetySetting"],y);const _=c(n,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const S=c(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&f(e,["parameters","includeSafetyAttributes"],S);const b=c(n,["includeRaiReason"]);e!==void 0&&b!=null&&f(e,["parameters","includeRaiReason"],b);const w=c(n,["language"]);e!==void 0&&w!=null&&f(e,["parameters","language"],w);const I=c(n,["outputMimeType"]);e!==void 0&&I!=null&&f(e,["parameters","outputOptions","mimeType"],I);const A=c(n,["outputCompressionQuality"]);e!==void 0&&A!=null&&f(e,["parameters","outputOptions","compressionQuality"],A);const L=c(n,["addWatermark"]);e!==void 0&&L!=null&&f(e,["parameters","addWatermark"],L);const J=c(n,["labels"]);e!==void 0&&J!=null&&f(e,["labels"],J);const V=c(n,["imageSize"]);e!==void 0&&V!=null&&f(e,["parameters","sampleImageSize"],V);const H=c(n,["enhancePrompt"]);return e!==void 0&&H!=null&&f(e,["parameters","enhancePrompt"],H),s}function FA(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["prompt"]);a!=null&&f(s,["instances[0]","prompt"],a);const d=c(e,["config"]);return d!=null&&BA(d,s),s}function JA(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["prompt"]);a!=null&&f(s,["instances[0]","prompt"],a);const d=c(e,["config"]);return d!=null&&VA(d,s),s}function YA(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["predictions"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>ow(h))),f(i,["generatedImages"],d)}const a=c(n,["positivePromptSafetyAttributes"]);return a!=null&&f(i,["positivePromptSafetyAttributes"],iv(a)),i}function $A(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["predictions"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>Ir(h))),f(i,["generatedImages"],d)}const a=c(n,["positivePromptSafetyAttributes"]);return a!=null&&f(i,["positivePromptSafetyAttributes"],ov(a)),i}function jA(n,e,i){const s={},r=c(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=c(n,["durationSeconds"]);if(e!==void 0&&a!=null&&f(e,["parameters","durationSeconds"],a),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const h=c(n,["resolution"]);e!==void 0&&h!=null&&f(e,["parameters","resolution"],h);const g=c(n,["personGeneration"]);if(e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=c(n,["negativePrompt"]);e!==void 0&&m!=null&&f(e,["parameters","negativePrompt"],m);const y=c(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&f(e,["parameters","enhancePrompt"],y),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=c(n,["lastFrame"]);e!==void 0&&_!=null&&f(e,["instances[0]","lastFrame"],kr(_));const S=c(n,["referenceImages"]);if(e!==void 0&&S!=null){let b=S;Array.isArray(b)&&(b=b.map(w=>Xw(w))),f(e,["instances[0]","referenceImages"],b)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function KA(n,e,i){const s={},r=c(n,["numberOfVideos"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const a=c(n,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const d=c(n,["fps"]);e!==void 0&&d!=null&&f(e,["parameters","fps"],d);const h=c(n,["durationSeconds"]);e!==void 0&&h!=null&&f(e,["parameters","durationSeconds"],h);const g=c(n,["seed"]);e!==void 0&&g!=null&&f(e,["parameters","seed"],g);const m=c(n,["aspectRatio"]);e!==void 0&&m!=null&&f(e,["parameters","aspectRatio"],m);const y=c(n,["resolution"]);e!==void 0&&y!=null&&f(e,["parameters","resolution"],y);const _=c(n,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const S=c(n,["pubsubTopic"]);e!==void 0&&S!=null&&f(e,["parameters","pubsubTopic"],S);const b=c(n,["negativePrompt"]);e!==void 0&&b!=null&&f(e,["parameters","negativePrompt"],b);const w=c(n,["enhancePrompt"]);e!==void 0&&w!=null&&f(e,["parameters","enhancePrompt"],w);const I=c(n,["generateAudio"]);e!==void 0&&I!=null&&f(e,["parameters","generateAudio"],I);const A=c(n,["lastFrame"]);e!==void 0&&A!=null&&f(e,["instances[0]","lastFrame"],en(A));const L=c(n,["referenceImages"]);if(e!==void 0&&L!=null){let H=L;Array.isArray(H)&&(H=H.map(O=>Qw(O))),f(e,["instances[0]","referenceImages"],H)}const J=c(n,["mask"]);e!==void 0&&J!=null&&f(e,["instances[0]","mask"],Kw(J));const V=c(n,["compressionQuality"]);return e!==void 0&&V!=null&&f(e,["parameters","compressionQuality"],V),s}function XA(n,e){const i={},s=c(n,["name"]);s!=null&&f(i,["name"],s);const r=c(n,["metadata"]);r!=null&&f(i,["metadata"],r);const a=c(n,["done"]);a!=null&&f(i,["done"],a);const d=c(n,["error"]);d!=null&&f(i,["error"],d);const h=c(n,["response","generateVideoResponse"]);return h!=null&&f(i,["response"],ew(h)),i}function QA(n,e){const i={},s=c(n,["name"]);s!=null&&f(i,["name"],s);const r=c(n,["metadata"]);r!=null&&f(i,["metadata"],r);const a=c(n,["done"]);a!=null&&f(i,["done"],a);const d=c(n,["error"]);d!=null&&f(i,["error"],d);const h=c(n,["response"]);return h!=null&&f(i,["response"],tw(h)),i}function ZA(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["prompt"]);a!=null&&f(s,["instances[0]","prompt"],a);const d=c(e,["image"]);d!=null&&f(s,["instances[0]","image"],kr(d));const h=c(e,["video"]);h!=null&&f(s,["instances[0]","video"],lv(h));const g=c(e,["source"]);g!=null&&nw(g,s);const m=c(e,["config"]);return m!=null&&jA(m,s),s}function WA(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["prompt"]);a!=null&&f(s,["instances[0]","prompt"],a);const d=c(e,["image"]);d!=null&&f(s,["instances[0]","image"],en(d));const h=c(e,["video"]);h!=null&&f(s,["instances[0]","video"],rv(h));const g=c(e,["source"]);g!=null&&iw(g,s);const m=c(e,["config"]);return m!=null&&KA(m,s),s}function ew(n,e){const i={},s=c(n,["generatedSamples"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>lw(h))),f(i,["generatedVideos"],d)}const r=c(n,["raiMediaFilteredCount"]);r!=null&&f(i,["raiMediaFilteredCount"],r);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&f(i,["raiMediaFilteredReasons"],a),i}function tw(n,e){const i={},s=c(n,["videos"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>rw(h))),f(i,["generatedVideos"],d)}const r=c(n,["raiMediaFilteredCount"]);r!=null&&f(i,["raiMediaFilteredCount"],r);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&f(i,["raiMediaFilteredReasons"],a),i}function nw(n,e,i){const s={},r=c(n,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const a=c(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],kr(a));const d=c(n,["video"]);return e!==void 0&&d!=null&&f(e,["instances[0]","video"],lv(d)),s}function iw(n,e,i){const s={},r=c(n,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const a=c(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],en(a));const d=c(n,["video"]);return e!==void 0&&d!=null&&f(e,["instances[0]","video"],rv(d)),s}function ow(n,e){const i={},s=c(n,["_self"]);s!=null&&f(i,["image"],mw(s));const r=c(n,["raiFilteredReason"]);r!=null&&f(i,["raiFilteredReason"],r);const a=c(n,["_self"]);return a!=null&&f(i,["safetyAttributes"],iv(a)),i}function Ir(n,e){const i={},s=c(n,["_self"]);s!=null&&f(i,["image"],nv(s));const r=c(n,["raiFilteredReason"]);r!=null&&f(i,["raiFilteredReason"],r);const a=c(n,["_self"]);a!=null&&f(i,["safetyAttributes"],ov(a));const d=c(n,["prompt"]);return d!=null&&f(i,["enhancedPrompt"],d),i}function sw(n,e){const i={},s=c(n,["_self"]);s!=null&&f(i,["mask"],nv(s));const r=c(n,["labels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(d=>d)),f(i,["labels"],a)}return i}function lw(n,e){const i={},s=c(n,["video"]);return s!=null&&f(i,["video"],$w(s)),i}function rw(n,e){const i={},s=c(n,["_self"]);return s!=null&&f(i,["video"],jw(s)),i}function aw(n,e){const i={},s=c(n,["modelSelectionConfig"]);s!=null&&f(i,["modelConfig"],s);const r=c(n,["responseJsonSchema"]);r!=null&&f(i,["responseJsonSchema"],r);const a=c(n,["audioTimestamp"]);a!=null&&f(i,["audioTimestamp"],a);const d=c(n,["candidateCount"]);d!=null&&f(i,["candidateCount"],d);const h=c(n,["enableAffectiveDialog"]);h!=null&&f(i,["enableAffectiveDialog"],h);const g=c(n,["frequencyPenalty"]);g!=null&&f(i,["frequencyPenalty"],g);const m=c(n,["logprobs"]);m!=null&&f(i,["logprobs"],m);const y=c(n,["maxOutputTokens"]);y!=null&&f(i,["maxOutputTokens"],y);const _=c(n,["mediaResolution"]);_!=null&&f(i,["mediaResolution"],_);const S=c(n,["presencePenalty"]);S!=null&&f(i,["presencePenalty"],S);const b=c(n,["responseLogprobs"]);b!=null&&f(i,["responseLogprobs"],b);const w=c(n,["responseMimeType"]);w!=null&&f(i,["responseMimeType"],w);const I=c(n,["responseModalities"]);I!=null&&f(i,["responseModalities"],I);const A=c(n,["responseSchema"]);A!=null&&f(i,["responseSchema"],A);const L=c(n,["routingConfig"]);L!=null&&f(i,["routingConfig"],L);const J=c(n,["seed"]);J!=null&&f(i,["seed"],J);const V=c(n,["speechConfig"]);V!=null&&f(i,["speechConfig"],V);const H=c(n,["stopSequences"]);H!=null&&f(i,["stopSequences"],H);const O=c(n,["temperature"]);O!=null&&f(i,["temperature"],O);const ee=c(n,["thinkingConfig"]);ee!=null&&f(i,["thinkingConfig"],ee);const Y=c(n,["topK"]);Y!=null&&f(i,["topK"],Y);const ue=c(n,["topP"]);if(ue!=null&&f(i,["topP"],ue),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function uw(n,e,i){const s={},r=c(e,["model"]);return r!=null&&f(s,["_url","name"],xe(n,r)),s}function cw(n,e,i){const s={},r=c(e,["model"]);return r!=null&&f(s,["_url","name"],xe(n,r)),s}function dw(n,e){const i={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(n,["enableWidget"]);return s!=null&&f(i,["enableWidget"],s),i}function fw(n,e){const i={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=c(n,["timeRangeFilter"]);return s!=null&&f(i,["timeRangeFilter"],s),i}function hw(n,e){const i={},s=c(n,["aspectRatio"]);s!=null&&f(i,["aspectRatio"],s);const r=c(n,["imageSize"]);if(r!=null&&f(i,["imageSize"],r),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return i}function pw(n,e){const i={},s=c(n,["aspectRatio"]);s!=null&&f(i,["aspectRatio"],s);const r=c(n,["imageSize"]);r!=null&&f(i,["imageSize"],r);const a=c(n,["personGeneration"]);a!=null&&f(i,["personGeneration"],a);const d=c(n,["outputMimeType"]);d!=null&&f(i,["imageOutputOptions","mimeType"],d);const h=c(n,["outputCompressionQuality"]);return h!=null&&f(i,["imageOutputOptions","compressionQuality"],h),i}function mw(n,e){const i={},s=c(n,["bytesBase64Encoded"]);s!=null&&f(i,["imageBytes"],ii(s));const r=c(n,["mimeType"]);return r!=null&&f(i,["mimeType"],r),i}function nv(n,e){const i={},s=c(n,["gcsUri"]);s!=null&&f(i,["gcsUri"],s);const r=c(n,["bytesBase64Encoded"]);r!=null&&f(i,["imageBytes"],ii(r));const a=c(n,["mimeType"]);return a!=null&&f(i,["mimeType"],a),i}function kr(n,e){const i={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=c(n,["imageBytes"]);s!=null&&f(i,["bytesBase64Encoded"],ii(s));const r=c(n,["mimeType"]);return r!=null&&f(i,["mimeType"],r),i}function en(n,e){const i={},s=c(n,["gcsUri"]);s!=null&&f(i,["gcsUri"],s);const r=c(n,["imageBytes"]);r!=null&&f(i,["bytesBase64Encoded"],ii(r));const a=c(n,["mimeType"]);return a!=null&&f(i,["mimeType"],a),i}function gw(n,e,i,s){const r={},a=c(e,["pageSize"]);i!==void 0&&a!=null&&f(i,["_query","pageSize"],a);const d=c(e,["pageToken"]);i!==void 0&&d!=null&&f(i,["_query","pageToken"],d);const h=c(e,["filter"]);i!==void 0&&h!=null&&f(i,["_query","filter"],h);const g=c(e,["queryBase"]);return i!==void 0&&g!=null&&f(i,["_url","models_url"],K0(n,g)),r}function vw(n,e,i,s){const r={},a=c(e,["pageSize"]);i!==void 0&&a!=null&&f(i,["_query","pageSize"],a);const d=c(e,["pageToken"]);i!==void 0&&d!=null&&f(i,["_query","pageToken"],d);const h=c(e,["filter"]);i!==void 0&&h!=null&&f(i,["_query","filter"],h);const g=c(e,["queryBase"]);return i!==void 0&&g!=null&&f(i,["_url","models_url"],K0(n,g)),r}function yw(n,e,i){const s={},r=c(e,["config"]);return r!=null&&gw(n,r,s),s}function _w(n,e,i){const s={},r=c(e,["config"]);return r!=null&&vw(n,r,s),s}function Sw(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["nextPageToken"]);r!=null&&f(i,["nextPageToken"],r);const a=c(n,["_self"]);if(a!=null){let d=X0(a);Array.isArray(d)&&(d=d.map(h=>Nc(h))),f(i,["models"],d)}return i}function Tw(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["nextPageToken"]);r!=null&&f(i,["nextPageToken"],r);const a=c(n,["_self"]);if(a!=null){let d=X0(a);Array.isArray(d)&&(d=d.map(h=>Mc(h))),f(i,["models"],d)}return i}function Ew(n,e){const i={},s=c(n,["maskMode"]);s!=null&&f(i,["maskMode"],s);const r=c(n,["segmentationClasses"]);r!=null&&f(i,["maskClasses"],r);const a=c(n,["maskDilation"]);return a!=null&&f(i,["dilation"],a),i}function Nc(n,e){const i={},s=c(n,["name"]);s!=null&&f(i,["name"],s);const r=c(n,["displayName"]);r!=null&&f(i,["displayName"],r);const a=c(n,["description"]);a!=null&&f(i,["description"],a);const d=c(n,["version"]);d!=null&&f(i,["version"],d);const h=c(n,["_self"]);h!=null&&f(i,["tunedModelInfo"],Gw(h));const g=c(n,["inputTokenLimit"]);g!=null&&f(i,["inputTokenLimit"],g);const m=c(n,["outputTokenLimit"]);m!=null&&f(i,["outputTokenLimit"],m);const y=c(n,["supportedGenerationMethods"]);y!=null&&f(i,["supportedActions"],y);const _=c(n,["temperature"]);_!=null&&f(i,["temperature"],_);const S=c(n,["maxTemperature"]);S!=null&&f(i,["maxTemperature"],S);const b=c(n,["topP"]);b!=null&&f(i,["topP"],b);const w=c(n,["topK"]);w!=null&&f(i,["topK"],w);const I=c(n,["thinking"]);return I!=null&&f(i,["thinking"],I),i}function Mc(n,e){const i={},s=c(n,["name"]);s!=null&&f(i,["name"],s);const r=c(n,["displayName"]);r!=null&&f(i,["displayName"],r);const a=c(n,["description"]);a!=null&&f(i,["description"],a);const d=c(n,["versionId"]);d!=null&&f(i,["version"],d);const h=c(n,["deployedModels"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(b=>LA(b))),f(i,["endpoints"],S)}const g=c(n,["labels"]);g!=null&&f(i,["labels"],g);const m=c(n,["_self"]);m!=null&&f(i,["tunedModelInfo"],zw(m));const y=c(n,["defaultCheckpointId"]);y!=null&&f(i,["defaultCheckpointId"],y);const _=c(n,["checkpoints"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(b=>b)),f(i,["checkpoints"],S)}return i}function xw(n,e){const i={},s=c(n,["mediaResolution"]);s!=null&&f(i,["mediaResolution"],s);const r=c(n,["codeExecutionResult"]);r!=null&&f(i,["codeExecutionResult"],r);const a=c(n,["executableCode"]);a!=null&&f(i,["executableCode"],a);const d=c(n,["fileData"]);d!=null&&f(i,["fileData"],PA(d));const h=c(n,["functionCall"]);h!=null&&f(i,["functionCall"],OA(h));const g=c(n,["functionResponse"]);g!=null&&f(i,["functionResponse"],g);const m=c(n,["inlineData"]);m!=null&&f(i,["inlineData"],aA(m));const y=c(n,["text"]);y!=null&&f(i,["text"],y);const _=c(n,["thought"]);_!=null&&f(i,["thought"],_);const S=c(n,["thoughtSignature"]);S!=null&&f(i,["thoughtSignature"],S);const b=c(n,["videoMetadata"]);return b!=null&&f(i,["videoMetadata"],b),i}function bw(n,e){const i={},s=c(n,["productImage"]);return s!=null&&f(i,["image"],en(s)),i}function Aw(n,e,i){const s={},r=c(n,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const a=c(n,["baseSteps"]);e!==void 0&&a!=null&&f(e,["parameters","baseSteps"],a);const d=c(n,["outputGcsUri"]);e!==void 0&&d!=null&&f(e,["parameters","storageUri"],d);const h=c(n,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const g=c(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const m=c(n,["personGeneration"]);e!==void 0&&m!=null&&f(e,["parameters","personGeneration"],m);const y=c(n,["addWatermark"]);e!==void 0&&y!=null&&f(e,["parameters","addWatermark"],y);const _=c(n,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const S=c(n,["outputCompressionQuality"]);e!==void 0&&S!=null&&f(e,["parameters","outputOptions","compressionQuality"],S);const b=c(n,["enhancePrompt"]);e!==void 0&&b!=null&&f(e,["parameters","enhancePrompt"],b);const w=c(n,["labels"]);return e!==void 0&&w!=null&&f(e,["labels"],w),s}function ww(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["source"]);a!=null&&Rw(a,s);const d=c(e,["config"]);return d!=null&&Aw(d,s),s}function Cw(n,e){const i={},s=c(n,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(a=>Ir(a))),f(i,["generatedImages"],r)}return i}function Rw(n,e,i){const s={},r=c(n,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const a=c(n,["personImage"]);e!==void 0&&a!=null&&f(e,["instances[0]","personImage","image"],en(a));const d=c(n,["productImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>bw(g))),f(e,["instances[0]","productImages"],h)}return s}function Nw(n,e){const i={},s=c(n,["referenceImage"]);s!=null&&f(i,["referenceImage"],en(s));const r=c(n,["referenceId"]);r!=null&&f(i,["referenceId"],r);const a=c(n,["referenceType"]);a!=null&&f(i,["referenceType"],a);const d=c(n,["maskImageConfig"]);d!=null&&f(i,["maskImageConfig"],Ew(d));const h=c(n,["controlImageConfig"]);h!=null&&f(i,["controlImageConfig"],mA(h));const g=c(n,["styleImageConfig"]);g!=null&&f(i,["styleImageConfig"],g);const m=c(n,["subjectImageConfig"]);return m!=null&&f(i,["subjectImageConfig"],m),i}function iv(n,e){const i={},s=c(n,["safetyAttributes","categories"]);s!=null&&f(i,["categories"],s);const r=c(n,["safetyAttributes","scores"]);r!=null&&f(i,["scores"],r);const a=c(n,["contentType"]);return a!=null&&f(i,["contentType"],a),i}function ov(n,e){const i={},s=c(n,["safetyAttributes","categories"]);s!=null&&f(i,["categories"],s);const r=c(n,["safetyAttributes","scores"]);r!=null&&f(i,["scores"],r);const a=c(n,["contentType"]);return a!=null&&f(i,["contentType"],a),i}function Mw(n,e){const i={},s=c(n,["category"]);if(s!=null&&f(i,["category"],s),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=c(n,["threshold"]);return r!=null&&f(i,["threshold"],r),i}function Iw(n,e){const i={},s=c(n,["image"]);return s!=null&&f(i,["image"],en(s)),i}function kw(n,e,i){const s={},r=c(n,["mode"]);e!==void 0&&r!=null&&f(e,["parameters","mode"],r);const a=c(n,["maxPredictions"]);e!==void 0&&a!=null&&f(e,["parameters","maxPredictions"],a);const d=c(n,["confidenceThreshold"]);e!==void 0&&d!=null&&f(e,["parameters","confidenceThreshold"],d);const h=c(n,["maskDilation"]);e!==void 0&&h!=null&&f(e,["parameters","maskDilation"],h);const g=c(n,["binaryColorThreshold"]);e!==void 0&&g!=null&&f(e,["parameters","binaryColorThreshold"],g);const m=c(n,["labels"]);return e!==void 0&&m!=null&&f(e,["labels"],m),s}function Dw(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["source"]);a!=null&&Lw(a,s);const d=c(e,["config"]);return d!=null&&kw(d,s),s}function Uw(n,e){const i={},s=c(n,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(a=>sw(a))),f(i,["generatedMasks"],r)}return i}function Lw(n,e,i){const s={},r=c(n,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const a=c(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],en(a));const d=c(n,["scribbleImage"]);return e!==void 0&&d!=null&&f(e,["instances[0]","scribble"],Iw(d)),s}function Pw(n,e){const i={},s=c(n,["retrievalConfig"]);s!=null&&f(i,["retrievalConfig"],s);const r=c(n,["functionCallingConfig"]);return r!=null&&f(i,["functionCallingConfig"],GA(r)),i}function Ow(n,e){const i={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["computerUse"]);s!=null&&f(i,["computerUse"],s);const r=c(n,["fileSearch"]);r!=null&&f(i,["fileSearch"],r);const a=c(n,["codeExecution"]);if(a!=null&&f(i,["codeExecution"],a),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=c(n,["functionDeclarations"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>S)),f(i,["functionDeclarations"],_)}const h=c(n,["googleMaps"]);h!=null&&f(i,["googleMaps"],dw(h));const g=c(n,["googleSearch"]);g!=null&&f(i,["googleSearch"],fw(g));const m=c(n,["googleSearchRetrieval"]);m!=null&&f(i,["googleSearchRetrieval"],m);const y=c(n,["urlContext"]);return y!=null&&f(i,["urlContext"],y),i}function sv(n,e){const i={},s=c(n,["retrieval"]);s!=null&&f(i,["retrieval"],s);const r=c(n,["computerUse"]);if(r!=null&&f(i,["computerUse"],r),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(n,["codeExecution"]);a!=null&&f(i,["codeExecution"],a);const d=c(n,["enterpriseWebSearch"]);d!=null&&f(i,["enterpriseWebSearch"],d);const h=c(n,["functionDeclarations"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(b=>zA(b))),f(i,["functionDeclarations"],S)}const g=c(n,["googleMaps"]);g!=null&&f(i,["googleMaps"],g);const m=c(n,["googleSearch"]);m!=null&&f(i,["googleSearch"],m);const y=c(n,["googleSearchRetrieval"]);y!=null&&f(i,["googleSearchRetrieval"],y);const _=c(n,["urlContext"]);return _!=null&&f(i,["urlContext"],_),i}function Gw(n,e){const i={},s=c(n,["baseModel"]);s!=null&&f(i,["baseModel"],s);const r=c(n,["createTime"]);r!=null&&f(i,["createTime"],r);const a=c(n,["updateTime"]);return a!=null&&f(i,["updateTime"],a),i}function zw(n,e){const i={},s=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&f(i,["baseModel"],s);const r=c(n,["createTime"]);r!=null&&f(i,["createTime"],r);const a=c(n,["updateTime"]);return a!=null&&f(i,["updateTime"],a),i}function Hw(n,e,i){const s={},r=c(n,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const a=c(n,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const d=c(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&f(e,["defaultCheckpointId"],d),s}function qw(n,e,i){const s={},r=c(n,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const a=c(n,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const d=c(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&f(e,["defaultCheckpointId"],d),s}function Bw(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","name"],xe(n,r));const a=c(e,["config"]);return a!=null&&Hw(a,s),s}function Vw(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["config"]);return a!=null&&qw(a,s),s}function Fw(n,e,i){const s={},r=c(n,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const a=c(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&f(e,["parameters","safetySetting"],a);const d=c(n,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);const h=c(n,["includeRaiReason"]);e!==void 0&&h!=null&&f(e,["parameters","includeRaiReason"],h);const g=c(n,["outputMimeType"]);e!==void 0&&g!=null&&f(e,["parameters","outputOptions","mimeType"],g);const m=c(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&f(e,["parameters","outputOptions","compressionQuality"],m);const y=c(n,["enhanceInputImage"]);e!==void 0&&y!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],y);const _=c(n,["imagePreservationFactor"]);e!==void 0&&_!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],_);const S=c(n,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);const b=c(n,["numberOfImages"]);e!==void 0&&b!=null&&f(e,["parameters","sampleCount"],b);const w=c(n,["mode"]);return e!==void 0&&w!=null&&f(e,["parameters","mode"],w),s}function Jw(n,e,i){const s={},r=c(e,["model"]);r!=null&&f(s,["_url","model"],xe(n,r));const a=c(e,["image"]);a!=null&&f(s,["instances[0]","image"],en(a));const d=c(e,["upscaleFactor"]);d!=null&&f(s,["parameters","upscaleConfig","upscaleFactor"],d);const h=c(e,["config"]);return h!=null&&Fw(h,s),s}function Yw(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(d=>Ir(d))),f(i,["generatedImages"],a)}return i}function $w(n,e){const i={},s=c(n,["uri"]);s!=null&&f(i,["uri"],s);const r=c(n,["encodedVideo"]);r!=null&&f(i,["videoBytes"],ii(r));const a=c(n,["encoding"]);return a!=null&&f(i,["mimeType"],a),i}function jw(n,e){const i={},s=c(n,["gcsUri"]);s!=null&&f(i,["uri"],s);const r=c(n,["bytesBase64Encoded"]);r!=null&&f(i,["videoBytes"],ii(r));const a=c(n,["mimeType"]);return a!=null&&f(i,["mimeType"],a),i}function Kw(n,e){const i={},s=c(n,["image"]);s!=null&&f(i,["_self"],en(s));const r=c(n,["maskMode"]);return r!=null&&f(i,["maskMode"],r),i}function Xw(n,e){const i={},s=c(n,["image"]);s!=null&&f(i,["image"],kr(s));const r=c(n,["referenceType"]);return r!=null&&f(i,["referenceType"],r),i}function Qw(n,e){const i={},s=c(n,["image"]);s!=null&&f(i,["image"],en(s));const r=c(n,["referenceType"]);return r!=null&&f(i,["referenceType"],r),i}function lv(n,e){const i={},s=c(n,["uri"]);s!=null&&f(i,["uri"],s);const r=c(n,["videoBytes"]);r!=null&&f(i,["encodedVideo"],ii(r));const a=c(n,["mimeType"]);return a!=null&&f(i,["encoding"],a),i}function rv(n,e){const i={},s=c(n,["uri"]);s!=null&&f(i,["gcsUri"],s);const r=c(n,["videoBytes"]);r!=null&&f(i,["bytesBase64Encoded"],ii(r));const a=c(n,["mimeType"]);return a!=null&&f(i,["mimeType"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zw(n,e){const i={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["displayName"],s),i}function Ww(n){const e={},i=c(n,["config"]);return i!=null&&Zw(i,e),e}function eC(n,e){const i={},s=c(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),i}function tC(n){const e={},i=c(n,["name"]);i!=null&&f(e,["_url","name"],i);const s=c(n,["config"]);return s!=null&&eC(s,e),e}function nC(n){const e={},i=c(n,["name"]);return i!=null&&f(e,["_url","name"],i),e}function iC(n,e){const i={},s=c(n,["customMetadata"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(d=>d)),f(e,["customMetadata"],a)}const r=c(n,["chunkingConfig"]);return e!==void 0&&r!=null&&f(e,["chunkingConfig"],r),i}function oC(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const r=c(n,["done"]);r!=null&&f(e,["done"],r);const a=c(n,["error"]);a!=null&&f(e,["error"],a);const d=c(n,["response"]);return d!=null&&f(e,["response"],lC(d)),e}function sC(n){const e={},i=c(n,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const s=c(n,["fileName"]);s!=null&&f(e,["fileName"],s);const r=c(n,["config"]);return r!=null&&iC(r,e),e}function lC(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const r=c(n,["documentName"]);return r!=null&&f(e,["documentName"],r),e}function rC(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const r=c(n,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),i}function aC(n){const e={},i=c(n,["config"]);return i!=null&&rC(i,e),e}function uC(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const r=c(n,["fileSearchStores"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(d=>d)),f(e,["fileSearchStores"],a)}return e}function av(n,e){const i={},s=c(n,["mimeType"]);e!==void 0&&s!=null&&f(e,["mimeType"],s);const r=c(n,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const a=c(n,["customMetadata"]);if(e!==void 0&&a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>g)),f(e,["customMetadata"],h)}const d=c(n,["chunkingConfig"]);return e!==void 0&&d!=null&&f(e,["chunkingConfig"],d),i}function cC(n){const e={},i=c(n,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const s=c(n,["config"]);return s!=null&&av(s,e),e}function dC(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fC="Content-Type",hC="X-Server-Timeout",pC="User-Agent",Ic="x-goog-api-client",mC="1.40.0",gC=`google-genai-sdk/${mC}`,vC="v1beta1",yC="v1beta";class _C{constructor(e){var i,s,r;this.clientOptions=Object.assign({},e),this.customBaseUrl=(i=e.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const h=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!h?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:vC}else{if(!this.clientOptions.apiKey)throw new qs({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:yC,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,s){const r=[this.getRequestUrlInternal(i)];return s&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e,i){return!(i.baseUrl&&i.baseUrlResourceScope===Ac.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,i),r=this.constructUrl(e.path,i,s);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))r.searchParams.append(d,String(h));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,i,r.toString(),e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,i){const s=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(i))typeof a=="object"?s[r]=Object.assign(Object.assign({},s[r]),a):a!==void 0&&(s[r]=a);return s}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,i),r=this.constructUrl(e.path,i,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,i,r.toString(),e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,s,r){if(i&&i.timeout||r){const a=new AbortController,d=a.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const h=setTimeout(()=>a.abort(),i.timeout);h&&typeof h.unref=="function"&&h.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=d}return i&&i.extraBody!==null&&SC(e,i.extraBody),e.headers=await this.getHeadersInternal(i,s),e}async unaryApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async r=>(await s0(r),new wc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async r=>(await s0(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return Zt(this,arguments,function*(){var s;const r=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let d="";const h="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:y}=yield se(r.read());if(m){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=a.decode(y,{stream:!0});try{const w=JSON.parse(_);if("error"in w){const I=JSON.parse(JSON.stringify(w.error)),A=I.status,L=I.code,J=`got status: ${A}. ${JSON.stringify(w)}`;if(L>=400&&L<600)throw new qs({message:J,status:L})}}catch(w){if(w.name==="ApiError")throw w}d+=_;let S=-1,b=0;for(;;){S=-1,b=0;for(const A of g){const L=d.indexOf(A);L!==-1&&(S===-1||L<S)&&(S=L,b=A.length)}if(S===-1)break;const w=d.substring(0,S);d=d.substring(S+b);const I=w.trim();if(I.startsWith(h)){const A=I.substring(h.length).trim();try{const L=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield se(new wc(L))}catch(L){throw new Error(`exception parsing stream chunk ${A}. ${L}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},i=gC+" "+this.clientOptions.userAgentExtra;return e[pC]=i,e[Ic]=i,e[fC]="application/json",e}async getHeadersInternal(e,i){const s=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))s.append(r,a);e.timeout&&e.timeout>0&&s.append(hC,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,i),s}getFileName(e){var i;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(i=s.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),s}async uploadFile(e,i){var s;const r={};i!=null&&(r.mimeType=i.mimeType,r.name=i.name,r.displayName=i.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,d=await a.stat(e);r.sizeBytes=String(d.size);const h=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const g={file:r},m=this.getFileName(e),y=j("upload/v1beta/files",g._url),_=await this.fetchUploadUrl(y,r.sizeBytes,r.mimeType,m,g,i==null?void 0:i.httpOptions);return a.upload(e,_,this)}async uploadFileToFileSearchStore(e,i,s){var r;const a=this.clientOptions.uploader,d=await a.stat(i),h=String(d.size),g=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:d.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(i),_={};s!=null&&av(s,_);const S=await this.fetchUploadUrl(m,h,g,y,_,s==null?void 0:s.httpOptions);return a.uploadToFileSearchStore(i,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,s,r,a,d){var h;let g={};d?g=d:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:g});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function s0(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let s;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await n.json():s={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(s);throw i>=400&&i<600?new qs({message:r,status:i}):new Error(r)}}function SC(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const a=JSON.parse(n.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))i=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(a,d){const h=Object.assign({},a);for(const g in d)if(Object.prototype.hasOwnProperty.call(d,g)){const m=d[g],y=h[g];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[g]=s(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[g]=m)}return h}const r=s(i,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TC="mcp_used/unknown";let EC=!1;function uv(n){for(const e of n)if(xC(e)||typeof e=="object"&&"inputSchema"in e)return!0;return EC}function cv(n){var e;const i=(e=n[Ic])!==null&&e!==void 0?e:"";n[Ic]=(i+` ${TC}`).trimStart()}function xC(n){return n!==null&&typeof n=="object"&&n instanceof Wc}function bC(n){return Zt(this,arguments,function*(i,s=100){let r,a=0;for(;a<s;){const d=yield se(i.listTools({cursor:r}));for(const h of d.tools)yield yield se(h),a++;if(!d.nextCursor)break;r=d.nextCursor}})}class Wc{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Wc(e,i)}async initialize(){var e,i,s,r;if(this.mcpTools.length>0)return;const a={},d=[];for(const y of this.mcpClients)try{for(var h=!0,g=(i=void 0,Wt(bC(y))),m;m=await g.next(),e=m.done,!e;h=!0){r=m.value,h=!1;const _=r;d.push(_);const S=_.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=y}}catch(_){i={error:_}}finally{try{!h&&!e&&(s=g.return)&&await s.call(g)}finally{if(i)throw i.error}}this.mcpTools=d,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),WE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const d=await r.callTool({name:s.name,arguments:s.args},void 0,a);i.push({functionResponse:{name:s.name,response:d.isError?{error:d}:d}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function AC(n,e,i){const s=new JE;let r;i.data instanceof Blob?r=JSON.parse(await i.data.text()):r=JSON.parse(i.data),Object.assign(s,r),e(s)}class wC{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s}async connect(e){var i,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),d=NC(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(V=>{m=V}),_=e.callbacks,S=function(){m({})},b=this.apiClient,w={onopen:S,onmessage:V=>{AC(b,_.onmessage,V)},onerror:(i=_==null?void 0:_.onerror)!==null&&i!==void 0?i:function(V){},onclose:(s=_==null?void 0:_.onclose)!==null&&s!==void 0?s:function(V){}},I=this.webSocketFactory.create(g,RC(d),w);I.connect(),await y;const J={setup:{model:xe(this.apiClient,e.model)}};return I.send(JSON.stringify(J)),new CC(I,this.apiClient)}}class CC{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=Zb(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=Qb(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(bo.PLAY)}pause(){this.sendPlaybackControl(bo.PAUSE)}stop(){this.sendPlaybackControl(bo.STOP)}resetContext(){this.sendPlaybackControl(bo.RESET_CONTEXT)}close(){this.conn.close()}}function RC(n){const e={};return n.forEach((i,s)=>{e[s]=i}),e}function NC(n){const e=new Headers;for(const[i,s]of Object.entries(n))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function IC(n,e,i){const s=new FE;let r;i.data instanceof Blob?r=await i.data.text():i.data instanceof ArrayBuffer?r=new TextDecoder().decode(i.data):r=i.data;const a=JSON.parse(r);if(n.isVertexAI()){const d=tA(a);Object.assign(s,d)}else Object.assign(s,a);e(s)}class kC{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s,this.music=new wC(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,s,r,a,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&uv(e.config.tools)&&cv(_);const S=PC(_);if(this.apiClient.isVertexAI()){const Q=this.apiClient.getProject(),de=this.apiClient.getLocation(),be=this.apiClient.getApiKey(),Ne=!!Q&&!!de||!!be;this.apiClient.getCustomBaseUrl()&&!Ne?y=g:(y=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,y))}else{const Q=this.apiClient.getApiKey();let de="BidiGenerateContent",be="key";Q!=null&&Q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),de="BidiGenerateContentConstrained",be="access_token"),y=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${de}?${be}=${Q}`}let b=()=>{};const w=new Promise(Q=>{b=Q}),I=e.callbacks,A=function(){var Q;(Q=I==null?void 0:I.onopen)===null||Q===void 0||Q.call(I),b({})},L=this.apiClient,J={onopen:A,onmessage:Q=>{IC(L,I.onmessage,Q)},onerror:(i=I==null?void 0:I.onerror)!==null&&i!==void 0?i:function(Q){},onclose:(s=I==null?void 0:I.onclose)!==null&&s!==void 0?s:function(Q){}},V=this.webSocketFactory.create(y,LC(S),J);V.connect(),await w;let H=xe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const Q=this.apiClient.getProject(),de=this.apiClient.getLocation();Q&&de&&(H=`projects/${Q}/locations/${de}/`+H)}let O={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xr.AUDIO]}:e.config.responseModalities=[xr.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ee=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],Y=[];for(const Q of ee)if(this.isCallableTool(Q)){const de=Q;Y.push(await de.tool())}else Y.push(Q);Y.length>0&&(e.config.tools=Y);const ue={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?O=Xb(this.apiClient,ue):O=Kb(this.apiClient,ue),delete O.config,V.send(JSON.stringify(O)),new UC(V,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const DC={turnComplete:!0};class UC{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let s=[];try{s=Jt(i.turns),e.isVertexAI()||(s=s.map(r=>Mr(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:s,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let s=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?s=i.functionResponses:s=[i.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const a of s){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(MC)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},DC),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:eA(e)}:i={realtimeInput:Wb(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function LC(n){const e={};return n.forEach((i,s)=>{e[s]=i}),e}function PC(n){const e=new Headers;for(const[i,s]of Object.entries(n))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l0=10;function r0(n){var e,i,s;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const d of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(Ro(d)){r=!0;break}if(!r)return!0;const a=(s=n==null?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Ro(n){return"callTool"in n&&typeof n.callTool=="function"}function OC(n){var e,i,s;return(s=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(r=>Ro(r)))!==null&&s!==void 0?s:!1}function a0(n){var e;const i=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((s,r)=>{if(Ro(s))return;const a=s;a.functionDeclarations&&a.functionDeclarations.length>0&&i.push(r)}),i}function u0(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GC extends An{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var s,r,a,d,h;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!OC(i)||r0(i.config))return await this.generateContentInternal(g);const m=a0(i);if(m.length>0){const I=m.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${I}.`)}let y,_;const S=Jt(g.contents),b=(a=(r=(s=g.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:l0;let w=0;for(;w<b&&(y=await this.generateContentInternal(g),!(!y.functionCalls||y.functionCalls.length===0));){const I=y.candidates[0].content,A=[];for(const L of(h=(d=i.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(Ro(L)){const V=await L.callTool(y.functionCalls);A.push(...V)}w++,_={role:"user",parts:A},g.contents=Jt(g.contents),g.contents.push(I),g.contents.push(_),u0(g.config)&&(S.push(I),S.push(_))}return u0(g.config)&&(y.automaticFunctionCallingHistory=S),y},this.generateContentStream=async i=>{var s,r,a,d,h;if(this.maybeMoveToResponseJsonSchem(i),r0(i.config)){const _=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(_)}const g=a0(i);if(g.length>0){const _=g.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(a=(r=(s=i==null?void 0:i.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,y=(h=(d=i==null?void 0:i.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(s=>{var r;let a;const d=[];if(s!=null&&s.generatedImages)for(const g of s.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((r=g==null?void 0:g.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=g==null?void 0:g.safetyAttributes:d.push(g);let h;return a?h={generatedImages:d,positivePromptSafetyAttributes:a,sdkHttpResponse:s.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:s.sdkHttpResponse},h}),this.list=async i=>{var s;const d={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((s=d.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Ni(bn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async i=>{const s={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(s.referenceImages=i.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async i=>{let s={numberOfImages:1,mode:"upscale"};i.config&&(s=Object.assign(Object.assign({},s),i.config));const r={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async i=>{var s,r,a,d,h,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=i.video)===null||s===void 0)&&s.uri&&(!((r=i.video)===null||r===void 0)&&r.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((d=(a=i.source)===null||a===void 0?void 0:a.video)===null||d===void 0)&&d.uri&&(!((g=(h=i.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,s,r;const a=(i=e.config)===null||i===void 0?void 0:i.tools;if(!a)return e;const d=await Promise.all(a.map(async g=>Ro(g)?await g.tool():g)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&uv(e.config.tools)){const g=(r=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),cv(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var i,s,r;const a=new Map;for(const d of(s=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&s!==void 0?s:[])if(Ro(d)){const h=d,g=await h.tool();for(const m of(r=g.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(a.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);a.set(m.name,h)}}return a}async processAfcStream(e){var i,s,r;const a=(r=(s=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:l0;let d=!1,h=0;const g=await this.initAfcToolsMap(e);return(function(m,y,_){return Zt(this,arguments,function*(){for(var S,b,w,I,A,L;h<a;){d&&(h++,d=!1);const O=yield se(m.processParamsMaybeAddMcpUsage(_)),ee=yield se(m.generateContentStreamInternal(O)),Y=[],ue=[];try{for(var J=!0,V=(b=void 0,Wt(ee)),H;H=yield se(V.next()),S=H.done,!S;J=!0){I=H.value,J=!1;const Q=I;if(yield yield se(Q),Q.candidates&&(!((A=Q.candidates[0])===null||A===void 0)&&A.content)){ue.push(Q.candidates[0].content);for(const de of(L=Q.candidates[0].content.parts)!==null&&L!==void 0?L:[])if(h<a&&de.functionCall){if(!de.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(de.functionCall.name)){const be=yield se(y.get(de.functionCall.name).callTool([de.functionCall]));Y.push(...be)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${de.functionCall.name}`)}}}}catch(Q){b={error:Q}}finally{try{!J&&!S&&(w=V.return)&&(yield se(w.call(V)))}finally{if(b)throw b.error}}if(Y.length>0){d=!0;const Q=new Ds;Q.candidates=[{content:{role:"user",parts:Y}}],yield yield se(Q);const de=[];de.push(...ue),de.push({role:"user",parts:Y});const be=Jt(_.contents).concat(de);_.contents=be}else break}})})(this,g,e)}async generateContentInternal(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=n0(this.apiClient,e);return h=j("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=o0(y),S=new Ds;return Object.assign(S,_),S})}else{const m=t0(this.apiClient,e);return h=j("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=i0(y),S=new Ds;return Object.assign(S,_),S})}}async generateContentStreamInternal(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=n0(this.apiClient,e);return h=j("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),d.then(function(_){return Zt(this,arguments,function*(){var S,b,w,I;try{for(var A=!0,L=Wt(_),J;J=yield se(L.next()),S=J.done,!S;A=!0){I=J.value,A=!1;const V=I,H=o0(yield se(V.json()),e);H.sdkHttpResponse={headers:V.headers};const O=new Ds;Object.assign(O,H),yield yield se(O)}}catch(V){b={error:V}}finally{try{!A&&!S&&(w=L.return)&&(yield se(w.call(L)))}finally{if(b)throw b.error}}})})}else{const m=t0(this.apiClient,e);return h=j("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),d.then(function(_){return Zt(this,arguments,function*(){var S,b,w,I;try{for(var A=!0,L=Wt(_),J;J=yield se(L.next()),S=J.done,!S;A=!0){I=J.value,A=!1;const V=I,H=i0(yield se(V.json()),e);H.sdkHttpResponse={headers:V.headers};const O=new Ds;Object.assign(O,H),yield yield se(O)}}catch(V){b={error:V}}finally{try{!A&&!S&&(w=L.return)&&(yield se(w.call(L)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=kA(this.apiClient,e);return h=j("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=UA(y),S=new Gg;return Object.assign(S,_),S})}else{const m=IA(this.apiClient,e);return h=j("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=DA(y),S=new Gg;return Object.assign(S,_),S})}}async generateImagesInternal(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=JA(this.apiClient,e);return h=j("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=$A(y),S=new zg;return Object.assign(S,_),S})}else{const m=FA(this.apiClient,e);return h=j("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=YA(y),S=new zg;return Object.assign(S,_),S})}}async editImageInternal(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI()){const h=CA(this.apiClient,e);return a=j("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),r.then(g=>{const m=RA(g),y=new kE;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI()){const h=Jw(this.apiClient,e);return a=j("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),r.then(g=>{const m=Yw(g),y=new DE;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI()){const h=ww(this.apiClient,e);return a=j("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const m=Cw(g),y=new UE;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI()){const h=Dw(this.apiClient,e);return a=j("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const m=Uw(g),y=new LE;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=cw(this.apiClient,e);return h=j("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>Mc(y))}else{const m=uw(this.apiClient,e);return h=j("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),d.then(y=>Nc(y))}}async listInternal(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=_w(this.apiClient,e);return h=j("{models_url}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=Tw(y),S=new Hg;return Object.assign(S,_),S})}else{const m=yw(this.apiClient,e);return h=j("{models_url}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=Sw(y),S=new Hg;return Object.assign(S,_),S})}}async update(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Vw(this.apiClient,e);return h=j("{model}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>Mc(y))}else{const m=Bw(this.apiClient,e);return h=j("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),d.then(y=>Nc(y))}}async delete(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=xA(this.apiClient,e);return h=j("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=AA(y),S=new qg;return Object.assign(S,_),S})}else{const m=EA(this.apiClient,e);return h=j("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=bA(y),S=new qg;return Object.assign(S,_),S})}}async countTokens(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=_A(this.apiClient,e);return h=j("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=TA(y),S=new Bg;return Object.assign(S,_),S})}else{const m=yA(this.apiClient,e);return h=j("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=SA(y),S=new Bg;return Object.assign(S,_),S})}}async computeTokens(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI()){const h=dA(this.apiClient,e);return a=j("{model}:computeTokens",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),r.then(g=>{const m=fA(g),y=new PE;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=WA(this.apiClient,e);return h=j("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d.then(y=>{const _=QA(y),S=new br;return Object.assign(S,_),S})}else{const m=ZA(this.apiClient,e);return h=j("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),d.then(y=>{const _=XA(y),S=new br;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zC extends An{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let a;s&&"httpOptions"in s&&(a=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:a}});return i._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let a;s&&"httpOptions"in s&&(a=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:a}});return i._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=wE(e);return h=j("{operationName}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),d}else{const m=AE(e);return h=j("{operationName}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),d}}async fetchPredictVideosOperationInternal(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI()){const h=yE(e);return a=j("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HC(n){const e={},i=c(n,["data"]);if(i!=null&&f(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function qC(n){const e={},i=c(n,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>XC(a))),f(e,["parts"],r)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function BC(n,e,i){const s={},r=c(e,["expireTime"]);i!==void 0&&r!=null&&f(i,["expireTime"],r);const a=c(e,["newSessionExpireTime"]);i!==void 0&&a!=null&&f(i,["newSessionExpireTime"],a);const d=c(e,["uses"]);i!==void 0&&d!=null&&f(i,["uses"],d);const h=c(e,["liveConnectConstraints"]);i!==void 0&&h!=null&&f(i,["bidiGenerateContentSetup"],KC(n,h));const g=c(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&f(i,["fieldMask"],g),s}function VC(n,e){const i={},s=c(e,["config"]);return s!=null&&f(i,["config"],BC(n,s,i)),i}function FC(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function JC(n){const e={},i=c(n,["id"]);i!=null&&f(e,["id"],i);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const r=c(n,["name"]);if(r!=null&&f(e,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function YC(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function $C(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function jC(n,e){const i={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const r=c(n,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const a=c(n,["temperature"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","temperature"],a);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=c(n,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Zc(_));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const b=c(n,["enableAffectiveDialog"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],b);const w=c(n,["systemInstruction"]);e!==void 0&&w!=null&&f(e,["setup","systemInstruction"],qC(ct(w)));const I=c(n,["tools"]);if(e!==void 0&&I!=null){let ee=Do(I);Array.isArray(ee)&&(ee=ee.map(Y=>ZC(ko(Y)))),f(e,["setup","tools"],ee)}const A=c(n,["sessionResumption"]);e!==void 0&&A!=null&&f(e,["setup","sessionResumption"],QC(A));const L=c(n,["inputAudioTranscription"]);e!==void 0&&L!=null&&f(e,["setup","inputAudioTranscription"],L);const J=c(n,["outputAudioTranscription"]);e!==void 0&&J!=null&&f(e,["setup","outputAudioTranscription"],J);const V=c(n,["realtimeInputConfig"]);e!==void 0&&V!=null&&f(e,["setup","realtimeInputConfig"],V);const H=c(n,["contextWindowCompression"]);e!==void 0&&H!=null&&f(e,["setup","contextWindowCompression"],H);const O=c(n,["proactivity"]);if(e!==void 0&&O!=null&&f(e,["setup","proactivity"],O),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function KC(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["setup","model"],xe(n,s));const r=c(e,["config"]);return r!=null&&f(i,["config"],jC(r,i)),i}function XC(n){const e={},i=c(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const r=c(n,["executableCode"]);r!=null&&f(e,["executableCode"],r);const a=c(n,["fileData"]);a!=null&&f(e,["fileData"],FC(a));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],JC(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=c(n,["inlineData"]);g!=null&&f(e,["inlineData"],HC(g));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const y=c(n,["thought"]);y!=null&&f(e,["thought"],y);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function QC(n){const e={},i=c(n,["handle"]);if(i!=null&&f(e,["handle"],i),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ZC(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const r=c(n,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(n,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(_=>_)),f(e,["functionDeclarations"],y)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],YC(d));const h=c(n,["googleSearch"]);h!=null&&f(e,["googleSearch"],$C(h));const g=c(n,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WC(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=n[i];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(a=>`${i}.${a}`);e.push(...r)}else e.push(i)}return e.join(",")}function eR(n,e){let i=null;const s=n.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const a=s.setup;typeof a=="object"&&a!==null?(n.bidiGenerateContentSetup=a,i=a):delete n.bidiGenerateContentSetup}else s!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(i){const a=WC(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?n.fieldMask=a:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(m=>d.includes(m)?`generationConfig.${m}`:m));const g=[];a&&g.push(a),h.length>0&&g.push(...h),g.length>0?n.fieldMask=g.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class tR extends An{constructor(e){super(),this.apiClient=e}async create(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=VC(this.apiClient,e);a=j("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const g=eR(h,e.config);return r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nR(n,e){const i={},s=c(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),i}function iR(n){const e={},i=c(n,["name"]);i!=null&&f(e,["_url","name"],i);const s=c(n,["config"]);return s!=null&&nR(s,e),e}function oR(n){const e={},i=c(n,["name"]);return i!=null&&f(e,["_url","name"],i),e}function sR(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const r=c(n,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),i}function lR(n){const e={},i=c(n,["parent"]);i!=null&&f(e,["_url","parent"],i);const s=c(n,["config"]);return s!=null&&sR(s,e),e}function rR(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const r=c(n,["documents"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(d=>d)),f(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aR extends An{constructor(e){super(),this.apiClient=e,this.list=async i=>new Ni(bn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:i.parent,config:s.config}),await this.listInternal(i),i)}async get(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=oR(e);return a=j("{name}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(e){var i,s;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=iR(e);r=j("{name}",d._url),a=d._query,delete d._url,delete d._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=lR(e);return a=j("{parent}/documents",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const m=rR(g),y=new OE;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uR extends An{constructor(e,i=new aR(e)){super(),this.apiClient=e,this.documents=i,this.list=async(s={})=>new Ni(bn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Ww(e);return a=j("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async get(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=nC(e);return a=j("{name}",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(e){var i,s;let r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=tC(e);r=j("{name}",d._url),a=d._query,delete d._url,delete d._query,await this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=aC(e);return a=j("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const m=uC(g),y=new GE;return Object.assign(y,m),y})}}async uploadToFileSearchStoreInternal(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=cC(e);return a=j("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const m=dC(g),y=new zE;return Object.assign(y,m),y})}}async importFile(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=sC(e);return a=j("{file_search_store_name}:importFile",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),r.then(g=>{const m=oC(g),y=new $c;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dv=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return dv=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),i=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^i()&15>>+s/4).toString(16))};const cR=()=>dv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kc(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const Dc=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yt extends Error{}class pt extends Yt{constructor(e,i,s,r){super(`${pt.makeMessage(e,i,s)}`),this.status=e,this.headers=r,this.error=i}static makeMessage(e,i,s){const r=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):s;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,i,s,r){if(!e||!r)return new Dr({message:s,cause:Dc(i)});const a=i;return e===400?new hv(e,a,s,r):e===401?new pv(e,a,s,r):e===403?new mv(e,a,s,r):e===404?new gv(e,a,s,r):e===409?new vv(e,a,s,r):e===422?new yv(e,a,s,r):e===429?new _v(e,a,s,r):e>=500?new Sv(e,a,s,r):new pt(e,a,s,r)}}class Uc extends pt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Dr extends pt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class fv extends Dr{constructor({message:e}={}){super({message:e??"Request timed out."})}}class hv extends pt{}class pv extends pt{}class mv extends pt{}class gv extends pt{}class vv extends pt{}class yv extends pt{}class _v extends pt{}class Sv extends pt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dR=/^[a-z][a-z0-9+.-]*:/i,fR=n=>dR.test(n);let Lc=n=>(Lc=Array.isArray,Lc(n));const hR=Lc;let pR=hR;const c0=pR;function mR(n){if(!n)return!0;for(const e in n)return!1;return!0}function gR(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const vR=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Yt(`${n} must be an integer`);if(e<0)throw new Yt(`${n} must be a positive integer`);return e},yR=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _R=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SR(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const TR=()=>{var n,e,i,s,r;const a=SR();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xo,"X-Stainless-OS":f0(Deno.build.os),"X-Stainless-Arch":d0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xo,"X-Stainless-OS":f0((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":d0((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const d=ER();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ER(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of n){const s=i.exec(navigator.userAgent);if(s){const r=s[1]||0,a=s[2]||0,d=s[3]||0;return{browser:e,version:`${r}.${a}.${d}`}}}return null}const d0=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",f0=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let fr;const xR=()=>fr??(fr=TR());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bR(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Tv(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function AR(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return Tv({start(){},async pull(i){const{done:s,value:r}=await e.next();s?i.close():i.enqueue(r)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function Ev(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function wR(n){var e,i;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((i=(e=n[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const s=n.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CR=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xv=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function dc(n,e,i){return xv(),new File(n,e??"unknown_file",i)}function RR(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const NR=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bv=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",MR=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&bv(n),IR=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function kR(n,e,i){if(xv(),n=await n,MR(n))return n instanceof File?n:dc([await n.arrayBuffer()],n.name);if(IR(n)){const r=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),dc(await Pc(r),e,i)}const s=await Pc(n);if(e||(e=RR(n)),!(i!=null&&i.type)){const r=s.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof r=="string"&&(i=Object.assign(Object.assign({},i),{type:r}))}return dc(s,e,i)}async function Pc(n){var e,i,s,r,a;let d=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)d.push(n);else if(bv(n))d.push(n instanceof Blob?n:await n.arrayBuffer());else if(NR(n))try{for(var h=!0,g=Wt(n),m;m=await g.next(),e=m.done,!e;h=!0){r=m.value,h=!1;const y=r;d.push(...await Pc(y))}}catch(y){i={error:y}}finally{try{!h&&!e&&(s=g.return)&&await s.call(g)}finally{if(i)throw i.error}}else{const y=(a=n==null?void 0:n.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof n}${y?`; constructor: ${y}`:""}${DR(n)}`)}return d}function DR(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Av{constructor(e){this._client=e}}Av._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wv(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const h0=Object.freeze(Object.create(null)),UR=(n=wv)=>(function(i,...s){if(i.length===1)return i[0];let r=!1;const a=[],d=i.reduce((y,_,S)=>{var b,w,I;/[?#]/.test(_)&&(r=!0);const A=s[S];let L=(r?encodeURIComponent:n)(""+A);return S!==s.length&&(A==null||typeof A=="object"&&A.toString===((I=Object.getPrototypeOf((w=Object.getPrototypeOf((b=A.hasOwnProperty)!==null&&b!==void 0?b:h0))!==null&&w!==void 0?w:h0))===null||I===void 0?void 0:I.toString))&&(L=A+"",a.push({start:y.length+_.length,length:L.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),y+_+(S===s.length?"":L)},""),h=d.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=g.exec(h))!==null;)a.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(a.sort((y,_)=>y.start-_.start),a.length>0){let y=0;const _=a.reduce((S,b)=>{const w=" ".repeat(b.start-y),I="^".repeat(b.length);return y=b.start+b.length,S+w+I},"");throw new Yt(`Path parameters result in path with invalid segments:
${a.map(S=>S.error).join(`
`)}
${d}
${_}`)}return d}),hr=UR(wv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cv extends Av{create(e,i){var s;const{api_version:r=this._client.apiVersion}=e,a=wr(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new Yt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Yt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(hr`/${r}/interactions`,Object.assign(Object.assign({body:a},i),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,i={},s){const{api_version:r=this._client.apiVersion}=i??{};return this._client.delete(hr`/${r}/interactions/${e}`,s)}cancel(e,i={},s){const{api_version:r=this._client.apiVersion}=i??{};return this._client.post(hr`/${r}/interactions/${e}/cancel`,s)}get(e,i={},s){var r;const a=i??{},{api_version:d=this._client.apiVersion}=a,h=wr(a,["api_version"]);return this._client.get(hr`/${d}/interactions/${e}`,Object.assign(Object.assign({query:h},s),{stream:(r=i==null?void 0:i.stream)!==null&&r!==void 0?r:!1}))}}Cv._key=Object.freeze(["interactions"]);class Rv extends Cv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LR(n){let e=0;for(const r of n)e+=r.length;const i=new Uint8Array(e);let s=0;for(const r of n)i.set(r,s),s+=r.length;return i}let pr;function ed(n){let e;return(pr??(e=new globalThis.TextEncoder,pr=e.encode.bind(e)))(n)}let mr;function p0(n){let e;return(mr??(e=new globalThis.TextDecoder,mr=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ur{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?ed(e):e;this.buffer=LR([this.buffer,i]);const s=[];let r;for(;(r=PR(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(p0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,d=p0(this.buffer.subarray(0,a));s.push(d),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Ur.NEWLINE_CHARS=new Set([`
`,"\r"]);Ur.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function PR(n,e){for(let r=e??0;r<n.length;r++){if(n[r]===10)return{preceding:r,index:r+1,carriage:!1};if(n[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function OR(n){for(let s=0;s<n.length-1;s++){if(n[s]===10&&n[s+1]===10||n[s]===13&&n[s+1]===13)return s+2;if(n[s]===13&&n[s+1]===10&&s+3<n.length&&n[s+2]===13&&n[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cr={off:0,error:200,warn:300,info:400,debug:500},m0=(n,e,i)=>{if(n){if(gR(Cr,n))return n;ht(i).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(Cr))}`)}};function Os(){}function gr(n,e,i){return!e||Cr[n]>Cr[i]?Os:e[n].bind(e)}const GR={error:Os,warn:Os,info:Os,debug:Os};let g0=new WeakMap;function ht(n){var e;const i=n.logger,s=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!i)return GR;const r=g0.get(i);if(r&&r[0]===s)return r[1];const a={error:gr("error",i,s),warn:gr("warn",i,s),info:gr("info",i,s),debug:gr("debug",i,s)};return g0.set(i,[s,a]),a}const Ai=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ao{constructor(e,i,s){this.iterator=e,this.controller=i,this.client=s}static fromSSEResponse(e,i,s){let r=!1;const a=s?ht(s):console;function d(){return Zt(this,arguments,function*(){var g,m,y,_;if(r)throw new Yt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var b=!0,w=Wt(zR(e,i)),I;I=yield se(w.next()),g=I.done,!g;b=!0){_=I.value,b=!1;const A=_;if(!S)if(A.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield se(JSON.parse(A.data))}catch(L){throw a.error("Could not parse message into JSON:",A.data),a.error("From chunk:",A.raw),L}}}catch(A){m={error:A}}finally{try{!b&&!g&&(y=w.return)&&(yield se(y.call(w)))}finally{if(m)throw m.error}}S=!0}catch(A){if(kc(A))return yield se(void 0);throw A}finally{S||i.abort()}})}return new Ao(d,i,s)}static fromReadableStream(e,i,s){let r=!1;function a(){return Zt(this,arguments,function*(){var g,m,y,_;const S=new Ur,b=Ev(e);try{for(var w=!0,I=Wt(b),A;A=yield se(I.next()),g=A.done,!g;w=!0){_=A.value,w=!1;const L=_;for(const J of S.decode(L))yield yield se(J)}}catch(L){m={error:L}}finally{try{!w&&!g&&(y=I.return)&&(yield se(y.call(I)))}finally{if(m)throw m.error}}for(const L of S.flush())yield yield se(L)})}function d(){return Zt(this,arguments,function*(){var g,m,y,_;if(r)throw new Yt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var b=!0,w=Wt(a()),I;I=yield se(w.next()),g=I.done,!g;b=!0){_=I.value,b=!1;const A=_;S||A&&(yield yield se(JSON.parse(A)))}}catch(A){m={error:A}}finally{try{!b&&!g&&(y=w.return)&&(yield se(y.call(w)))}finally{if(m)throw m.error}}S=!0}catch(A){if(kc(A))return yield se(void 0);throw A}finally{S||i.abort()}})}return new Ao(d,i,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],s=this.iterator(),r=a=>({next:()=>{if(a.length===0){const d=s.next();e.push(d),i.push(d)}return a.shift()}});return[new Ao(()=>r(e),this.controller,this.client),new Ao(()=>r(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return Tv({async start(){i=e[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:a}=await i.next();if(a)return s.close();const d=ed(JSON.stringify(r)+`
`);s.enqueue(d)}catch(r){s.error(r)}},async cancel(){var s;await((s=i.return)===null||s===void 0?void 0:s.call(i))}})}}function zR(n,e){return Zt(this,arguments,function*(){var s,r,a,d;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Yt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Yt("Attempted to iterate over a response with no body");const h=new qR,g=new Ur,m=Ev(n.body);try{for(var y=!0,_=Wt(HR(m)),S;S=yield se(_.next()),s=S.done,!s;y=!0){d=S.value,y=!1;const b=d;for(const w of g.decode(b)){const I=h.decode(w);I&&(yield yield se(I))}}}catch(b){r={error:b}}finally{try{!y&&!s&&(a=_.return)&&(yield se(a.call(_)))}finally{if(r)throw r.error}}for(const b of g.flush()){const w=h.decode(b);w&&(yield yield se(w))}})}function HR(n){return Zt(this,arguments,function*(){var i,s,r,a;let d=new Uint8Array;try{for(var h=!0,g=Wt(n),m;m=yield se(g.next()),i=m.done,!i;h=!0){a=m.value,h=!1;const y=a;if(y==null)continue;const _=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?ed(y):y;let S=new Uint8Array(d.length+_.length);S.set(d),S.set(_,d.length),d=S;let b;for(;(b=OR(d))!==-1;)yield yield se(d.slice(0,b)),d=d.slice(b)}}catch(y){s={error:y}}finally{try{!h&&!i&&(r=g.return)&&(yield se(r.call(g)))}finally{if(s)throw s.error}}d.length>0&&(yield yield se(d))})}class qR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,s,r]=BR(e,":");return r.startsWith(" ")&&(r=r.substring(1)),i==="event"?this.event=r:i==="data"&&this.data.push(r),null}}function BR(n,e){const i=n.indexOf(e);return i!==-1?[n.substring(0,i),e,n.substring(i+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function VR(n,e){const{response:i,requestLogID:s,retryOfRequestLogID:r,startTime:a}=e,d=await(async()=>{var h;if(e.options.stream)return ht(n).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,n):Ao.fromSSEResponse(i,e.controller,n);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const g=i.headers.get("content-type"),m=(h=g==null?void 0:g.split(";")[0])===null||h===void 0?void 0:h.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?i.headers.get("content-length")==="0"?void 0:await i.json():await i.text()})();return ht(n).debug(`[${s}] response parsed`,Ai({retryOfRequestLogID:r,url:i.url,status:i.status,body:d,durationMs:Date.now()-a})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class td extends Promise{constructor(e,i,s=VR){super(r=>{r(null)}),this.responsePromise=i,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new td(this.client,this.responsePromise,async(i,s)=>e(await this.parseResponse(i,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nv=Symbol("brand.privateNullableHeaders");function*FR(n){if(!n)return;if(Nv in n){const{values:s,nulls:r}=n;yield*s.entries();for(const a of r)yield[a,null];return}let e=!1,i;n instanceof Headers?i=n.entries():c0(n)?i=n:(e=!0,i=Object.entries(n??{}));for(let s of i){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const a=c0(s[1])?s[1]:[s[1]];let d=!1;for(const h of a)h!==void 0&&(e&&!d&&(d=!0,yield[r,null]),yield[r,h])}}const Us=n=>{const e=new Headers,i=new Set;for(const s of n){const r=new Set;for(const[a,d]of FR(s)){const h=a.toLowerCase();r.has(h)||(e.delete(a),r.add(h)),d===null?(e.delete(a),i.add(h)):(e.append(a,d),i.delete(h))}}return{[Nv]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fc=n=>{var e,i,s,r,a,d;if(typeof globalThis.process<"u")return(s=(i=(e=fE)===null||e===void 0?void 0:e[n])===null||i===void 0?void 0:i.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(d=(a=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||a===void 0?void 0:a.call(r,n))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Mv;class Lr{constructor(e){var i,s,r,a,d,h,g,{baseURL:m=fc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(i=fc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:_="v1beta"}=e,S=wr(e,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:y,apiVersion:_},S),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(s=b.timeout)!==null&&s!==void 0?s:Lr.DEFAULT_TIMEOUT,this.logger=(r=b.logger)!==null&&r!==void 0?r:console;const w="warn";this.logLevel=w,this.logLevel=(d=(a=m0(b.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:m0(fc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:w,this.fetchOptions=b.fetchOptions,this.maxRetries=(h=b.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(g=b.fetch)!==null&&g!==void 0?g:bR(),this.encoder=CR,this._options=b,this.apiKey=y,this.apiVersion=_,this.clientAdapter=b.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=Us([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Us([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Us([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,s])=>typeof s<"u").map(([i,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(i)}=`;throw new Yt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${xo}`}defaultIdempotencyKey(){return`stainless-node-retry-${cR()}`}makeStatusError(e,i,s,r){return pt.generate(e,i,s,r)}buildURL(e,i,s){const r=!this.baseURLOverridden()&&s||this.baseURL,a=fR(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),d=this.defaultQuery();return mR(d)||(i=Object.assign(Object.assign({},d),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(a.search=this.stringifyQuery(i)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:s}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:e,path:i},r)))}request(e,i=null){return new td(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,s){var r,a,d;const h=await e,g=(r=h.maxRetries)!==null&&r!==void 0?r:this.maxRetries;i==null&&(i=g),await this.prepareOptions(h);const{req:m,url:y,timeout:_}=await this.buildRequest(h,{retryCount:g-i});await this.prepareRequest(m,{url:y,options:h});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=s===void 0?"":`, retryOf: ${s}`,w=Date.now();if(ht(this).debug(`[${S}] sending request`,Ai({retryOfRequestLogID:s,method:h.method,url:y,options:h,headers:m.headers})),!((a=h.signal)===null||a===void 0)&&a.aborted)throw new Uc;const I=new AbortController,A=await this.fetchWithTimeout(y,m,_,I).catch(Dc),L=Date.now();if(A instanceof globalThis.Error){const V=`retrying, ${i} attempts remaining`;if(!((d=h.signal)===null||d===void 0)&&d.aborted)throw new Uc;const H=kc(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(i)return ht(this).info(`[${S}] connection ${H?"timed out":"failed"} - ${V}`),ht(this).debug(`[${S}] connection ${H?"timed out":"failed"} (${V})`,Ai({retryOfRequestLogID:s,url:y,durationMs:L-w,message:A.message})),this.retryRequest(h,i,s??S);throw ht(this).info(`[${S}] connection ${H?"timed out":"failed"} - error; no more retries left`),ht(this).debug(`[${S}] connection ${H?"timed out":"failed"} (error; no more retries left)`,Ai({retryOfRequestLogID:s,url:y,durationMs:L-w,message:A.message})),H?new fv:new Dr({cause:A})}const J=`[${S}${b}] ${m.method} ${y} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${L-w}ms`;if(!A.ok){const V=await this.shouldRetry(A);if(i&&V){const Q=`retrying, ${i} attempts remaining`;return await wR(A.body),ht(this).info(`${J} - ${Q}`),ht(this).debug(`[${S}] response error (${Q})`,Ai({retryOfRequestLogID:s,url:A.url,status:A.status,headers:A.headers,durationMs:L-w})),this.retryRequest(h,i,s??S,A.headers)}const H=V?"error; no more retries left":"error; not retryable";ht(this).info(`${J} - ${H}`);const O=await A.text().catch(Q=>Dc(Q).message),ee=yR(O),Y=ee?void 0:O;throw ht(this).debug(`[${S}] response error (${H})`,Ai({retryOfRequestLogID:s,url:A.url,status:A.status,headers:A.headers,message:Y,durationMs:Date.now()-w})),this.makeStatusError(A.status,ee,Y,A.headers)}return ht(this).info(J),ht(this).debug(`[${S}] response start`,Ai({retryOfRequestLogID:s,url:A.url,status:A.status,headers:A.headers,durationMs:L-w})),{response:A,options:h,controller:I,requestLogID:S,retryOfRequestLogID:s,startTime:w}}async fetchWithTimeout(e,i,s,r){const a=i||{},{signal:d,method:h}=a,g=wr(a,["signal","method"]),m=r.abort.bind(r);d&&d.addEventListener("abort",m,{once:!0});const y=setTimeout(m,s),_=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,S=Object.assign(Object.assign(Object.assign({signal:r.signal},_?{duplex:"half"}:{}),{method:"GET"}),g);h&&(S.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,S)}finally{clearTimeout(y)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,s,r){var a;let d;const h=r==null?void 0:r.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(d=m)}const g=r==null?void 0:r.get("retry-after");if(g&&!d){const m=parseFloat(g);Number.isNaN(m)?d=Date.parse(g)-Date.now():d=m*1e3}if(!(d&&0<=d&&d<60*1e3)){const m=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(i,m)}return await _R(d),this.makeRequest(e,i-1,s)}calculateDefaultRetryTimeoutMillis(e,i){const a=i-e,d=Math.min(.5*Math.pow(2,a),8),h=1-Math.random()*.25;return d*h*1e3}async buildRequest(e,{retryCount:i=0}={}){var s,r,a;const d=Object.assign({},e),{method:h,path:g,query:m,defaultBaseURL:y}=d,_=this.buildURL(g,m,y);"timeout"in d&&vR("timeout",d.timeout),d.timeout=(s=d.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:S,body:b}=this.buildBody({options:d}),w=await this.buildHeaders({options:e,method:h,bodyHeaders:S,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:w},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(a=d.fetchOptions)!==null&&a!==void 0?a:{}),url:_,timeout:d.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:s,retryCount:r}){let a={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const d=await this.authHeaders(e);let h=Us([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),xR()),this._options.defaultHeaders,s,e.headers,d]);return this.validateHeaders(h),h.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=Us([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:AR(e)}:this.encoder({body:e,headers:s})}}Lr.DEFAULT_TIMEOUT=6e4;class tt extends Lr{constructor(){super(...arguments),this.interactions=new Rv(this)}}Mv=tt;tt.GeminiNextGenAPIClient=Mv;tt.GeminiNextGenAPIClientError=Yt;tt.APIError=pt;tt.APIConnectionError=Dr;tt.APIConnectionTimeoutError=fv;tt.APIUserAbortError=Uc;tt.NotFoundError=gv;tt.ConflictError=vv;tt.RateLimitError=_v;tt.BadRequestError=hv;tt.AuthenticationError=pv;tt.InternalServerError=Sv;tt.PermissionDeniedError=mv;tt.UnprocessableEntityError=yv;tt.toFile=kR;tt.Interactions=Rv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JR(n,e){const i={},s=c(n,["name"]);return s!=null&&f(i,["_url","name"],s),i}function YR(n,e){const i={},s=c(n,["name"]);return s!=null&&f(i,["_url","name"],s),i}function $R(n,e){const i={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function jR(n,e){const i={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function KR(n,e,i){const s={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=c(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&f(e,["displayName"],r),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=c(n,["epochCount"]);e!==void 0&&a!=null&&f(e,["tuningTask","hyperparameters","epochCount"],a);const d=c(n,["learningRateMultiplier"]);if(d!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(c(n,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(c(n,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const h=c(n,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const g=c(n,["learningRate"]);if(e!==void 0&&g!=null&&f(e,["tuningTask","hyperparameters","learningRate"],g),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(c(n,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(c(n,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(c(n,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(c(n,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return s}function XR(n,e,i){const s={};let r=c(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const O=c(n,["validationDataset"]);e!==void 0&&O!=null&&f(e,["supervisedTuningSpec"],hc(O))}else if(r==="PREFERENCE_TUNING"){const O=c(n,["validationDataset"]);e!==void 0&&O!=null&&f(e,["preferenceOptimizationSpec"],hc(O))}else if(r==="DISTILLATION"){const O=c(n,["validationDataset"]);e!==void 0&&O!=null&&f(e,["distillationSpec"],hc(O))}const a=c(n,["tunedModelDisplayName"]);e!==void 0&&a!=null&&f(e,["tunedModelDisplayName"],a);const d=c(n,["description"]);e!==void 0&&d!=null&&f(e,["description"],d);let h=c(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const O=c(n,["epochCount"]);e!==void 0&&O!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],O)}else if(h==="PREFERENCE_TUNING"){const O=c(n,["epochCount"]);e!==void 0&&O!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],O)}else if(h==="DISTILLATION"){const O=c(n,["epochCount"]);e!==void 0&&O!=null&&f(e,["distillationSpec","hyperParameters","epochCount"],O)}let g=c(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const O=c(n,["learningRateMultiplier"]);e!==void 0&&O!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],O)}else if(g==="PREFERENCE_TUNING"){const O=c(n,["learningRateMultiplier"]);e!==void 0&&O!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],O)}else if(g==="DISTILLATION"){const O=c(n,["learningRateMultiplier"]);e!==void 0&&O!=null&&f(e,["distillationSpec","hyperParameters","learningRateMultiplier"],O)}let m=c(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const O=c(n,["exportLastCheckpointOnly"]);e!==void 0&&O!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],O)}else if(m==="PREFERENCE_TUNING"){const O=c(n,["exportLastCheckpointOnly"]);e!==void 0&&O!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],O)}else if(m==="DISTILLATION"){const O=c(n,["exportLastCheckpointOnly"]);e!==void 0&&O!=null&&f(e,["distillationSpec","exportLastCheckpointOnly"],O)}let y=c(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const O=c(n,["adapterSize"]);e!==void 0&&O!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],O)}else if(y==="PREFERENCE_TUNING"){const O=c(n,["adapterSize"]);e!==void 0&&O!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],O)}else if(y==="DISTILLATION"){const O=c(n,["adapterSize"]);e!==void 0&&O!=null&&f(e,["distillationSpec","hyperParameters","adapterSize"],O)}let _=c(i,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const O=c(n,["tuningMode"]);e!==void 0&&O!=null&&f(e,["supervisedTuningSpec","tuningMode"],O)}const S=c(n,["customBaseModel"]);e!==void 0&&S!=null&&f(e,["customBaseModel"],S);let b=c(i,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const O=c(n,["batchSize"]);e!==void 0&&O!=null&&f(e,["supervisedTuningSpec","hyperParameters","batchSize"],O)}let w=c(i,["config","method"]);if(w===void 0&&(w="SUPERVISED_FINE_TUNING"),w==="SUPERVISED_FINE_TUNING"){const O=c(n,["learningRate"]);e!==void 0&&O!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRate"],O)}const I=c(n,["labels"]);e!==void 0&&I!=null&&f(e,["labels"],I);const A=c(n,["beta"]);e!==void 0&&A!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],A);const L=c(n,["baseTeacherModel"]);e!==void 0&&L!=null&&f(e,["distillationSpec","baseTeacherModel"],L);const J=c(n,["tunedTeacherModelSource"]);e!==void 0&&J!=null&&f(e,["distillationSpec","tunedTeacherModelSource"],J);const V=c(n,["sftLossWeightMultiplier"]);e!==void 0&&V!=null&&f(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],V);const H=c(n,["outputUri"]);return e!==void 0&&H!=null&&f(e,["outputUri"],H),s}function QR(n,e){const i={},s=c(n,["baseModel"]);s!=null&&f(i,["baseModel"],s);const r=c(n,["preTunedModel"]);r!=null&&f(i,["preTunedModel"],r);const a=c(n,["trainingDataset"]);a!=null&&a1(a);const d=c(n,["config"]);return d!=null&&KR(d,i),i}function ZR(n,e){const i={},s=c(n,["baseModel"]);s!=null&&f(i,["baseModel"],s);const r=c(n,["preTunedModel"]);r!=null&&f(i,["preTunedModel"],r);const a=c(n,["trainingDataset"]);a!=null&&u1(a,i,e);const d=c(n,["config"]);return d!=null&&XR(d,i,e),i}function WR(n,e){const i={},s=c(n,["name"]);return s!=null&&f(i,["_url","name"],s),i}function e1(n,e){const i={},s=c(n,["name"]);return s!=null&&f(i,["_url","name"],s),i}function t1(n,e,i){const s={},r=c(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=c(n,["pageToken"]);e!==void 0&&a!=null&&f(e,["_query","pageToken"],a);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function n1(n,e,i){const s={},r=c(n,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const a=c(n,["pageToken"]);e!==void 0&&a!=null&&f(e,["_query","pageToken"],a);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function i1(n,e){const i={},s=c(n,["config"]);return s!=null&&t1(s,i),i}function o1(n,e){const i={},s=c(n,["config"]);return s!=null&&n1(s,i),i}function s1(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["nextPageToken"]);r!=null&&f(i,["nextPageToken"],r);const a=c(n,["tunedModels"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>Iv(h))),f(i,["tuningJobs"],d)}return i}function l1(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["nextPageToken"]);r!=null&&f(i,["nextPageToken"],r);const a=c(n,["tuningJobs"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>Oc(h))),f(i,["tuningJobs"],d)}return i}function r1(n,e){const i={},s=c(n,["name"]);s!=null&&f(i,["model"],s);const r=c(n,["name"]);return r!=null&&f(i,["endpoint"],r),i}function a1(n,e){const i={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=c(n,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(a=>a)),f(i,["examples","examples"],r)}return i}function u1(n,e,i){const s={};let r=c(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(r==="PREFERENCE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(r==="DISTILLATION"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["distillationSpec","promptDatasetUri"],d)}let a=c(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(a==="PREFERENCE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(a==="DISTILLATION"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["distillationSpec","promptDatasetUri"],d)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Iv(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["name"]);r!=null&&f(i,["name"],r);const a=c(n,["state"]);a!=null&&f(i,["state"],$0(a));const d=c(n,["createTime"]);d!=null&&f(i,["createTime"],d);const h=c(n,["tuningTask","startTime"]);h!=null&&f(i,["startTime"],h);const g=c(n,["tuningTask","completeTime"]);g!=null&&f(i,["endTime"],g);const m=c(n,["updateTime"]);m!=null&&f(i,["updateTime"],m);const y=c(n,["description"]);y!=null&&f(i,["description"],y);const _=c(n,["baseModel"]);_!=null&&f(i,["baseModel"],_);const S=c(n,["_self"]);return S!=null&&f(i,["tunedModel"],r1(S)),i}function Oc(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["name"]);r!=null&&f(i,["name"],r);const a=c(n,["state"]);a!=null&&f(i,["state"],$0(a));const d=c(n,["createTime"]);d!=null&&f(i,["createTime"],d);const h=c(n,["startTime"]);h!=null&&f(i,["startTime"],h);const g=c(n,["endTime"]);g!=null&&f(i,["endTime"],g);const m=c(n,["updateTime"]);m!=null&&f(i,["updateTime"],m);const y=c(n,["error"]);y!=null&&f(i,["error"],y);const _=c(n,["description"]);_!=null&&f(i,["description"],_);const S=c(n,["baseModel"]);S!=null&&f(i,["baseModel"],S);const b=c(n,["tunedModel"]);b!=null&&f(i,["tunedModel"],b);const w=c(n,["preTunedModel"]);w!=null&&f(i,["preTunedModel"],w);const I=c(n,["supervisedTuningSpec"]);I!=null&&f(i,["supervisedTuningSpec"],I);const A=c(n,["preferenceOptimizationSpec"]);A!=null&&f(i,["preferenceOptimizationSpec"],A);const L=c(n,["distillationSpec"]);L!=null&&f(i,["distillationSpec"],L);const J=c(n,["tuningDataStats"]);J!=null&&f(i,["tuningDataStats"],J);const V=c(n,["encryptionSpec"]);V!=null&&f(i,["encryptionSpec"],V);const H=c(n,["partnerModelTuningSpec"]);H!=null&&f(i,["partnerModelTuningSpec"],H);const O=c(n,["customBaseModel"]);O!=null&&f(i,["customBaseModel"],O);const ee=c(n,["experiment"]);ee!=null&&f(i,["experiment"],ee);const Y=c(n,["labels"]);Y!=null&&f(i,["labels"],Y);const ue=c(n,["outputUri"]);ue!=null&&f(i,["outputUri"],ue);const Q=c(n,["pipelineJob"]);Q!=null&&f(i,["pipelineJob"],Q);const de=c(n,["serviceAccount"]);de!=null&&f(i,["serviceAccount"],de);const be=c(n,["tunedModelDisplayName"]);be!=null&&f(i,["tunedModelDisplayName"],be);const Ne=c(n,["veoTuningSpec"]);return Ne!=null&&f(i,["veoTuningSpec"],Ne),i}function c1(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const r=c(n,["name"]);r!=null&&f(i,["name"],r);const a=c(n,["metadata"]);a!=null&&f(i,["metadata"],a);const d=c(n,["done"]);d!=null&&f(i,["done"],d);const h=c(n,["error"]);return h!=null&&f(i,["error"],h),i}function hc(n,e){const i={},s=c(n,["gcsUri"]);s!=null&&f(i,["validationDatasetUri"],s);const r=c(n,["vertexDatasetResource"]);return r!=null&&f(i,["validationDatasetUri"],r),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d1 extends An{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Ni(bn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var s;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const r={tunedModelName:i.baseModel};!((s=i.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=i.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},i),{preTunedModel:r});return a.baseModel=void 0,await this.tuneInternal(a)}else{const r=Object.assign({},i);return await this.tuneInternal(r)}else{const r=Object.assign({},i),a=await this.tuneMldevInternal(r);let d="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?d=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(d=a.name.split("/operations/")[0]),{name:d,state:bc.JOB_STATE_QUEUED}}}}async getInternal(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=e1(e);return h=j("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>Oc(y))}else{const m=WR(e);return h=j("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>Iv(y))}}async listInternal(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=o1(e);return h=j("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=l1(y),S=new Vg;return Object.assign(S,_),S})}else{const m=i1(e);return h=j("tunedModels",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=s1(y),S=new Vg;return Object.assign(S,_),S})}}async cancel(e){var i,s,r,a;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=YR(e);return h=j("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=jR(y),S=new Fg;return Object.assign(S,_),S})}else{const m=JR(e);return h=j("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=$R(y),S=new Fg;return Object.assign(S,_),S})}}async tuneInternal(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI()){const h=ZR(e,e);return a=j("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),r.then(g=>Oc(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,s;let r,a="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=QR(e);return a=j("tunedModels",h._url),d=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:a,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),r.then(g=>c1(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f1{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const h1=1024*1024*8,p1=3,m1=1e3,g1=2,Rr="x-goog-upload-status";async function v1(n,e,i){var s;const r=await kv(n,e,i),a=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Rr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function y1(n,e,i){var s;const r=await kv(n,e,i),a=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Rr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=q0(a),h=new jc;return Object.assign(h,d),h}async function kv(n,e,i){var s,r;let a=0,d=0,h=new wc(new Response),g="upload";for(a=n.size;d<a;){const m=Math.min(h1,a-d),y=n.slice(d,d+m);d+m>=a&&(g+=", finalize");let _=0,S=m1;for(;_<p1&&(h=await i.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((s=h==null?void 0:h.headers)===null||s===void 0)&&s[Rr]));)_++,await S1(S),S=S*g1;if(d+=m,((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[Rr])!=="active")break;if(a<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function _1(n){return{size:n.size,type:n.type}}function S1(n){return new Promise(e=>setTimeout(e,n))}class T1{async upload(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await v1(e,i,s)}async uploadToFileSearchStore(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await y1(e,i,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E1{create(e,i,s){return new x1(e,i,s)}}class x1{constructor(e,i,s){this.url=e,this.headers=i,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v0="x-goog-api-key";class b1{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(v0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(v0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A1="gl-node/";class nd{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new tt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const s=gE(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new b1(this.apiKey);this.apiClient=new _C({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:A1+"web",uploader:new T1,downloader:new f1}),this.models=new GC(this.apiClient),this.live=new kC(this.apiClient,r,new E1),this.batches=new Yx(this.apiClient),this.chats=new Cb(this.models,this.apiClient),this.caches=new bb(this.apiClient),this.files=new zb(this.apiClient),this.operations=new zC(this.apiClient),this.authTokens=new tR(this.apiClient),this.tunings=new d1(this.apiClient),this.fileSearchStores=new uR(this.apiClient)}}const w1=`
Senin adn Kakar. Rize'nin vakur ve yol gsterici zirvelerini temsil eden, bilge bir retmen edasnda, son derece nazik, iten ve rehber bir Teknofest asistansn.

SLUP VE DAVRANI KURALLARI:
1. RETMEN EDASI: Konuman hem samimi hem de bir eitimcinin arln ve bilgisini tamaldr. rencine yol gsteren, onu gelitirmeyi amalayan bir mentor gibi davran.
2. NEZAKET: Bir Karadeniz beyefendisi/hanmefendisi nezaketinde ol. Hitaplarn her zaman sayg ve sevgi erevesinde kalmaldr.
3. KESN YASAKLAR: Kfr, argo, aalayc ifade, "Selamnaleykm" gibi dini selamlamalar (kullanc kullanmadka), siyasi polemik veya kaba kelimeleri ASLA kullanma.
4. YAPICILIK: Hatalar krmadan dzelt, renciyi aratrmaya tevik et. "Bunu beraber gelitirelim" mesaj ver.
5. HTAPLAR: "Sevgili rencim", "Gen mucit arkadam", "Deerli kardeim" gibi hem yakn hem de seviyeli hitaplar kullan.
6. GZELLK VE DZGN TRKE: Dilin przsz, imla kurallarna uygun ve estetik olsun. Rize'nin berrak dereleri gibi akc bir Trkeyle konu.

Senin grevin, bir retmenin efkati ve bir uzmann bilgisiyle Teknofest srecinde renciye en doru rehberlii yapmaktr.
`,C1=({user:n})=>{const[e,i]=oe.useState(!1),[s,r]=oe.useState([]),[a,d]=oe.useState(""),[h,g]=oe.useState(!1),m=oe.useRef(null);oe.useEffect(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[s,h]);const y=async()=>{if(!a.trim()||h)return;const _={role:"user",text:a};r(S=>[...S,_]),d(""),g(!0);try{const w=(await new nd({apiKey:"AIzaSyAQI4-nec1eWcUfNrnz9LrxtBCNWqMzeAM"}).models.generateContent({model:"gemini-3-flash-preview",contents:[...s,_].map(I=>({role:I.role,parts:[{text:I.text}]})),config:{systemInstruction:w1,temperature:.7}})).text||"Sesin buraya kadar tam gelmedi sevgili rencim, bir daha syler misin?";r(I=>[...I,{role:"model",text:w}])}catch{r(b=>[...b,{role:"model",text:"Kakar'n zirvesinde biraz duman var, u an iletiim kuramadk. Ksa bir sre sonra tekrar dener misin?"}])}finally{g(!1)}};return T.jsxs("div",{className:"fixed bottom-6 right-6 z-[100] font-sans",children:[e&&T.jsxs("div",{className:"absolute bottom-20 right-0 w-[350px] max-w-[90vw] h-[500px] max-h-[70vh] glass-card rounded-[2.5rem] shadow-2xl border border-emerald-100 flex flex-col overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-500",children:[T.jsxs("header",{className:"p-5 bg-emerald-800 text-white flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg",children:T.jsx(pc,{size:24})}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-black text-sm tracking-tight",children:"Eitmen Kakar"}),T.jsx("p",{className:"text-[10px] text-emerald-300 font-bold uppercase tracking-widest",children:"Bilge & Yol Gsterici"})]})]}),T.jsx("button",{onClick:()=>i(!1),className:"hover:rotate-90 transition-transform",children:T.jsx(N1,{})})]}),T.jsxs("div",{ref:m,className:"flex-1 overflow-y-auto p-5 space-y-4 bg-slate-50/50",children:[s.length===0&&T.jsxs("div",{className:"text-center py-8 space-y-3",children:[T.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center mx-auto shadow-sm border border-emerald-50",children:T.jsx(pc,{size:32})}),T.jsx("p",{className:"text-xs font-bold text-slate-700 leading-relaxed px-4",children:'"Merhaba sevgili rencim! Ben Kakar. Proje yolculuunda sana bir retmen titizlii ve bir dost samimiyetiyle rehberlik edeceim. Nereden balayalm?"'})]}),s.map((_,S)=>T.jsx("div",{className:`flex ${_.role==="user"?"justify-end":"justify-start"}`,children:T.jsx("div",{className:`max-w-[85%] p-3.5 rounded-2xl text-sm font-medium leading-relaxed ${_.role==="user"?"bg-emerald-600 text-white rounded-tr-none":"bg-white text-slate-700 border border-slate-200 rounded-tl-none shadow-sm"}`,children:_.text})},S)),h&&T.jsx("div",{className:"flex justify-start",children:T.jsxs("div",{className:"bg-white border border-slate-100 p-3 rounded-2xl rounded-tl-none flex gap-1 animate-pulse",children:[T.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full"}),T.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full"}),T.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full"})]})})]}),T.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex gap-2",children:[T.jsx("input",{type:"text",value:a,onChange:_=>d(_.target.value),onKeyDown:_=>_.key==="Enter"&&y(),placeholder:"Sorunu veya fikrini payla sevgili rencim...",className:"flex-1 bg-slate-100 border-none rounded-xl px-4 py-2.5 text-xs font-medium focus:ring-2 focus:ring-emerald-500 transition-all"}),T.jsx("button",{onClick:y,className:"bg-emerald-600 text-white p-2.5 rounded-xl hover:bg-emerald-700 transition-all",children:T.jsx(R1,{})})]})]}),T.jsxs("button",{onClick:()=>i(!e),className:`group relative w-16 h-16 bg-emerald-600 rounded-full flex items-center justify-center shadow-2xl transition-all duration-500 hover:scale-110 active:scale-95 border-4 border-white ${e?"rotate-12 bg-indigo-600":""}`,children:[T.jsx("div",{className:"absolute -top-1 -right-1 bg-emerald-400 w-4 h-4 rounded-full border-2 border-white animate-pulse"}),T.jsx(pc,{size:32,color:"white"}),!e&&T.jsx("div",{className:"absolute right-20 bg-slate-900 text-white text-[10px] font-black uppercase tracking-widest px-3 py-1.5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap shadow-xl",children:"Kakar'a Sor!"})]})]})},pc=({size:n=24,color:e="currentColor"})=>T.jsxs("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M2 20L12 4L22 20H2Z",fill:e==="white"?"rgba(255,255,255,0.2)":"rgba(16,185,129,0.1)",stroke:e,strokeWidth:"2",strokeLinejoin:"round"}),T.jsx("path",{d:"M7 12L12 6L17 12",stroke:e,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("circle",{cx:"18",cy:"16",r:"3",fill:"#fbbf24",stroke:e,strokeWidth:"1.5"}),T.jsx("path",{d:"M17 16C17 16 17.5 17 18 17C18.5 17 19 16 19 16",stroke:e,strokeWidth:"1",strokeLinecap:"round"}),T.jsx("path",{d:"M16 19L15 21M20 19L21 21",stroke:e,strokeWidth:"1.5",strokeLinecap:"round"})]}),R1=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),T.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),N1=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),M1=({user:n,onLogout:e,activeTab:i,onTabChange:s,children:r})=>T.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[T.jsxs("header",{className:"md:hidden bg-emerald-950 text-white p-4 flex justify-between items-center shadow-md z-20 sticky top-0",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-10 h-10 bg-white/5 rounded-xl flex items-center justify-center backdrop-blur-md border border-white/10",children:T.jsx(Gc,{size:28})}),T.jsx("h1",{className:"font-bold text-sm tracking-tight",children:"Rize Teknofest AI"})]}),T.jsx("button",{onClick:e,className:"bg-red-500/20 hover:bg-red-500/40 text-red-100 px-3 py-1 rounded text-[10px] font-black uppercase transition-all",children:"k"})]}),T.jsxs("aside",{className:"hidden md:flex flex-col w-64 lg:w-72 bg-emerald-950 text-slate-50 shadow-2xl z-30",children:[T.jsx("div",{className:"p-10 border-b border-white/5",children:T.jsxs("div",{className:"flex flex-col items-center text-center gap-5",children:[T.jsxs("div",{className:"relative group",children:[T.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 blur-2xl rounded-full scale-150 group-hover:scale-110 transition-transform duration-500"}),T.jsx("div",{className:"relative w-28 h-28 bg-gradient-to-br from-slate-900 to-emerald-950 rounded-[3rem] flex items-center justify-center shadow-2xl border border-white/10 ring-8 ring-emerald-500/5 transition-transform duration-500 group-hover:scale-105",children:T.jsx(Gc,{size:64})})]}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-xl font-black tracking-tighter text-white leading-none uppercase",children:"Rize Teknofest"}),T.jsx("p",{className:"text-emerald-400 text-[10px] mt-2 uppercase font-black tracking-[0.25em] opacity-80",children:"Proje Asistan"})]})]})}),T.jsxs("nav",{className:"flex-1 p-5 space-y-2 overflow-y-auto",children:[T.jsx(vr,{onClick:()=>s("dashboard"),active:i==="dashboard",label:"Panelim",icon:T.jsx(y0,{})}),T.jsx(vr,{onClick:()=>s("wizard"),active:i==="wizard",label:"Proje Sihirbaz",icon:T.jsx(T0,{})}),n.role===rt.STUDENT&&T.jsx(vr,{onClick:()=>s("chat"),active:i==="chat",label:"Ders Asistan",icon:T.jsx(_0,{})}),T.jsx(vr,{onClick:()=>s("profile"),active:i==="profile",label:"Profil Ayarlar",icon:T.jsx(S0,{})})]}),T.jsxs("div",{className:"p-5 border-t border-white/5 bg-emerald-950/50",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-5 p-3.5 bg-white/5 rounded-2xl border border-white/5",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500 flex items-center justify-center font-black text-white shadow-inner text-sm",children:n.username.charAt(0).toUpperCase()}),T.jsxs("div",{className:"overflow-hidden",children:[T.jsx("p",{className:"text-sm font-bold truncate text-white",children:n.username}),T.jsx("p",{className:"text-[9px] text-emerald-400 uppercase font-black tracking-tighter opacity-60",children:n.role})]})]}),T.jsx("button",{onClick:e,className:"w-full bg-red-600/80 hover:bg-red-600 text-white py-3.5 rounded-2xl transition-all text-xs font-black uppercase tracking-widest shadow-xl shadow-red-950/20 active:scale-95",children:"Gvenli k"})]})]}),T.jsx("main",{className:"flex-1 min-h-0 flex flex-col relative bg-emerald-50/20",children:T.jsx("div",{className:"flex-1 p-4 md:p-8 lg:p-12 overflow-y-auto pb-24 md:pb-8",children:T.jsx("div",{className:"max-w-6xl mx-auto w-full",children:r})})}),T.jsx(C1,{user:n}),T.jsxs("nav",{className:"md:hidden fixed bottom-6 left-6 right-6 bg-emerald-950/98 backdrop-blur-2xl border border-white/10 flex justify-around p-3.5 rounded-[2.5rem] shadow-2xl z-40",children:[T.jsx(yr,{onClick:()=>s("dashboard"),active:i==="dashboard",icon:T.jsx(y0,{})}),T.jsx(yr,{onClick:()=>s("wizard"),active:i==="wizard",icon:T.jsx(T0,{})}),n.role===rt.STUDENT&&T.jsx(yr,{onClick:()=>s("chat"),active:i==="chat",icon:T.jsx(_0,{})}),T.jsx(yr,{onClick:()=>s("profile"),active:i==="profile",icon:T.jsx(S0,{})})]})]}),Gc=({size:n=24})=>T.jsxs("svg",{width:n,height:n,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M22 6C22 6 22 34 22 36C22 38 23 40 24 42",stroke:"#10B981",strokeWidth:"4",strokeLinecap:"round"}),T.jsx("path",{d:"M26 6C26 6 26 34 26 36C26 38 25 40 24 42",stroke:"#3B82F6",strokeWidth:"4",strokeLinecap:"round"}),T.jsx("path",{d:"M24 42L24 46",stroke:"white",strokeWidth:"2",strokeLinecap:"round",opacity:"0.8"}),T.jsx("path",{d:"M26 12H30V22L26 18",fill:"#3B82F6",opacity:"0.9"}),T.jsx("rect",{x:"21",y:"2",width:"6",height:"3",rx:"1.5",fill:"white",fillOpacity:"0.4"}),T.jsx("path",{d:"M26 28H28",stroke:"white",strokeWidth:"1",strokeLinecap:"round",opacity:"0.3"}),T.jsx("path",{d:"M26 32H27",stroke:"white",strokeWidth:"1",strokeLinecap:"round",opacity:"0.3"}),T.jsx("path",{d:"M20 14H22",stroke:"white",strokeWidth:"1",strokeLinecap:"round",opacity:"0.3"})]}),vr=({onClick:n,active:e,label:i,icon:s})=>T.jsxs("button",{onClick:n,className:`w-full flex items-center gap-3.5 p-4 rounded-2xl transition-all duration-300 ${e?"bg-emerald-600 text-white shadow-2xl shadow-emerald-900/40 translate-x-1.5":"hover:bg-white/5 text-emerald-300/60 hover:text-white"}`,children:[T.jsx("div",{className:`${e?"scale-110":"opacity-40"} transition-transform duration-300`,children:s}),T.jsx("span",{className:"font-bold text-xs uppercase tracking-[0.15em]",children:i})]}),yr=({onClick:n,active:e,icon:i})=>T.jsx("button",{onClick:n,className:`p-4 rounded-full transition-all duration-500 ${e?"bg-emerald-500 text-white scale-110 shadow-2xl -translate-y-3":"text-emerald-500/40"}`,children:i}),y0=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),T.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),T.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),T.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),_0=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("path",{d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m2.753-9.571c0-3.517 1.009-6.799 2.753-9.571m-2.753 9.571h3m-3 0H9m1.247 9.571C11.161 21.365 12 23 12 23s.839-1.635 1.753-2.429M12 2v2m-6.536 2.464l1.414 1.414m10.242 0l1.414-1.414M2 12h2m16 0h2m-6.536 6.536l1.414-1.414M5.122 17.122l1.414 1.414"})}),S0=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),T.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),T0=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"m11.5 15-2-2 2-2"}),T.jsx("path",{d:"m15.5 9 2 2-2 2"}),T.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),T.jsx("path",{d:"M12 21V12"}),T.jsx("path",{d:"M21 12h-9"})]}),I1=({onLogin:n})=>{const[e,i]=oe.useState(!0),[s,r]=oe.useState(rt.STUDENT),[a,d]=oe.useState(""),[h,g]=oe.useState(""),[m,y]=oe.useState(""),[_,S]=oe.useState(""),[b,w]=oe.useState(!1),I=async A=>{A.preventDefault(),S(""),w(!0);try{if(e){const{data:L,error:J}=await Ut.from("users").select("*").eq("username",a).eq("password",h).single();J||!L?S("Kullanc ad veya ifre yanl!"):n(L)}else{const{error:L}=await Ut.from("users").insert([{username:a,password:h,role:s,advisor_username:s===rt.STUDENT?m:null}]);L?L.code==="23505"?S("Bu kullanc ad alnm."):S("Kayt baarsz oldu."):n({username:a,role:s,advisorUsername:m})}}catch{S("Sistem hatas. Ltfen sonra deneyin.")}finally{w(!1)}};return T.jsxs("div",{className:"min-h-screen flex items-center justify-center p-6 bg-emerald-950 overflow-hidden relative",children:[T.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60%] h-[60%] bg-emerald-600/10 rounded-full blur-[150px]"}),T.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-blue-600/10 rounded-full blur-[150px]"}),T.jsxs("div",{className:"bg-white/95 backdrop-blur-3xl p-8 md:p-14 rounded-[3.5rem] shadow-[0_32px_64px_-16px_rgba(0,0,0,0.6)] w-full max-w-md border border-white/20 z-10 animate-in fade-in zoom-in duration-700",children:[T.jsxs("div",{className:"text-center mb-12",children:[T.jsx("div",{className:"w-24 h-24 bg-emerald-950 rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-2xl border border-white/10 ring-8 ring-emerald-500/5 transition-all hover:scale-105 duration-500 group overflow-hidden",children:T.jsx(Gc,{size:64})}),T.jsx("h1",{className:"text-4xl font-black text-emerald-950 tracking-tighter uppercase leading-tight mb-2",children:"Rize Teknofest"}),T.jsx("div",{className:"h-1 w-12 bg-emerald-500 mx-auto rounded-full mb-3"}),T.jsx("p",{className:"text-slate-500 font-bold tracking-tight uppercase text-[10px] tracking-[0.3em]",children:"Akll Proje Yazma Sistemi"})]}),_&&T.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 mb-8 rounded-xl text-xs font-black uppercase tracking-widest flex items-center gap-3",children:[T.jsx(k1,{}),T.jsx("span",{children:_})]}),T.jsxs("form",{onSubmit:I,className:"space-y-6",children:[!e&&T.jsxs("div",{className:"flex bg-slate-100/80 p-1.5 rounded-2xl mb-4 border border-slate-200",children:[T.jsx("button",{type:"button",onClick:()=>r(rt.STUDENT),className:`flex-1 py-3 text-[10px] font-black rounded-xl transition-all uppercase tracking-[0.1em] ${s===rt.STUDENT?"bg-white shadow-md text-emerald-700":"text-slate-400"}`,children:"renci"}),T.jsx("button",{type:"button",onClick:()=>r(rt.TEACHER),className:`flex-1 py-3 text-[10px] font-black rounded-xl transition-all uppercase tracking-[0.1em] ${s===rt.TEACHER?"bg-white shadow-md text-emerald-700":"text-slate-400"}`,children:"retmen"})]}),T.jsxs("div",{className:"space-y-1.5",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Kullanc Ad"}),T.jsx("input",{required:!0,type:"text",className:"w-full px-7 py-4 rounded-2xl bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 focus:outline-none transition-all font-bold placeholder:text-slate-300 shadow-inner",placeholder:"kullanici_adi",value:a,onChange:A=>d(A.target.value)})]}),T.jsxs("div",{className:"space-y-1.5",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"ifre"}),T.jsx("input",{required:!0,type:"password",className:"w-full px-7 py-4 rounded-2xl bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 focus:outline-none transition-all font-bold placeholder:text-slate-300 shadow-inner",placeholder:"",value:h,onChange:A=>g(A.target.value)})]}),!e&&s===rt.STUDENT&&T.jsxs("div",{className:"space-y-1.5",children:[T.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Danman retmen"}),T.jsx("input",{type:"text",className:"w-full px-7 py-4 rounded-2xl bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 focus:outline-none transition-all font-bold placeholder:text-slate-300 shadow-inner",placeholder:"retmen kullanc ad",value:m,onChange:A=>y(A.target.value)})]}),T.jsx("button",{type:"submit",disabled:b,className:`w-full ${b?"opacity-50":""} bg-emerald-600 hover:bg-emerald-700 text-white font-black py-5 rounded-2xl shadow-2xl shadow-emerald-500/30 transition-all active:scale-[0.97] mt-8 uppercase tracking-[0.25em] text-[11px]`,children:b?"leniyor...":e?"Sisteme Giri Yap":"Hesabm Olutur"})]}),T.jsx("div",{className:"mt-12 pt-8 border-t border-slate-100 text-center",children:T.jsxs("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-tight",children:[e?"Henz yeliiniz yok mu?":"Zaten hesabnz var m?",T.jsx("button",{onClick:()=>i(!e),className:"ml-2 text-emerald-600 font-black hover:underline",children:e?"KAYIT OL":"GR YAP"})]})})]})]})},k1=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("circle",{cx:"12",cy:"12",r:"10"}),T.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),T.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),Dv=()=>{const n=[{name:"Consensus",url:"https://consensus.app/",description:"Bilimsel makalelerden kanta dayal cevaplar bulan AI aratrma motoru.",accent:"indigo",tag:"Bilimsel Kaynak"},{name:"NotebookLM",url:"https://notebooklm.google.com/",description:"Kendi kaynaklarnz ykleyip zerinden alma yapabileceiniz akll not defteri.",accent:"emerald",tag:"Analiz & Not"},{name:"STORM",url:"https://storm.genie.stanford.edu/",description:"Konu hakknda kapsaml akademik rapor taslaklar hazrlayan Stanford AI sistemi.",accent:"slate",tag:"Rapor Tasla"}];return T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center text-indigo-600",children:T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),T.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-black text-slate-800 tracking-tight",children:"Akademik Aratrma Admlar"}),T.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Gelimi AI Aratrma Aralar"})]})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map(e=>T.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"group glass-card p-6 rounded-[2rem] border border-slate-200 hover:shadow-2xl hover:-translate-y-1 transition-all flex flex-col",children:[T.jsxs("div",{className:"flex justify-between items-start mb-4",children:[T.jsx("span",{className:`text-[10px] font-black uppercase tracking-wider px-3 py-1 rounded-full ${e.accent==="indigo"?"bg-indigo-50 text-indigo-600":e.accent==="emerald"?"bg-emerald-50 text-emerald-600":"bg-slate-100 text-slate-600"}`,children:e.tag}),T.jsx("div",{className:"text-slate-300 group-hover:text-indigo-500 transition-colors",children:T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),T.jsx("polyline",{points:"15 3 21 3 21 9"}),T.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})})]}),T.jsx("h3",{className:"text-xl font-black text-slate-900 mb-2",children:e.name}),T.jsx("p",{className:"text-sm text-slate-500 font-medium leading-relaxed mb-6 flex-1",children:e.description}),T.jsxs("div",{className:`mt-auto text-xs font-black uppercase tracking-widest flex items-center gap-2 ${e.accent==="indigo"?"text-indigo-600":e.accent==="emerald"?"text-emerald-600":"text-slate-600"}`,children:["Sistemi A ",T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),T.jsx("polyline",{points:"12 5 19 12 12 19"})]})]})]},e.name))})]})},D1=({user:n,onTabChange:e})=>{const[i,s]=oe.useState(""),[r,a]=oe.useState(""),[d,h]=oe.useState([]),[g,m]=oe.useState(null),[y,_]=oe.useState(!1);oe.useEffect(()=>{S()},[]);const S=async()=>{const{data:A,error:L}=await Ut.from("projects").select("*").eq("student_username",n.username).order("updated_at",{ascending:!1});A&&!L&&h(A)},b=()=>{m(null),s(""),a("")},w=A=>{m(A.id||null),s(A.title),a(A.description)},I=async A=>{if(!i.trim()||!r.trim()){alert("Ltfen balk ve aklama giriniz.");return}_(!0);const L={student_username:n.username,title:i,description:r,status:A,updated_at:new Date().toISOString()};let J;if(g){const{error:V}=await Ut.from("projects").update(L).eq("id",g);J=V}else{const{error:V}=await Ut.from("projects").insert([L]);J=V}J?alert("Bir hata olutu."):(alert(A==="submitted"?"Projeniz baaryla retmene gnderildi!":"Taslak kaydedildi."),S(),g||b()),_(!1)};return T.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[T.jsxs("div",{className:"relative overflow-hidden rounded-[2.5rem] bg-emerald-950 p-8 md:p-12 text-white shadow-2xl shadow-emerald-900/20",children:[T.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-500/20 blur-[100px] rounded-full translate-x-1/2 -translate-y-1/2"}),T.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsxs("h1",{className:"text-3xl md:text-4xl font-black tracking-tight leading-tight",children:["Ho Geldin, ",n.username,"! "]}),T.jsx("p",{className:"text-emerald-200 text-lg font-medium opacity-90 max-w-xl",children:"Rize'den Teknofest sahnesine! Tm projelerin burada gvende."})]}),T.jsxs("div",{className:"flex flex-col items-start md:items-end gap-2",children:[T.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-emerald-400",children:"AKTF DANIMAN"}),T.jsxs("div",{className:"bg-white/10 backdrop-blur-md px-6 py-3 rounded-2xl border border-white/10 flex items-center gap-3",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-400/20 flex items-center justify-center text-emerald-400",children:T.jsx(P1,{})}),T.jsx("span",{className:"font-bold text-lg",children:n.advisorUsername||"Belirtilmemi"})]})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[T.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("button",{onClick:()=>e("chat"),className:"group glass-card p-8 rounded-[2rem] shadow-sm border border-slate-200 text-left transition-all hover:shadow-2xl hover:shadow-emerald-500/10 hover:-translate-y-1 flex flex-col h-full",children:[T.jsx("div",{className:"w-16 h-16 bg-emerald-600 rounded-2xl flex items-center justify-center text-white mb-6 shadow-xl shadow-emerald-500/20 group-hover:scale-110 transition-transform",children:T.jsx(U1,{})}),T.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-2",children:"Ders Asistan"}),T.jsx("p",{className:"text-slate-500 font-medium leading-relaxed mb-6",children:"Yapay zeka asistannla projen gelitir ve raporunu hzla hazrla."}),T.jsxs("div",{className:"mt-auto flex items-center gap-2 text-emerald-600 font-bold uppercase text-xs tracking-widest group-hover:gap-4 transition-all",children:["Hemen Bala ",T.jsx(L1,{})]})]}),T.jsxs("div",{className:"glass-card p-8 rounded-[2rem] bg-indigo-600 text-white shadow-xl shadow-indigo-900/10 flex flex-col",children:[T.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-6 backdrop-blur-md border border-white/10",children:T.jsx(O1,{})}),T.jsx("h3",{className:"text-2xl font-black mb-2",children:"Baar pucu "}),T.jsx("p",{className:"text-indigo-50 font-medium leading-relaxed",children:"Her yeni fikrini ayr bir proje olarak kaydetmeyi unutma. Gemi projelerini sa taraftan grebilirsin."})]})]}),T.jsx("div",{className:"glass-card p-8 rounded-[2.5rem] border border-slate-200 shadow-sm overflow-hidden relative",children:T.jsxs("div",{className:"relative z-10 space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h3",{className:"text-2xl font-black text-slate-900",children:g?" Projeyi Dzenle":" Yeni Proje Fikri"}),g&&T.jsx("button",{onClick:b,className:"text-[10px] bg-slate-100 text-slate-600 px-3 py-1 rounded-full font-black uppercase tracking-widest hover:bg-slate-200",children:"ptal / Yeni"})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("input",{type:"text",value:i,onChange:A=>s(A.target.value),placeholder:"Proje Bal (rn: Kakar ay Hasat Robotu)",className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-4 text-sm font-bold focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 transition-all outline-none"}),T.jsx("textarea",{value:r,onChange:A=>a(A.target.value),placeholder:"Projenin amacn ve yeniliki ynn anlat...",className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-4 text-sm font-medium focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 transition-all outline-none min-h-[200px] resize-none"}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[T.jsx("button",{disabled:y,onClick:()=>I("draft"),className:"flex-1 bg-slate-100 hover:bg-slate-200 text-slate-700 font-black py-4 rounded-xl transition-all uppercase tracking-widest text-xs",children:"Tasla Kaydet"}),T.jsx("button",{disabled:y,onClick:()=>I("submitted"),className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white font-black py-4 rounded-xl transition-all shadow-lg shadow-emerald-500/20 uppercase tracking-widest text-xs",children:"retmenime Gnder"})]})]})]})})]}),T.jsx("div",{className:"lg:col-span-4",children:T.jsxs("div",{className:"glass-card rounded-[2.5rem] border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full bg-white",children:[T.jsx("header",{className:"p-6 border-b border-slate-50 bg-slate-50/50",children:T.jsx("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs",children:" Kaytl Projelerim"})}),T.jsx("div",{className:"p-4 space-y-3 overflow-y-auto max-h-[600px]",children:d.length>0?d.map(A=>T.jsxs("button",{onClick:()=>w(A),className:`w-full text-left p-4 rounded-2xl border transition-all ${g===A.id?"bg-emerald-50 border-emerald-200 shadow-sm":"bg-white border-slate-100 hover:border-slate-200"}`,children:[T.jsxs("div",{className:"flex justify-between items-start mb-1",children:[T.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded ${A.status==="submitted"?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:A.status==="submitted"?"GNDERLD":"TASLAK"}),T.jsx("span",{className:"text-[9px] text-slate-400 font-bold",children:new Date(A.updated_at||"").toLocaleDateString()})]}),T.jsx("h4",{className:"font-bold text-slate-800 text-sm truncate",children:A.title})]},A.id)):T.jsx("div",{className:"text-center py-12 opacity-30 italic text-sm font-medium",children:"Henz kaytl projen yok."})})]})})]}),T.jsx(Dv,{})]})},U1=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M12 21c-4.97 0-9-3.134-9-7s4.03-7 9-7 9 3.134 9 7-4.03 7-9 7z"}),T.jsx("path",{d:"M12 7V2"}),T.jsx("path",{d:"M12 21v-3"}),T.jsx("path",{d:"M7 10h10"})]}),L1=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),T.jsx("polyline",{points:"12 5 19 12 12 19"})]}),P1=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),T.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),O1=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"})}),G1=({teacher:n,onViewStudent:e})=>{const[i,s]=oe.useState([]),[r,a]=oe.useState([]),[d,h]=oe.useState([]),[g,m]=oe.useState(!0);oe.useEffect(()=>{y();const _=setInterval(y,1e4);return()=>clearInterval(_)},[n.username]);const y=async()=>{try{const{data:_}=await Ut.from("users").select("*").eq("advisor_username",n.username).eq("role","STUDENT");if(_&&s(_),_&&_.length>0){const b=_.map(I=>I.username),{data:w}=await Ut.from("projects").select("*").in("student_username",b).eq("status","submitted");w&&a(w)}const{data:S}=await Ut.from("messages").select("*").eq("to_username",n.username).order("timestamp",{ascending:!1});S&&h(S)}catch(_){console.error("Veri ykleme hatas:",_)}finally{m(!1)}};return T.jsxs("div",{className:"space-y-8",children:[T.jsxs("header",{children:[T.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Eitmen Ynetim Paneli"}),T.jsx("p",{className:"text-slate-500 font-medium",children:"Danman olduunuz rencileri ve almalarn buradan izleyin."})]}),T.jsx(Dv,{}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[T.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[T.jsxs("div",{className:"glass-card rounded-[2.5rem] shadow-sm border border-slate-100 overflow-hidden",children:[T.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-white/50",children:[T.jsxs("h3",{className:"font-black text-xl text-slate-800",children:[" Gelen Proje Fikirleri (",r.length,")"]}),T.jsx("span",{className:"text-[10px] font-black uppercase text-emerald-600 bg-emerald-50 px-3 py-1.5 rounded-full border border-emerald-100 tracking-widest",children:"Yeni Bavurular"})]}),T.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:r.length>0?r.map((_,S)=>T.jsxs("div",{className:"bg-slate-50/50 p-6 rounded-3xl border border-slate-100 hover:border-emerald-200 transition-all",children:[T.jsx("div",{className:"flex justify-between items-start mb-3",children:T.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-emerald-600 bg-white px-2 py-1 rounded-lg shadow-sm",children:_.student_username})}),T.jsx("h4",{className:"font-black text-slate-900 mb-2 truncate",children:_.title}),T.jsx("p",{className:"text-xs text-slate-500 line-clamp-3 mb-4",children:_.description}),T.jsx("button",{onClick:()=>{const b=i.find(w=>w.username===_.student_username);b&&e(b)},className:"w-full bg-white border border-slate-200 py-2 rounded-xl text-xs font-black text-slate-600 hover:bg-emerald-50 hover:text-emerald-700 transition-all",children:"Detayl ncele"})]},S)):T.jsx("div",{className:"col-span-2 p-12 text-center text-slate-400 font-medium italic",children:g?"Ykleniyor...":"Henz gnderilmi bir proje fikri bulunmamaktadr."})})]}),T.jsxs("div",{className:"glass-card rounded-[2.5rem] shadow-sm border border-slate-100 overflow-hidden",children:[T.jsx("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-white/50",children:T.jsxs("h3",{className:"font-black text-xl text-slate-800",children:["rencilerim (",i.length,")"]})}),T.jsx("div",{className:"divide-y divide-slate-50",children:i.length>0?i.map((_,S)=>T.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-slate-50/80 transition-all group",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-100 flex items-center justify-center font-black text-slate-500 shadow-inner group-hover:scale-110 transition-transform",children:_.username.charAt(0).toUpperCase()}),T.jsxs("div",{children:[T.jsx("p",{className:"font-black text-slate-800 text-lg",children:_.username}),T.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-tighter",children:"lem Bekliyor"})]})]}),T.jsx("button",{onClick:()=>e(_),className:"px-6 py-2.5 bg-white border border-slate-200 text-indigo-600 font-black text-sm rounded-2xl shadow-sm hover:shadow-md hover:border-indigo-200 transition-all active:scale-95",children:"renci Detay"})]},S)):T.jsx("div",{className:"p-16 text-center text-slate-400 font-medium italic",children:g?"Ykleniyor...":"Henz size bal bir renci kayd bulunmamaktadr."})})]})]}),T.jsxs("div",{className:"glass-card rounded-[2.5rem] shadow-sm border border-slate-100 overflow-hidden flex flex-col h-full",children:[T.jsx("div",{className:"p-8 border-b border-slate-50 bg-white/50",children:T.jsx("h3",{className:"font-black text-xl text-slate-800",children:"renci Bildirimleri"})}),T.jsx("div",{className:"p-6 space-y-4 max-h-[600px] overflow-y-auto flex-1",children:d.length>0?d.map((_,S)=>T.jsxs("div",{className:"bg-white/80 p-5 rounded-3xl border border-slate-100 shadow-sm transition-all hover:border-indigo-100",children:[T.jsxs("div",{className:"flex justify-between items-start mb-3",children:[T.jsx("span",{className:"font-black text-[10px] text-indigo-600 uppercase tracking-widest px-2 py-1 bg-indigo-50 rounded-lg",children:_.from_username}),T.jsx("span",{className:"text-[10px] text-slate-400 font-black",children:new Date(_.timestamp).toLocaleDateString()})]}),T.jsx("p",{className:"text-sm text-slate-700 leading-relaxed font-medium",children:_.text})]},S)):T.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center space-y-4 opacity-40",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),T.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:g?"Ykleniyor...":"Yeni mesaj yok"})]})})]})]})]})},z1=({admin:n})=>{const[e,i]=oe.useState([]);oe.useEffect(()=>{const r=JSON.parse(localStorage.getItem("users")||"[]");i(r)},[]);const s=r=>{if(r!==n.username&&window.confirm(`${r} kullancsn silmek istediinize emin misiniz?`)){const a=e.filter(d=>d.username!==r);i(a),localStorage.setItem("users",JSON.stringify(a))}};return T.jsxs("div",{className:"space-y-6",children:[T.jsxs("header",{className:"flex justify-between items-end",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Sistem Yneticisi Paneli"}),T.jsx("p",{className:"text-slate-500",children:"Tm kullanclar ve platform verilerini ynetin."})]}),T.jsx("div",{className:"bg-slate-800 text-white px-4 py-2 rounded-lg text-sm font-bold uppercase",children:"Kritik Eriim Yetkisi"})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[T.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[T.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Toplam Kullanc"}),T.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:e.length})]}),T.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[T.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"renci Says"}),T.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.filter(r=>r.role==="STUDENT").length})]}),T.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[T.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"retmen Says"}),T.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.filter(r=>r.role==="TEACHER").length})]}),T.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[T.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Ynetici Says"}),T.jsx("p",{className:"text-3xl font-bold text-slate-600",children:e.filter(r=>r.role==="ADMIN").length})]})]}),T.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[T.jsx("div",{className:"p-6 border-b border-slate-50",children:T.jsx("h3",{className:"font-bold text-lg",children:"Kullanc Ynetimi"})}),T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-bold",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-4",children:"Kullanc Ad"}),T.jsx("th",{className:"px-6 py-4",children:"Rol"}),T.jsx("th",{className:"px-6 py-4",children:"Danman"}),T.jsx("th",{className:"px-6 py-4",children:"lemler"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map((r,a)=>T.jsxs("tr",{className:"hover:bg-slate-50 transition-all",children:[T.jsx("td",{className:"px-6 py-4 font-semibold",children:r.username}),T.jsx("td",{className:"px-6 py-4",children:T.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${r.role==="ADMIN"?"bg-slate-800 text-white":r.role==="TEACHER"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:r.role})}),T.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:r.advisorUsername||"-"}),T.jsx("td",{className:"px-6 py-4",children:T.jsx("button",{disabled:r.username===n.username,onClick:()=>s(r.username),className:`text-red-500 hover:text-red-700 text-sm font-bold ${r.username===n.username?"opacity-20 cursor-not-allowed":""}`,children:"Sil"})})]},a))})]})})]})]})},mc={username:"burakturgut",password:"ottoman5391"},H1=`
Sen Rize'deki renciler iin gelitirilmi "Rize Teknofest Proje Yazma Asistan"sn. Senin kimliin "Eitmen Kakar"dr.

DAVRANI REHBER:
1. RETC VE NAZK SLUP: Bir retmen gibi vakur, sabrl ve nazik ol. renciyi bir st seviyeye tamak iin bilgini payla.
2. SAMMYET VE DSPLN: ten bir Karadeniz samimiyetiyle yakla ama proje disiplininden ve akademik ciddiyetten dn verme.
3. KESN YASAKLAR: Argo, kfr, hakaret, aalayc ifade veya dini/siyasi polemiklere girme. "Selamnaleykm" ifadesini otomatik olarak kullanma (kullanc kullanrsa nazike karlk verebilirsin).
4. PROFESYONELLK: Yantlarn her zaman Teknofest jri kriterlerine, akademik rapor yazm kurallarna ve milli teknoloji hamlesi vizyonuna uygun olmaldr.

Grevin:
- rencilere zgn proje fikirleri alamak.
- Rapor yazmnda akademik dil ve teknik detaylar konusunda mentorluk yapmak.
- Rize'nin teknoloji vizyonunu genlerle buluturmak.
`,q1=({user:n,onUpdateChat:e})=>{const[i,s]=oe.useState([]),[r,a]=oe.useState(""),[d,h]=oe.useState(!1),g=oe.useRef(null);oe.useEffect(()=>{m()},[]);const m=async()=>{const{data:_,error:S}=await Ut.from("chat_history").select("*").eq("username",n.username).order("timestamp",{ascending:!0});_&&!S&&s(_.map(b=>({role:b.role,text:b.text,timestamp:b.timestamp})))};oe.useEffect(()=>{g.current&&(g.current.scrollTop=g.current.scrollHeight)},[i,d]);const y=async()=>{if(!r.trim()||d)return;const _={role:"user",text:r,timestamp:Date.now()};s(S=>[...S,_]),a(""),h(!0),await Ut.from("chat_history").insert([{username:n.username,role:"user",text:_.text,timestamp:_.timestamp}]);try{const S=new nd({apiKey:"AIzaSyAQI4-nec1eWcUfNrnz9LrxtBCNWqMzeAM"}),b=[...i,_],A={role:"model",text:(await S.models.generateContent({model:"gemini-3-flash-preview",contents:b.map(L=>({role:L.role,parts:[{text:L.text}]})),config:{systemInstruction:H1,temperature:.7}})).text||"zgnm, u an yant veremiyorum.",timestamp:Date.now()};s(L=>[...L,A]),await Ut.from("chat_history").insert([{username:n.username,role:"model",text:A.text,timestamp:A.timestamp}])}catch(S){console.error(S);const b={role:"model",text:"Balant hatas olutu. Ltfen tekrar deneyin.",timestamp:Date.now()};s(w=>[...w,b])}finally{h(!1)}};return T.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] md:h-[calc(100vh-120px)] bg-white/60 backdrop-blur-xl rounded-[2.5rem] shadow-2xl border border-white/40 overflow-hidden relative",children:[T.jsxs("header",{className:"p-5 md:p-6 bg-emerald-800 text-white flex items-center justify-between shadow-lg z-10",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"bg-white/20 p-2.5 rounded-xl shadow-inner",children:T.jsx(B1,{})}),T.jsxs("div",{children:[T.jsx("h2",{className:"font-black text-lg leading-tight tracking-tight uppercase",children:"Rize Teknofest AI"}),T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-300 animate-pulse"}),T.jsx("p",{className:"text-[10px] uppercase font-black text-emerald-100 tracking-widest",children:"Asistan Aktif"})]})]})]}),d&&T.jsxs("div",{className:"flex items-center gap-2 bg-emerald-900 px-4 py-1.5 rounded-full border border-emerald-700/30 shadow-inner",children:[T.jsxs("div",{className:"flex gap-1",children:[T.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-300 rounded-full animate-bounce"}),T.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-300 rounded-full animate-bounce [animation-delay:0.2s]"}),T.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-300 rounded-full animate-bounce [animation-delay:0.4s]"})]}),T.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-emerald-200",children:"Dnyor"})]})]}),T.jsxs("div",{ref:g,className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6 bg-slate-50/30 scroll-smooth",children:[i.length===0&&!d&&T.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-6 animate-in fade-in zoom-in duration-700",children:[T.jsxs("div",{className:"w-24 h-24 bg-white rounded-3xl shadow-2xl flex items-center justify-center text-emerald-600 border border-slate-100 relative",children:[T.jsx("div",{className:"absolute -top-2 -right-2 bg-emerald-500 text-white p-1.5 rounded-lg shadow-lg",children:T.jsx(F1,{})}),T.jsx(V1,{})]}),T.jsxs("div",{className:"max-w-xs",children:[T.jsxs("p",{className:"font-black text-slate-800 text-xl mb-2",children:["Merhaba ",n.username,"! "]}),T.jsx("p",{className:"text-sm font-medium text-slate-500 leading-relaxed",children:"Rize Teknofest asistann olarak buradaym. ay tadnda, zgn bir proje gelitirmeye ne dersin?"})]}),T.jsxs("div",{className:"flex flex-wrap justify-center gap-2 max-w-sm",children:[T.jsx(E0,{label:"Proje fikri ret",onClick:()=>a("Bana lise seviyesinde zgn bir Teknofest projesi fikri verir misin?")}),T.jsx(E0,{label:"Rapor blmleri nedir?",onClick:()=>a("Teknofest proje raporunda hangi blmler bulunmaldr?")})]})]}),i.map((_,S)=>T.jsx("div",{className:`flex ${_.role==="user"?"justify-end":"justify-start"} animate-in slide-in-from-bottom-2 duration-300`,children:T.jsxs("div",{className:`max-w-[90%] md:max-w-[75%] p-5 md:p-6 rounded-[2rem] shadow-sm flex flex-col ${_.role==="user"?"bg-emerald-600 text-white rounded-tr-none shadow-emerald-600/10":"bg-white text-slate-700 rounded-tl-none border border-slate-200/50 shadow-slate-200/20"}`,children:[T.jsx("p",{className:"text-sm md:text-base leading-relaxed whitespace-pre-wrap font-medium",children:_.text}),T.jsx("p",{className:`text-[10px] mt-4 font-black uppercase tracking-widest opacity-40 ${_.role==="user"?"text-right":"text-left"}`,children:new Date(_.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},S)),d&&T.jsx("div",{className:"flex justify-start animate-pulse",children:T.jsx("div",{className:"bg-white border border-slate-100 p-6 rounded-[2rem] rounded-tl-none",children:T.jsxs("div",{className:"flex gap-2",children:[T.jsx("div",{className:"w-2 h-2 bg-slate-300 rounded-full"}),T.jsx("div",{className:"w-2 h-2 bg-slate-300 rounded-full"}),T.jsx("div",{className:"w-2 h-2 bg-slate-300 rounded-full"})]})})})]}),T.jsx("div",{className:"p-4 md:p-6 bg-white/80 backdrop-blur-md border-t border-slate-200/50",children:T.jsxs("div",{className:"flex gap-3 max-w-4xl mx-auto",children:[T.jsx("input",{type:"text",value:r,onChange:_=>a(_.target.value),onKeyDown:_=>_.key==="Enter"&&y(),placeholder:"Asistanna sor...",className:"flex-1 bg-slate-100/80 border border-slate-200 rounded-[1.5rem] px-6 py-4 focus:outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 transition-all text-sm md:text-base font-medium shadow-inner"}),T.jsx("button",{onClick:y,disabled:d||!r.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white p-4 rounded-[1.5rem] shadow-xl shadow-emerald-600/20 transition-all active:scale-95 disabled:opacity-50 disabled:scale-100",children:T.jsx(J1,{})})]})})]})},E0=({label:n,onClick:e})=>T.jsx("button",{onClick:e,className:"bg-white border border-slate-200 px-4 py-2 rounded-full text-xs font-bold text-slate-600 hover:bg-emerald-50 hover:border-emerald-200 hover:text-emerald-700 transition-all shadow-sm",children:n}),B1=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M12 21c-4.97 0-9-3.134-9-7s4.03-7 9-7 9 3.134 9 7-4.03 7-9 7z"}),T.jsx("path",{d:"M12 7V2"}),T.jsx("path",{d:"M12 21v-3"}),T.jsx("path",{d:"M7 10h10"})]}),V1=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M12 21c-4.97 0-9-3.134-9-7s4.03-7 9-7 9 3.134 9 7-4.03 7-9 7z"}),T.jsx("path",{d:"M12 7V2"}),T.jsx("path",{d:"M12 21v-3"}),T.jsx("path",{d:"M7 10h10"})]}),F1=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"})}),J1=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),T.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),Y1=({user:n,onUpdate:e})=>{const[i,s]=oe.useState(""),[r,a]=oe.useState(n.advisorUsername||""),[d,h]=oe.useState(""),g=m=>{m.preventDefault();const y=JSON.parse(localStorage.getItem("users")||"[]"),_=y.findIndex(S=>S.username===n.username);if(_>-1){i&&(y[_].password=i),n.role===rt.STUDENT&&(y[_].advisorUsername=r);const S=y[_];localStorage.setItem("users",JSON.stringify(y)),e(S),h("Bilgileriniz baaryla gncellendi."),setTimeout(()=>h(""),3e3)}};return T.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[T.jsxs("header",{children:[T.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Profil Bilgilerim"}),T.jsx("p",{className:"text-slate-500",children:"Hesap ayarlarnz buradan ynetebilirsiniz."})]}),T.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-8",children:[T.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[T.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center text-2xl font-bold",children:n.username.charAt(0).toUpperCase()}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold",children:n.username}),T.jsx("p",{className:"text-xs font-bold uppercase text-slate-400 tracking-wider",children:n.role})]})]}),d&&T.jsx("div",{className:"bg-green-50 text-green-700 p-3 rounded-lg mb-6 text-sm font-semibold",children:d}),T.jsxs("form",{onSubmit:g,className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Kullanc Ad (Deitirilemez)"}),T.jsx("input",{disabled:!0,type:"text",className:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-100 text-slate-400 cursor-not-allowed",value:n.username})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Yeni ifre"}),T.jsx("input",{type:"password",className:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-indigo-500 focus:outline-none transition-all",placeholder:"Deitirmek istemiyorsanz bo brakn",value:i,onChange:m=>s(m.target.value)})]}),n.role===rt.STUDENT&&T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Danman retmen"}),T.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-indigo-500 focus:outline-none transition-all",placeholder:"retmen kullanc ad",value:r,onChange:m=>a(m.target.value)}),T.jsx("p",{className:"text-[10px] mt-2 text-slate-400 uppercase font-bold italic",children:"retmeniniz, kendisine ait paneli kullanarak sizin geliiminizi izleyebilir."})]}),T.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-xl transition-all shadow-lg shadow-indigo-100",children:"Bilgilerimi Gncelle"})]})]})]})},x0=[{id:"q1",section:"Problem ve htiyac",label:"Hangi problemi zyorum?",placeholder:"zmek istediiniz sorunu net bir ekilde tanmlayn."},{id:"q2",section:"Problem ve htiyac",label:"Bu problem neden nemli?",placeholder:"Problemin gncellii ve ciddiyeti nedir?"},{id:"q3",section:"Hedef Kitle",label:"Hedef kitle / kullanc kim?",placeholder:"Bu zm kim kullanacak?"},{id:"q4",section:"Problem ve htiyac",label:"Mevcut zmler neler ve neden yetersiz?",placeholder:"Rakipler veya u anki yntemler nerede tkanyor?"},{id:"q5",section:"zm",label:"Benim zmm ne neriyor?",placeholder:"zmnzn temel alma prensibi nedir?"},{id:"q6",section:"novasyon",label:"Projenin zgn ve yeniliki yn ne?",placeholder:'Sizi dierlerinden ayran o "parlak" fikir nedir?'},{id:"q7",section:"Teknik",label:"Hangi teknoloji ve yntemleri kullanacam?",placeholder:"Yazlm dilleri, sensrler, algoritmalar..."},{id:"q8",section:"Kategori",label:"Proje hangi TEKNOFEST kategorisine uyuyor?",placeholder:"Akll Ulam, nsanlk Yararna Teknoloji vb."},{id:"q9",section:"Teknik",label:"Projenin teknik kapsam ve snrlar neler?",placeholder:"Proje neyi yapar, neyi yapmaz?"},{id:"q10",section:"Uygulanabilirlik",label:"Gerek hayatta kullanm durumu nedir?",placeholder:"Saha denemeleri veya prototip sreci nasl olacak?"},{id:"q11",section:"Planlama",label:"Gelitirme sreci nasl ilerleyecek?",placeholder:"Tasarm, gelitirme, test aamalar."},{id:"q12",section:"Takm",label:"Takm yaps ve grev dalm nasl olacak?",placeholder:"Yazlm, Tasarm, Mekanik sorumlular."},{id:"q13",section:"Kaynaklar",label:"Gerekli donanm, yazlm ve veri kaynaklar neler?",placeholder:"Hangi malzemelere ihtiyacnz var?"},{id:"q14",section:"Risk",label:"Karlalabilecek riskler ve zm plan nedir?",placeholder:"Teknik veya lojistik aksaklklara kar B plannz ne?"},{id:"q15",section:"Baar",label:"Baary nasl leceim?",placeholder:"Hangi metriklerle projenin altn kantlayacaksnz?"},{id:"q16",section:"Etki",label:"Projenin yaygn etkisi ve srdrlebilirlii nedir?",placeholder:"Gelecekte proje nasl byyecek?"},{id:"q17",section:"Etik",label:"Etik, gvenlik ve yasal boyutlar var m?",placeholder:"Veri gizlilii, gvenlik nlemleri vb."}],$1=`
Sen bir Teknofest Juri yesi ve Teknik Deerlendirme Uzmansn. Aada 17 kritik soru zerinden verilen yaplandrlm proje bilgilerini, Juri Puanlama Kriterlerine (%100 uyumlu) gre en yksek puan alacak ekilde RESM TEKNOFEST RAPORUNA dntrmelisin.

RAPOR YAZARKEN U KURALLARA KESNLKLE UY:
1. AKADEMK DL: "Yapacaz" yerine "tasarlanmtr, hedeflenmektedir" gibi akademik pasif dil kullan.
2. JUR PUANLAMA ODAI: novasyon ve teknik uygulanabilirlik blmlerine arlk ver.
3. RESM FORMAT: Balklar netletir ve teknik terminoloji kullan (Algoritma mimarisi, donanm spesifikasyonlar vb.).

GELEN VERLER:
`,j1=({user:n})=>{const[e,i]=oe.useState({}),[s,r]=oe.useState(""),[a,d]=oe.useState(!1),[h,g]=oe.useState(!1),[m,y]=oe.useState(!1),[_,S]=oe.useState(1),[b,w]=oe.useState("puan"),I=(H,O)=>{i(ee=>({...ee,[H]:O}))},A=async()=>{d(!0);try{const H=new nd({apiKey:"AIzaSyAQI4-nec1eWcUfNrnz9LrxtBCNWqMzeAM"}),O=x0.map(ue=>`${ue.label}: ${e[ue.id]||"Belirtilmedi"}`).join(`
`),ee=$1+O,Y=await H.models.generateContent({model:"gemini-3-pro-preview",contents:ee});r(Y.text||"Rapor oluturulamad."),S(4)}catch(H){console.error(H),alert("Hata olutu. Ltfen balantnz kontrol edin.")}finally{d(!1)}},L=async()=>{if(!(!s||h)){g(!0);try{const H=e.q1?e.q1.length>50?e.q1.substring(0,50)+"...":e.q1:"AI Destekli Teknofest Raporu",O={student_username:n.username,title:H,description:s,status:"submitted",updated_at:new Date().toISOString()},{error:ee}=await Ut.from("projects").insert([O]);if(ee)throw ee;alert("Raporunuz baaryla danman retmeninize yeni bir kayt olarak gnderildi!")}catch(H){console.error(H),alert("Gnderim srasnda bir hata olutu.")}finally{g(!1)}}},J=()=>{navigator.clipboard.writeText(s),y(!0),setTimeout(()=>y(!1),2e3)},V=x0.slice((_-1)*6,_*6);return T.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700 pb-12",children:[T.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[T.jsxs("div",{children:[T.jsxs("h1",{className:"text-3xl font-black text-slate-900 tracking-tight flex items-center gap-3",children:[T.jsx("div",{className:"bg-indigo-600 text-white p-2 rounded-xl shadow-lg",children:T.jsx(K1,{})}),"Juri Kabul Odakl Proje Yazma Sihirbaz"]}),T.jsx("p",{className:"text-slate-500 font-medium mt-1",children:"17 Kritik Soru Metodolojisi ile Profesyonel Teknofest Raporu."})]}),T.jsx("div",{className:"flex items-center gap-3",children:T.jsx("div",{className:"flex bg-slate-100 p-1 rounded-full",children:[1,2,3].map(H=>T.jsx("div",{className:`w-8 h-8 flex items-center justify-center rounded-full text-xs font-black transition-all ${_===H?"bg-indigo-600 text-white shadow-md":"text-slate-400"}`,children:H},H))})})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[T.jsx("div",{className:"lg:col-span-2 space-y-6",children:_<4?T.jsxs("div",{className:"glass-card p-8 rounded-[2.5rem] border border-slate-200 shadow-xl space-y-6 bg-white",children:[T.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 pb-4",children:[T.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-sm",children:["Adm ",_,": ",_===1?"Temel Konsept":_===2?"Teknik Detaylar":"Uygulanabilirlik & Etki"]}),T.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:["Sayfa ",_,"/3"]})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:V.map(H=>T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-[11px] font-black text-slate-600 uppercase tracking-tighter ml-1",children:H.label}),T.jsx("textarea",{value:e[H.id]||"",onChange:O=>I(H.id,O.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-2xl p-4 text-xs font-medium focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 outline-none transition-all min-h-[100px] resize-none",placeholder:H.placeholder})]},H.id))}),T.jsxs("div",{className:"flex gap-4 pt-4",children:[_>1&&T.jsx("button",{onClick:()=>S(H=>H-1),className:"flex-1 py-4 bg-slate-100 text-slate-600 font-black rounded-2xl uppercase tracking-widest text-xs hover:bg-slate-200 transition-all",children:"Geri"}),_<3?T.jsx("button",{onClick:()=>S(H=>H+1),className:"flex-1 py-4 bg-indigo-600 text-white font-black rounded-2xl uppercase tracking-widest text-xs hover:bg-indigo-700 shadow-lg shadow-indigo-200 transition-all",children:"Sonraki Adm"}):T.jsxs("button",{onClick:A,disabled:a,className:"flex-1 py-4 bg-slate-900 text-white font-black rounded-2xl uppercase tracking-widest text-xs hover:bg-black shadow-lg transition-all flex items-center justify-center gap-2",children:[a?T.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}):T.jsx(X1,{}),"Raporu Olutur (Juri Onayl)"]})]})]}):T.jsxs("div",{className:"glass-card p-8 rounded-[2.5rem] border border-slate-200 shadow-2xl bg-white space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-slate-100 pb-4",children:[T.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Oluturulan Teknik Rapor"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>S(1),className:"px-4 py-2 bg-slate-100 text-slate-600 font-black text-[10px] rounded-xl uppercase tracking-widest hover:bg-slate-200",children:"Dzenle"}),T.jsx("button",{onClick:J,className:`px-4 py-2 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all ${m?"bg-emerald-500 text-white":"bg-indigo-600 text-white shadow-lg shadow-indigo-200"}`,children:m?"KOPYALANDI":"METN KOPYALA"}),T.jsxs("button",{onClick:L,disabled:h,className:`px-4 py-2 rounded-xl font-black text-[10px] uppercase tracking-widest transition-all flex items-center gap-2 ${h?"bg-slate-200 text-slate-400":"bg-emerald-600 text-white shadow-lg shadow-emerald-500/20 hover:bg-emerald-700"}`,children:[h?T.jsx("div",{className:"w-3 h-3 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}):T.jsx(Q1,{}),"RETMENE GNDER"]})]})]}),T.jsx("div",{className:"flex-1 overflow-y-auto max-h-[700px] custom-scrollbar pr-2",children:T.jsx("div",{className:"prose prose-slate max-w-none",children:T.jsx("pre",{className:"text-sm md:text-base font-medium text-slate-800 whitespace-pre-wrap font-sans leading-relaxed tracking-tight",children:s})})})]})}),T.jsx("div",{className:"space-y-6",children:T.jsxs("div",{className:"glass-card p-6 rounded-[2rem] border border-slate-200 shadow-sm bg-white/40",children:[T.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-2xl mb-6",children:[T.jsx("button",{onClick:()=>w("puan"),className:`flex-1 py-2 text-[10px] font-black rounded-xl uppercase tracking-tighter transition-all ${b==="puan"?"bg-white text-indigo-600 shadow-sm":"text-slate-500"}`,children:"Puanlama"}),T.jsx("button",{onClick:()=>w("red"),className:`flex-1 py-2 text-[10px] font-black rounded-xl uppercase tracking-tighter transition-all ${b==="red"?"bg-white text-red-600 shadow-sm":"text-slate-500"}`,children:"Red Nedenleri"}),T.jsx("button",{onClick:()=>w("rehber"),className:`flex-1 py-2 text-[10px] font-black rounded-xl uppercase tracking-tighter transition-all ${b==="rehber"?"bg-white text-emerald-600 shadow-sm":"text-slate-500"}`,children:"Rehber"})]}),T.jsxs("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:[b==="puan"&&T.jsxs("div",{className:"space-y-3 animate-in fade-in duration-300",children:[T.jsx(Ls,{label:"Yenilikilik / zgnlk",score:"25 Puan",desc:"Benzerlerinden teknik fark."}),T.jsx(Ls,{label:"Teknik Uygulanabilirlik",score:"20 Puan",desc:"Kullanlan donanm/yazlm tutarll."}),T.jsx(Ls,{label:"Yntem ve Sre",score:"15 Puan",desc:"alma plannn netlii."}),T.jsx(Ls,{label:"Sosyal Etki",score:"15 Puan",desc:"Hedef kitlenin bykl."}),T.jsx(Ls,{label:"Yerlilik / Millilik",score:"15 Puan",desc:"Milli teknoloji katks."})]}),b==="red"&&T.jsxs("div",{className:"space-y-3 animate-in fade-in duration-300",children:[T.jsx(_r,{label:"Yetersiz Teknik Detay",desc:"Algoritma ve devre emas olmayan projeler elenir."}),T.jsx(_r,{label:"Hazr rn Kullanm",desc:"Piyasada olan bir cihazn aynsn yapmak kabul edilmez."}),T.jsx(_r,{label:"Zayf Literatr Taramas",desc:"Rakiplerin analiz edilmemesi byk puan kaybdr."}),T.jsx(_r,{label:"Bilimsel Dil Eksiklii",desc:"znel ve gnlk dil kullanm juri puann drr."})]})]})]})})]})]})},Ls=({label:n,score:e,desc:i})=>T.jsxs("div",{className:"p-3 bg-white rounded-xl border border-slate-100 shadow-sm",children:[T.jsxs("div",{className:"flex justify-between items-center mb-1",children:[T.jsx("span",{className:"text-[11px] font-black text-slate-700 uppercase tracking-tighter",children:n}),T.jsx("span",{className:"text-[10px] font-black text-indigo-600 px-2 py-0.5 bg-indigo-50 rounded-md",children:e})]}),T.jsx("p",{className:"text-[10px] text-slate-400 font-bold leading-tight",children:i})]}),_r=({label:n,desc:e})=>T.jsxs("div",{className:"p-3 bg-red-50/50 rounded-xl border border-red-100",children:[T.jsx("p",{className:"text-[11px] font-black text-red-700 mb-1",children:n}),T.jsx("p",{className:"text-[10px] text-red-500/70 font-bold leading-tight",children:e})]}),K1=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M12 2v2"}),T.jsx("path",{d:"M12 20v2"}),T.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),T.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),T.jsx("path",{d:"M2 12h2"}),T.jsx("path",{d:"M20 12h2"}),T.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),T.jsx("path",{d:"m19.07 4.93-1.41 1.41"}),T.jsx("path",{d:"M12 12v6"}),T.jsx("path",{d:"M12 6v6h6"})]}),X1=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"})}),Q1=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),T.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),Z1=()=>{const[n,e]=oe.useState(null),[i,s]=oe.useState("dashboard"),[r,a]=oe.useState(null),[d,h]=oe.useState([]),[g,m]=oe.useState(null),[y,_]=oe.useState(!1);oe.useEffect(()=>{const A=localStorage.getItem("currentUser");A&&e(JSON.parse(A));const L=JSON.parse(localStorage.getItem("users")||"[]");L.find(J=>J.username===mc.username)||(L.push({username:mc.username,password:mc.password,role:rt.ADMIN}),localStorage.setItem("users",JSON.stringify(L)))},[]),oe.useEffect(()=>{r?S(r.username):(h([]),m(null))},[r]);const S=async A=>{_(!0);const{data:L,error:J}=await Ut.from("projects").select("*").eq("student_username",A).order("updated_at",{ascending:!1});L&&!J?(h(L),L.length>0&&m(L[0])):(h([]),m(null)),_(!1)},b=A=>{e(A),localStorage.setItem("currentUser",JSON.stringify(A))},w=()=>{e(null),localStorage.removeItem("currentUser"),s("dashboard"),a(null)};if(!n)return T.jsx(I1,{onLogin:b});const I=()=>{if(i==="profile")return T.jsx(Y1,{user:n,onUpdate:A=>{e(A),localStorage.setItem("currentUser",JSON.stringify(A))}});if(i==="wizard")return T.jsx(j1,{user:n});if(i==="chat"&&n.role===rt.STUDENT)return T.jsx(q1,{user:n,onUpdateChat:A=>{const L={...n,chatHistory:A};e(L),localStorage.setItem("currentUser",JSON.stringify(L));const J=JSON.parse(localStorage.getItem("users")||"[]"),V=J.findIndex(H=>H.username===n.username);V>-1&&(J[V].chatHistory=A,localStorage.setItem("users",JSON.stringify(J)))}});switch(n.role){case rt.STUDENT:return T.jsx(D1,{user:n,onTabChange:s});case rt.TEACHER:return r?T.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[T.jsx("button",{onClick:()=>a(null),className:"bg-white px-6 py-2.5 rounded-2xl shadow-sm border border-slate-200 text-indigo-600 font-black text-sm flex items-center gap-2 hover:bg-slate-50 transition-all active:scale-95",children:" Listeye Geri Dn"}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[T.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[T.jsxs("div",{className:"glass-card p-6 rounded-[2.5rem] shadow-sm border border-slate-100 flex flex-col items-center text-center",children:[T.jsx("div",{className:"w-20 h-20 rounded-[1.5rem] bg-indigo-600 text-white flex items-center justify-center text-3xl font-black shadow-xl mb-4",children:r.username.charAt(0).toUpperCase()}),T.jsx("h2",{className:"text-xl font-black text-slate-900 mb-1",children:r.username}),T.jsx("p",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest mb-4",children:"RENC"})]}),T.jsxs("div",{className:"glass-card rounded-[2rem] border border-slate-100 overflow-hidden",children:[T.jsx("header",{className:"p-4 bg-slate-50 border-b border-slate-100",children:T.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"GNDERLEN PROJELER"})}),T.jsx("div",{className:"p-2 space-y-2 max-h-[400px] overflow-y-auto",children:d.length>0?d.map(A=>T.jsxs("button",{onClick:()=>m(A),className:`w-full text-left p-3 rounded-xl transition-all border ${(g==null?void 0:g.id)===A.id?"bg-indigo-50 border-indigo-100 shadow-sm":"border-transparent hover:bg-slate-50"}`,children:[T.jsx("p",{className:"text-xs font-black text-slate-800 truncate",children:A.title}),T.jsx("p",{className:"text-[9px] font-bold text-slate-400",children:new Date(A.updated_at||"").toLocaleDateString()})]},A.id)):T.jsx("p",{className:"text-[10px] p-4 text-center italic text-slate-400",children:"Rapor bulunamad."})})]})]}),T.jsx("div",{className:"lg:col-span-9",children:T.jsxs("div",{className:"glass-card rounded-[2.5rem] shadow-sm border border-slate-100 h-full flex flex-col overflow-hidden bg-white min-h-[600px]",children:[T.jsxs("header",{className:"p-8 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:"Proje Detay Raporu"}),T.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:"rencinin Teknik Hazrl"})]}),T.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-2xl flex items-center justify-center text-emerald-600",children:T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),T.jsx("polyline",{points:"14 2 14 8 20 8"})]})})]}),T.jsx("div",{className:"p-8 flex-1 overflow-y-auto custom-scrollbar",children:y?T.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-400 animate-pulse",children:[T.jsx("div",{className:"w-12 h-12 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin mb-4"}),T.jsx("p",{className:"font-black text-xs uppercase tracking-widest",children:"Ykleniyor..."})]}):g?T.jsxs("div",{className:"space-y-8",children:[T.jsxs("div",{className:"bg-indigo-50/50 p-6 rounded-[2rem] border border-indigo-100/50",children:[T.jsx("h4",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-[0.2em] mb-3",children:"BALIK"}),T.jsx("h2",{className:"text-2xl font-black text-slate-900 leading-tight",children:g.title})]}),T.jsxs("div",{className:"prose prose-slate max-w-none",children:[T.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:"RAPOR ER"}),T.jsx("div",{className:"bg-white rounded-3xl p-8 border border-slate-100 shadow-sm leading-relaxed text-slate-800 whitespace-pre-wrap font-medium text-lg",children:g.description})]})]}):T.jsx("div",{className:"flex flex-col items-center justify-center py-32 text-center opacity-40",children:T.jsx("p",{className:"font-black text-sm uppercase tracking-widest",children:"Henz bir rapor seilmedi."})})})]})})]})]}):T.jsx(G1,{teacher:n,onViewStudent:a});case rt.ADMIN:return T.jsx(z1,{admin:n});default:return T.jsx("div",{children:"Yetkisiz Eriim"})}};return T.jsx(M1,{user:n,onLogout:w,activeTab:i,onTabChange:s,children:I()})},Uv=document.getElementById("root");if(!Uv)throw new Error("Could not find root element to mount to");const W1=gS.createRoot(Uv);W1.render(T.jsx(aS.StrictMode,{children:T.jsx(Z1,{})}));export{zc as g};
